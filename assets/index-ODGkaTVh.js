var Gx=t=>{throw TypeError(t)};var Qf=(t,e,n)=>e.has(t)||Gx("Cannot "+n);var z=(t,e,n)=>(Qf(t,e,"read from private field"),n?n.call(t):e.get(t)),Se=(t,e,n)=>e.has(t)?Gx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),fe=(t,e,n,r)=>(Qf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),It=(t,e,n)=>(Qf(t,e,"access private method"),n);var wu=(t,e,n,r)=>({set _(s){fe(t,e,s,n)},get _(){return z(t,e,r)}});function eP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function U_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $_={exports:{}},kh={},z_={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kc=Symbol.for("react.element"),tP=Symbol.for("react.portal"),nP=Symbol.for("react.fragment"),rP=Symbol.for("react.strict_mode"),sP=Symbol.for("react.profiler"),iP=Symbol.for("react.provider"),oP=Symbol.for("react.context"),aP=Symbol.for("react.forward_ref"),lP=Symbol.for("react.suspense"),cP=Symbol.for("react.memo"),uP=Symbol.for("react.lazy"),Kx=Symbol.iterator;function dP(t){return t===null||typeof t!="object"?null:(t=Kx&&t[Kx]||t["@@iterator"],typeof t=="function"?t:null)}var B_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q_=Object.assign,W_={};function ja(t,e,n){this.props=t,this.context=e,this.refs=W_,this.updater=n||B_}ja.prototype.isReactComponent={};ja.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ja.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function H_(){}H_.prototype=ja.prototype;function zg(t,e,n){this.props=t,this.context=e,this.refs=W_,this.updater=n||B_}var Bg=zg.prototype=new H_;Bg.constructor=zg;q_(Bg,ja.prototype);Bg.isPureReactComponent=!0;var Qx=Array.isArray,G_=Object.prototype.hasOwnProperty,qg={current:null},K_={key:!0,ref:!0,__self:!0,__source:!0};function Q_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)G_.call(e,r)&&!K_.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:kc,type:t,key:i,ref:o,props:s,_owner:qg.current}}function hP(t,e){return{$$typeof:kc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wg(t){return typeof t=="object"&&t!==null&&t.$$typeof===kc}function fP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Yx=/\/+/g;function Yf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fP(""+t.key):e.toString(36)}function ed(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case kc:case tP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Yf(o,0):r,Qx(s)?(n="",t!=null&&(n=t.replace(Yx,"$&/")+"/"),ed(s,e,n,"",function(d){return d})):s!=null&&(Wg(s)&&(s=hP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Yx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Qx(t))for(var l=0;l<t.length;l++){i=t[l];var u=r+Yf(i,l);o+=ed(i,e,n,u,s)}else if(u=dP(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=r+Yf(i,l++),o+=ed(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function _u(t,e,n){if(t==null)return t;var r=[],s=0;return ed(t,r,"","",function(i){return e.call(n,i,s++)}),r}function pP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qt={current:null},td={transition:null},mP={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:td,ReactCurrentOwner:qg};function Y_(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:_u,forEach:function(t,e,n){_u(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _u(t,function(){e++}),e},toArray:function(t){return _u(t,function(e){return e})||[]},only:function(t){if(!Wg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=ja;ye.Fragment=nP;ye.Profiler=sP;ye.PureComponent=zg;ye.StrictMode=rP;ye.Suspense=lP;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mP;ye.act=Y_;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=q_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=qg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)G_.call(e,u)&&!K_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:kc,type:t.type,key:s,ref:i,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:oP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iP,_context:t},t.Consumer=t};ye.createElement=Q_;ye.createFactory=function(t){var e=Q_.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:aP,render:t}};ye.isValidElement=Wg;ye.lazy=function(t){return{$$typeof:uP,_payload:{_status:-1,_result:t},_init:pP}};ye.memo=function(t,e){return{$$typeof:cP,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=td.transition;td.transition={};try{t()}finally{td.transition=e}};ye.unstable_act=Y_;ye.useCallback=function(t,e){return qt.current.useCallback(t,e)};ye.useContext=function(t){return qt.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return qt.current.useDeferredValue(t)};ye.useEffect=function(t,e){return qt.current.useEffect(t,e)};ye.useId=function(){return qt.current.useId()};ye.useImperativeHandle=function(t,e,n){return qt.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return qt.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return qt.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return qt.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return qt.current.useReducer(t,e,n)};ye.useRef=function(t){return qt.current.useRef(t)};ye.useState=function(t){return qt.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return qt.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return qt.current.useTransition()};ye.version="18.3.1";z_.exports=ye;var v=z_.exports;const K=U_(v),Hg=eP({__proto__:null,default:K},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP=v,yP=Symbol.for("react.element"),vP=Symbol.for("react.fragment"),xP=Object.prototype.hasOwnProperty,wP=gP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_P={key:!0,ref:!0,__self:!0,__source:!0};function X_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)xP.call(e,r)&&!_P.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:yP,type:t,key:i,ref:o,props:s,_owner:wP.current}}kh.Fragment=vP;kh.jsx=X_;kh.jsxs=X_;$_.exports=kh;var a=$_.exports,J_={exports:{}},mn={},Z_={exports:{}},eE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,M){var U=D.length;D.push(M);e:for(;0<U;){var Y=U-1>>>1,G=D[Y];if(0<s(G,M))D[Y]=M,D[U]=G,U=Y;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var M=D[0],U=D.pop();if(U!==M){D[0]=U;e:for(var Y=0,G=D.length,ee=G>>>1;Y<ee;){var pe=2*(Y+1)-1,Pe=D[pe],$e=pe+1,me=D[$e];if(0>s(Pe,U))$e<G&&0>s(me,Pe)?(D[Y]=me,D[$e]=U,Y=$e):(D[Y]=Pe,D[pe]=U,Y=pe);else if($e<G&&0>s(me,U))D[Y]=me,D[$e]=U,Y=$e;else break e}}return M}function s(D,M){var U=D.sortIndex-M.sortIndex;return U!==0?U:D.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],h=1,f=null,p=3,g=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(D){for(var M=n(d);M!==null;){if(M.callback===null)r(d);else if(M.startTime<=D)r(d),M.sortIndex=M.expirationTime,e(u,M);else break;M=n(d)}}function A(D){if(w=!1,T(D),!y)if(n(u)!==null)y=!0,H(O);else{var M=n(d);M!==null&&J(A,M.startTime-D)}}function O(D,M){y=!1,w&&(w=!1,b(S),S=-1),g=!0;var U=p;try{for(T(M),f=n(u);f!==null&&(!(f.expirationTime>M)||D&&!N());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,p=f.priorityLevel;var G=Y(f.expirationTime<=M);M=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(u)&&r(u),T(M)}else r(u);f=n(u)}if(f!==null)var ee=!0;else{var pe=n(d);pe!==null&&J(A,pe.startTime-M),ee=!1}return ee}finally{f=null,p=U,g=!1}}var L=!1,C=null,S=-1,P=5,R=-1;function N(){return!(t.unstable_now()-R<P)}function j(){if(C!==null){var D=t.unstable_now();R=D;var M=!0;try{M=C(!0,D)}finally{M?k():(L=!1,C=null)}}else L=!1}var k;if(typeof E=="function")k=function(){E(j)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,re=q.port2;q.port1.onmessage=j,k=function(){re.postMessage(null)}}else k=function(){_(j,0)};function H(D){C=D,L||(L=!0,k())}function J(D,M){S=_(function(){D(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,H(O))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var M=3;break;default:M=p}var U=p;p=M;try{return D()}finally{p=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var U=p;p=D;try{return M()}finally{p=U}},t.unstable_scheduleCallback=function(D,M,U){var Y=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Y+U:Y):U=Y,D){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=U+G,D={id:h++,callback:M,priorityLevel:D,startTime:U,expirationTime:G,sortIndex:-1},U>Y?(D.sortIndex=U,e(d,D),n(u)===null&&D===n(d)&&(w?(b(S),S=-1):w=!0,J(A,U-Y))):(D.sortIndex=G,e(u,D),y||g||(y=!0,H(O))),D},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(D){var M=p;return function(){var U=p;p=M;try{return D.apply(this,arguments)}finally{p=U}}}})(eE);Z_.exports=eE;var EP=Z_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bP=v,fn=EP;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tE=new Set,Kl={};function to(t,e){ha(t,e),ha(t+"Capture",e)}function ha(t,e){for(Kl[t]=e,t=0;t<e.length;t++)tE.add(e[t])}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jp=Object.prototype.hasOwnProperty,TP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xx={},Jx={};function SP(t){return Jp.call(Jx,t)?!0:Jp.call(Xx,t)?!1:TP.test(t)?Jx[t]=!0:(Xx[t]=!0,!1)}function CP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function NP(t,e,n,r){if(e===null||typeof e>"u"||CP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tt[t]=new Wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tt[e]=new Wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tt[t]=new Wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tt[t]=new Wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tt[t]=new Wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tt[t]=new Wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tt[t]=new Wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tt[t]=new Wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tt[t]=new Wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gg=/[\-:]([a-z])/g;function Kg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gg,Kg);Tt[e]=new Wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gg,Kg);Tt[e]=new Wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gg,Kg);Tt[e]=new Wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tt[t]=new Wt(t,1,!1,t.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tt[t]=new Wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qg(t,e,n,r){var s=Tt.hasOwnProperty(e)?Tt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NP(e,n,s,r)&&(n=null),r||s===null?SP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Zr=bP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eu=Symbol.for("react.element"),Ro=Symbol.for("react.portal"),ko=Symbol.for("react.fragment"),Yg=Symbol.for("react.strict_mode"),Zp=Symbol.for("react.profiler"),nE=Symbol.for("react.provider"),rE=Symbol.for("react.context"),Xg=Symbol.for("react.forward_ref"),em=Symbol.for("react.suspense"),tm=Symbol.for("react.suspense_list"),Jg=Symbol.for("react.memo"),gs=Symbol.for("react.lazy"),sE=Symbol.for("react.offscreen"),Zx=Symbol.iterator;function dl(t){return t===null||typeof t!="object"?null:(t=Zx&&t[Zx]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,Xf;function _l(t){if(Xf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xf=e&&e[1]||""}return`
`+Xf+t}var Jf=!1;function Zf(t,e){if(!t||Jf)return"";Jf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Jf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_l(t):""}function IP(t){switch(t.tag){case 5:return _l(t.type);case 16:return _l("Lazy");case 13:return _l("Suspense");case 19:return _l("SuspenseList");case 0:case 2:case 15:return t=Zf(t.type,!1),t;case 11:return t=Zf(t.type.render,!1),t;case 1:return t=Zf(t.type,!0),t;default:return""}}function nm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ko:return"Fragment";case Ro:return"Portal";case Zp:return"Profiler";case Yg:return"StrictMode";case em:return"Suspense";case tm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rE:return(t.displayName||"Context")+".Consumer";case nE:return(t._context.displayName||"Context")+".Provider";case Xg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jg:return e=t.displayName||null,e!==null?e:nm(t.type)||"Memo";case gs:e=t._payload,t=t._init;try{return nm(t(e))}catch{}}return null}function AP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nm(e);case 8:return e===Yg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ys(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PP(t){var e=iE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bu(t){t._valueTracker||(t._valueTracker=PP(t))}function oE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=iE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rm(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function e0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ys(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aE(t,e){e=e.checked,e!=null&&Qg(t,"checked",e,!1)}function sm(t,e){aE(t,e);var n=Ys(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?im(t,e.type,n):e.hasOwnProperty("defaultValue")&&im(t,e.type,Ys(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function t0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function im(t,e,n){(e!=="number"||Rd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var El=Array.isArray;function qo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ys(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function om(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function n0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(El(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ys(n)}}function lE(t,e){var n=Ys(e.value),r=Ys(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function r0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function am(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tu,uE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tu=Tu||document.createElement("div"),Tu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ql(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var kl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RP=["Webkit","ms","Moz","O"];Object.keys(kl).forEach(function(t){RP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kl[e]=kl[t]})});function dE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||kl.hasOwnProperty(t)&&kl[t]?(""+e).trim():e+"px"}function hE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=dE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var kP=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lm(t,e){if(e){if(kP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function cm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var um=null;function Zg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dm=null,Wo=null,Ho=null;function s0(t){if(t=Mc(t)){if(typeof dm!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Lh(e),dm(t.stateNode,t.type,e))}}function fE(t){Wo?Ho?Ho.push(t):Ho=[t]:Wo=t}function pE(){if(Wo){var t=Wo,e=Ho;if(Ho=Wo=null,s0(t),e)for(t=0;t<e.length;t++)s0(e[t])}}function mE(t,e){return t(e)}function gE(){}var ep=!1;function yE(t,e,n){if(ep)return t(e,n);ep=!0;try{return mE(t,e,n)}finally{ep=!1,(Wo!==null||Ho!==null)&&(gE(),pE())}}function Yl(t,e){var n=t.stateNode;if(n===null)return null;var r=Lh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var hm=!1;if(zr)try{var hl={};Object.defineProperty(hl,"passive",{get:function(){hm=!0}}),window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{hm=!1}function jP(t,e,n,r,s,i,o,l,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var jl=!1,kd=null,jd=!1,fm=null,DP={onError:function(t){jl=!0,kd=t}};function MP(t,e,n,r,s,i,o,l,u){jl=!1,kd=null,jP.apply(DP,arguments)}function OP(t,e,n,r,s,i,o,l,u){if(MP.apply(this,arguments),jl){if(jl){var d=kd;jl=!1,kd=null}else throw Error(W(198));jd||(jd=!0,fm=d)}}function no(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function i0(t){if(no(t)!==t)throw Error(W(188))}function LP(t){var e=t.alternate;if(!e){if(e=no(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return i0(s),t;if(i===r)return i0(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function xE(t){return t=LP(t),t!==null?wE(t):null}function wE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wE(t);if(e!==null)return e;t=t.sibling}return null}var _E=fn.unstable_scheduleCallback,o0=fn.unstable_cancelCallback,VP=fn.unstable_shouldYield,FP=fn.unstable_requestPaint,tt=fn.unstable_now,UP=fn.unstable_getCurrentPriorityLevel,ey=fn.unstable_ImmediatePriority,EE=fn.unstable_UserBlockingPriority,Dd=fn.unstable_NormalPriority,$P=fn.unstable_LowPriority,bE=fn.unstable_IdlePriority,jh=null,ur=null;function zP(t){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(jh,t,void 0,(t.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:WP,BP=Math.log,qP=Math.LN2;function WP(t){return t>>>=0,t===0?32:31-(BP(t)/qP|0)|0}var Su=64,Cu=4194304;function bl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Md(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=bl(l):(i&=o,i!==0&&(r=bl(i)))}else o=n&~s,o!==0?r=bl(o):i!==0&&(r=bl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zn(e),s=1<<n,r|=t[n],e&=~s;return r}function HP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-zn(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=HP(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function pm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function TE(){var t=Su;return Su<<=1,!(Su&4194240)&&(Su=64),t}function tp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zn(e),t[e]=n}function KP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-zn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ty(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ke=0;function SE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var CE,ny,NE,IE,AE,mm=!1,Nu=[],Os=null,Ls=null,Vs=null,Xl=new Map,Jl=new Map,xs=[],QP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function a0(t,e){switch(t){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(e.pointerId)}}function fl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Mc(e),e!==null&&ny(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function YP(t,e,n,r,s){switch(e){case"focusin":return Os=fl(Os,t,e,n,r,s),!0;case"dragenter":return Ls=fl(Ls,t,e,n,r,s),!0;case"mouseover":return Vs=fl(Vs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Xl.set(i,fl(Xl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Jl.set(i,fl(Jl.get(i)||null,t,e,n,r,s)),!0}return!1}function PE(t){var e=Ai(t.target);if(e!==null){var n=no(e);if(n!==null){if(e=n.tag,e===13){if(e=vE(n),e!==null){t.blockedOn=e,AE(t.priority,function(){NE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);um=r,n.target.dispatchEvent(r),um=null}else return e=Mc(n),e!==null&&ny(e),t.blockedOn=n,!1;e.shift()}return!0}function l0(t,e,n){nd(t)&&n.delete(e)}function XP(){mm=!1,Os!==null&&nd(Os)&&(Os=null),Ls!==null&&nd(Ls)&&(Ls=null),Vs!==null&&nd(Vs)&&(Vs=null),Xl.forEach(l0),Jl.forEach(l0)}function pl(t,e){t.blockedOn===e&&(t.blockedOn=null,mm||(mm=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,XP)))}function Zl(t){function e(s){return pl(s,t)}if(0<Nu.length){pl(Nu[0],t);for(var n=1;n<Nu.length;n++){var r=Nu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Os!==null&&pl(Os,t),Ls!==null&&pl(Ls,t),Vs!==null&&pl(Vs,t),Xl.forEach(e),Jl.forEach(e),n=0;n<xs.length;n++)r=xs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xs.length&&(n=xs[0],n.blockedOn===null);)PE(n),n.blockedOn===null&&xs.shift()}var Go=Zr.ReactCurrentBatchConfig,Od=!0;function JP(t,e,n,r){var s=ke,i=Go.transition;Go.transition=null;try{ke=1,ry(t,e,n,r)}finally{ke=s,Go.transition=i}}function ZP(t,e,n,r){var s=ke,i=Go.transition;Go.transition=null;try{ke=4,ry(t,e,n,r)}finally{ke=s,Go.transition=i}}function ry(t,e,n,r){if(Od){var s=gm(t,e,n,r);if(s===null)dp(t,e,r,Ld,n),a0(t,r);else if(YP(s,t,e,n,r))r.stopPropagation();else if(a0(t,r),e&4&&-1<QP.indexOf(t)){for(;s!==null;){var i=Mc(s);if(i!==null&&CE(i),i=gm(t,e,n,r),i===null&&dp(t,e,r,Ld,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else dp(t,e,r,null,n)}}var Ld=null;function gm(t,e,n,r){if(Ld=null,t=Zg(r),t=Ai(t),t!==null)if(e=no(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ld=t,null}function RE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UP()){case ey:return 1;case EE:return 4;case Dd:case $P:return 16;case bE:return 536870912;default:return 16}default:return 16}}var Ps=null,sy=null,rd=null;function kE(){if(rd)return rd;var t,e=sy,n=e.length,r,s="value"in Ps?Ps.value:Ps.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return rd=s.slice(t,1<r?1-r:void 0)}function sd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Iu(){return!0}function c0(){return!1}function gn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Iu:c0,this.isPropagationStopped=c0,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Iu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Iu)},persist:function(){},isPersistent:Iu}),e}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iy=gn(Da),Dc=He({},Da,{view:0,detail:0}),e2=gn(Dc),np,rp,ml,Dh=He({},Dc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ml&&(ml&&t.type==="mousemove"?(np=t.screenX-ml.screenX,rp=t.screenY-ml.screenY):rp=np=0,ml=t),np)},movementY:function(t){return"movementY"in t?t.movementY:rp}}),u0=gn(Dh),t2=He({},Dh,{dataTransfer:0}),n2=gn(t2),r2=He({},Dc,{relatedTarget:0}),sp=gn(r2),s2=He({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),i2=gn(s2),o2=He({},Da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),a2=gn(o2),l2=He({},Da,{data:0}),d0=gn(l2),c2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=d2[t])?!!e[t]:!1}function oy(){return h2}var f2=He({},Dc,{key:function(t){if(t.key){var e=c2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?u2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oy,charCode:function(t){return t.type==="keypress"?sd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p2=gn(f2),m2=He({},Dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),h0=gn(m2),g2=He({},Dc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oy}),y2=gn(g2),v2=He({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),x2=gn(v2),w2=He({},Dh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_2=gn(w2),E2=[9,13,27,32],ay=zr&&"CompositionEvent"in window,Dl=null;zr&&"documentMode"in document&&(Dl=document.documentMode);var b2=zr&&"TextEvent"in window&&!Dl,jE=zr&&(!ay||Dl&&8<Dl&&11>=Dl),f0=" ",p0=!1;function DE(t,e){switch(t){case"keyup":return E2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ME(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jo=!1;function T2(t,e){switch(t){case"compositionend":return ME(e);case"keypress":return e.which!==32?null:(p0=!0,f0);case"textInput":return t=e.data,t===f0&&p0?null:t;default:return null}}function S2(t,e){if(jo)return t==="compositionend"||!ay&&DE(t,e)?(t=kE(),rd=sy=Ps=null,jo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jE&&e.locale!=="ko"?null:e.data;default:return null}}var C2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!C2[t.type]:e==="textarea"}function OE(t,e,n,r){fE(r),e=Vd(e,"onChange"),0<e.length&&(n=new iy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ml=null,ec=null;function N2(t){GE(t,0)}function Mh(t){var e=Oo(t);if(oE(e))return t}function I2(t,e){if(t==="change")return e}var LE=!1;if(zr){var ip;if(zr){var op="oninput"in document;if(!op){var g0=document.createElement("div");g0.setAttribute("oninput","return;"),op=typeof g0.oninput=="function"}ip=op}else ip=!1;LE=ip&&(!document.documentMode||9<document.documentMode)}function y0(){Ml&&(Ml.detachEvent("onpropertychange",VE),ec=Ml=null)}function VE(t){if(t.propertyName==="value"&&Mh(ec)){var e=[];OE(e,ec,t,Zg(t)),yE(N2,e)}}function A2(t,e,n){t==="focusin"?(y0(),Ml=e,ec=n,Ml.attachEvent("onpropertychange",VE)):t==="focusout"&&y0()}function P2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mh(ec)}function R2(t,e){if(t==="click")return Mh(e)}function k2(t,e){if(t==="input"||t==="change")return Mh(e)}function j2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wn=typeof Object.is=="function"?Object.is:j2;function tc(t,e){if(Wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Jp.call(e,s)||!Wn(t[s],e[s]))return!1}return!0}function v0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function x0(t,e){var n=v0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=v0(n)}}function FE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?FE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function UE(){for(var t=window,e=Rd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rd(t.document)}return e}function ly(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function D2(t){var e=UE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&FE(n.ownerDocument.documentElement,n)){if(r!==null&&ly(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=x0(n,i);var o=x0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var M2=zr&&"documentMode"in document&&11>=document.documentMode,Do=null,ym=null,Ol=null,vm=!1;function w0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vm||Do==null||Do!==Rd(r)||(r=Do,"selectionStart"in r&&ly(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ol&&tc(Ol,r)||(Ol=r,r=Vd(ym,"onSelect"),0<r.length&&(e=new iy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Do)))}function Au(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mo={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},ap={},$E={};zr&&($E=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Oh(t){if(ap[t])return ap[t];if(!Mo[t])return t;var e=Mo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $E)return ap[t]=e[n];return t}var zE=Oh("animationend"),BE=Oh("animationiteration"),qE=Oh("animationstart"),WE=Oh("transitionend"),HE=new Map,_0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(t,e){HE.set(t,e),to(e,[t])}for(var lp=0;lp<_0.length;lp++){var cp=_0[lp],O2=cp.toLowerCase(),L2=cp[0].toUpperCase()+cp.slice(1);oi(O2,"on"+L2)}oi(zE,"onAnimationEnd");oi(BE,"onAnimationIteration");oi(qE,"onAnimationStart");oi("dblclick","onDoubleClick");oi("focusin","onFocus");oi("focusout","onBlur");oi(WE,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tl));function E0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,OP(r,e,void 0,t),t.currentTarget=null}function GE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;E0(s,l,d),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,d=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;E0(s,l,d),i=u}}}if(jd)throw t=fm,jd=!1,fm=null,t}function Fe(t,e){var n=e[bm];n===void 0&&(n=e[bm]=new Set);var r=t+"__bubble";n.has(r)||(KE(e,t,2,!1),n.add(r))}function up(t,e,n){var r=0;e&&(r|=4),KE(n,t,r,e)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function nc(t){if(!t[Pu]){t[Pu]=!0,tE.forEach(function(n){n!=="selectionchange"&&(V2.has(n)||up(n,!1,t),up(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pu]||(e[Pu]=!0,up("selectionchange",!1,e))}}function KE(t,e,n,r){switch(RE(e)){case 1:var s=JP;break;case 4:s=ZP;break;default:s=ry}n=s.bind(null,e,n,t),s=void 0,!hm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function dp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ai(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}yE(function(){var d=i,h=Zg(n),f=[];e:{var p=HE.get(t);if(p!==void 0){var g=iy,y=t;switch(t){case"keypress":if(sd(n)===0)break e;case"keydown":case"keyup":g=p2;break;case"focusin":y="focus",g=sp;break;case"focusout":y="blur",g=sp;break;case"beforeblur":case"afterblur":g=sp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=u0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=n2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=y2;break;case zE:case BE:case qE:g=i2;break;case WE:g=x2;break;case"scroll":g=e2;break;case"wheel":g=_2;break;case"copy":case"cut":case"paste":g=a2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=h0}var w=(e&4)!==0,_=!w&&t==="scroll",b=w?p!==null?p+"Capture":null:p;w=[];for(var E=d,T;E!==null;){T=E;var A=T.stateNode;if(T.tag===5&&A!==null&&(T=A,b!==null&&(A=Yl(E,b),A!=null&&w.push(rc(E,A,T)))),_)break;E=E.return}0<w.length&&(p=new g(p,y,null,n,h),f.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==um&&(y=n.relatedTarget||n.fromElement)&&(Ai(y)||y[Br]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=d,y=y?Ai(y):null,y!==null&&(_=no(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=d),g!==y)){if(w=u0,A="onMouseLeave",b="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(w=h0,A="onPointerLeave",b="onPointerEnter",E="pointer"),_=g==null?p:Oo(g),T=y==null?p:Oo(y),p=new w(A,E+"leave",g,n,h),p.target=_,p.relatedTarget=T,A=null,Ai(h)===d&&(w=new w(b,E+"enter",y,n,h),w.target=T,w.relatedTarget=_,A=w),_=A,g&&y)t:{for(w=g,b=y,E=0,T=w;T;T=wo(T))E++;for(T=0,A=b;A;A=wo(A))T++;for(;0<E-T;)w=wo(w),E--;for(;0<T-E;)b=wo(b),T--;for(;E--;){if(w===b||b!==null&&w===b.alternate)break t;w=wo(w),b=wo(b)}w=null}else w=null;g!==null&&b0(f,p,g,w,!1),y!==null&&_!==null&&b0(f,_,y,w,!0)}}e:{if(p=d?Oo(d):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var O=I2;else if(m0(p))if(LE)O=k2;else{O=P2;var L=A2}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=R2);if(O&&(O=O(t,d))){OE(f,O,n,h);break e}L&&L(t,p,d),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&im(p,"number",p.value)}switch(L=d?Oo(d):window,t){case"focusin":(m0(L)||L.contentEditable==="true")&&(Do=L,ym=d,Ol=null);break;case"focusout":Ol=ym=Do=null;break;case"mousedown":vm=!0;break;case"contextmenu":case"mouseup":case"dragend":vm=!1,w0(f,n,h);break;case"selectionchange":if(M2)break;case"keydown":case"keyup":w0(f,n,h)}var C;if(ay)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else jo?DE(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(jE&&n.locale!=="ko"&&(jo||S!=="onCompositionStart"?S==="onCompositionEnd"&&jo&&(C=kE()):(Ps=h,sy="value"in Ps?Ps.value:Ps.textContent,jo=!0)),L=Vd(d,S),0<L.length&&(S=new d0(S,t,null,n,h),f.push({event:S,listeners:L}),C?S.data=C:(C=ME(n),C!==null&&(S.data=C)))),(C=b2?T2(t,n):S2(t,n))&&(d=Vd(d,"onBeforeInput"),0<d.length&&(h=new d0("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=C))}GE(f,e)})}function rc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Yl(t,n),i!=null&&r.unshift(rc(t,i,s)),i=Yl(t,e),i!=null&&r.push(rc(t,i,s))),t=t.return}return r}function wo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function b0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,d=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&d!==null&&(l=d,s?(u=Yl(n,i),u!=null&&o.unshift(rc(n,u,l))):s||(u=Yl(n,i),u!=null&&o.push(rc(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var F2=/\r\n?/g,U2=/\u0000|\uFFFD/g;function T0(t){return(typeof t=="string"?t:""+t).replace(F2,`
`).replace(U2,"")}function Ru(t,e,n){if(e=T0(e),T0(t)!==e&&n)throw Error(W(425))}function Fd(){}var xm=null,wm=null;function _m(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Em=typeof setTimeout=="function"?setTimeout:void 0,$2=typeof clearTimeout=="function"?clearTimeout:void 0,S0=typeof Promise=="function"?Promise:void 0,z2=typeof queueMicrotask=="function"?queueMicrotask:typeof S0<"u"?function(t){return S0.resolve(null).then(t).catch(B2)}:Em;function B2(t){setTimeout(function(){throw t})}function hp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Zl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Zl(e)}function Fs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function C0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ma=Math.random().toString(36).slice(2),ar="__reactFiber$"+Ma,sc="__reactProps$"+Ma,Br="__reactContainer$"+Ma,bm="__reactEvents$"+Ma,q2="__reactListeners$"+Ma,W2="__reactHandles$"+Ma;function Ai(t){var e=t[ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Br]||n[ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=C0(t);t!==null;){if(n=t[ar])return n;t=C0(t)}return e}t=n,n=t.parentNode}return null}function Mc(t){return t=t[ar]||t[Br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Oo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Lh(t){return t[sc]||null}var Tm=[],Lo=-1;function ai(t){return{current:t}}function Ue(t){0>Lo||(t.current=Tm[Lo],Tm[Lo]=null,Lo--)}function Oe(t,e){Lo++,Tm[Lo]=t.current,t.current=e}var Xs={},Ot=ai(Xs),en=ai(!1),Bi=Xs;function fa(t,e){var n=t.type.contextTypes;if(!n)return Xs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function tn(t){return t=t.childContextTypes,t!=null}function Ud(){Ue(en),Ue(Ot)}function N0(t,e,n){if(Ot.current!==Xs)throw Error(W(168));Oe(Ot,e),Oe(en,n)}function QE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,AP(t)||"Unknown",s));return He({},n,r)}function $d(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xs,Bi=Ot.current,Oe(Ot,t),Oe(en,en.current),!0}function I0(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=QE(t,e,Bi),r.__reactInternalMemoizedMergedChildContext=t,Ue(en),Ue(Ot),Oe(Ot,t)):Ue(en),Oe(en,n)}var Rr=null,Vh=!1,fp=!1;function YE(t){Rr===null?Rr=[t]:Rr.push(t)}function H2(t){Vh=!0,YE(t)}function li(){if(!fp&&Rr!==null){fp=!0;var t=0,e=ke;try{var n=Rr;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rr=null,Vh=!1}catch(s){throw Rr!==null&&(Rr=Rr.slice(t+1)),_E(ey,li),s}finally{ke=e,fp=!1}}return null}var Vo=[],Fo=0,zd=null,Bd=0,wn=[],_n=0,qi=null,Mr=1,Or="";function bi(t,e){Vo[Fo++]=Bd,Vo[Fo++]=zd,zd=t,Bd=e}function XE(t,e,n){wn[_n++]=Mr,wn[_n++]=Or,wn[_n++]=qi,qi=t;var r=Mr;t=Or;var s=32-zn(r)-1;r&=~(1<<s),n+=1;var i=32-zn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Mr=1<<32-zn(e)+s|n<<s|r,Or=i+t}else Mr=1<<i|n<<s|r,Or=t}function cy(t){t.return!==null&&(bi(t,1),XE(t,1,0))}function uy(t){for(;t===zd;)zd=Vo[--Fo],Vo[Fo]=null,Bd=Vo[--Fo],Vo[Fo]=null;for(;t===qi;)qi=wn[--_n],wn[_n]=null,Or=wn[--_n],wn[_n]=null,Mr=wn[--_n],wn[_n]=null}var dn=null,cn=null,Be=!1,Un=null;function JE(t,e){var n=Sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function A0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dn=t,cn=Fs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dn=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qi!==null?{id:Mr,overflow:Or}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dn=t,cn=null,!0):!1;default:return!1}}function Sm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cm(t){if(Be){var e=cn;if(e){var n=e;if(!A0(t,e)){if(Sm(t))throw Error(W(418));e=Fs(n.nextSibling);var r=dn;e&&A0(t,e)?JE(r,n):(t.flags=t.flags&-4097|2,Be=!1,dn=t)}}else{if(Sm(t))throw Error(W(418));t.flags=t.flags&-4097|2,Be=!1,dn=t}}}function P0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dn=t}function ku(t){if(t!==dn)return!1;if(!Be)return P0(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_m(t.type,t.memoizedProps)),e&&(e=cn)){if(Sm(t))throw ZE(),Error(W(418));for(;e;)JE(t,e),e=Fs(e.nextSibling)}if(P0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cn=Fs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=dn?Fs(t.stateNode.nextSibling):null;return!0}function ZE(){for(var t=cn;t;)t=Fs(t.nextSibling)}function pa(){cn=dn=null,Be=!1}function dy(t){Un===null?Un=[t]:Un.push(t)}var G2=Zr.ReactCurrentBatchConfig;function gl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function ju(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function R0(t){var e=t._init;return e(t._payload)}function eb(t){function e(b,E){if(t){var T=b.deletions;T===null?(b.deletions=[E],b.flags|=16):T.push(E)}}function n(b,E){if(!t)return null;for(;E!==null;)e(b,E),E=E.sibling;return null}function r(b,E){for(b=new Map;E!==null;)E.key!==null?b.set(E.key,E):b.set(E.index,E),E=E.sibling;return b}function s(b,E){return b=Bs(b,E),b.index=0,b.sibling=null,b}function i(b,E,T){return b.index=T,t?(T=b.alternate,T!==null?(T=T.index,T<E?(b.flags|=2,E):T):(b.flags|=2,E)):(b.flags|=1048576,E)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,E,T,A){return E===null||E.tag!==6?(E=wp(T,b.mode,A),E.return=b,E):(E=s(E,T),E.return=b,E)}function u(b,E,T,A){var O=T.type;return O===ko?h(b,E,T.props.children,A,T.key):E!==null&&(E.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===gs&&R0(O)===E.type)?(A=s(E,T.props),A.ref=gl(b,E,T),A.return=b,A):(A=dd(T.type,T.key,T.props,null,b.mode,A),A.ref=gl(b,E,T),A.return=b,A)}function d(b,E,T,A){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=_p(T,b.mode,A),E.return=b,E):(E=s(E,T.children||[]),E.return=b,E)}function h(b,E,T,A,O){return E===null||E.tag!==7?(E=Ui(T,b.mode,A,O),E.return=b,E):(E=s(E,T),E.return=b,E)}function f(b,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return E=wp(""+E,b.mode,T),E.return=b,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Eu:return T=dd(E.type,E.key,E.props,null,b.mode,T),T.ref=gl(b,null,E),T.return=b,T;case Ro:return E=_p(E,b.mode,T),E.return=b,E;case gs:var A=E._init;return f(b,A(E._payload),T)}if(El(E)||dl(E))return E=Ui(E,b.mode,T,null),E.return=b,E;ju(b,E)}return null}function p(b,E,T,A){var O=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return O!==null?null:l(b,E,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Eu:return T.key===O?u(b,E,T,A):null;case Ro:return T.key===O?d(b,E,T,A):null;case gs:return O=T._init,p(b,E,O(T._payload),A)}if(El(T)||dl(T))return O!==null?null:h(b,E,T,A,null);ju(b,T)}return null}function g(b,E,T,A,O){if(typeof A=="string"&&A!==""||typeof A=="number")return b=b.get(T)||null,l(E,b,""+A,O);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Eu:return b=b.get(A.key===null?T:A.key)||null,u(E,b,A,O);case Ro:return b=b.get(A.key===null?T:A.key)||null,d(E,b,A,O);case gs:var L=A._init;return g(b,E,T,L(A._payload),O)}if(El(A)||dl(A))return b=b.get(T)||null,h(E,b,A,O,null);ju(E,A)}return null}function y(b,E,T,A){for(var O=null,L=null,C=E,S=E=0,P=null;C!==null&&S<T.length;S++){C.index>S?(P=C,C=null):P=C.sibling;var R=p(b,C,T[S],A);if(R===null){C===null&&(C=P);break}t&&C&&R.alternate===null&&e(b,C),E=i(R,E,S),L===null?O=R:L.sibling=R,L=R,C=P}if(S===T.length)return n(b,C),Be&&bi(b,S),O;if(C===null){for(;S<T.length;S++)C=f(b,T[S],A),C!==null&&(E=i(C,E,S),L===null?O=C:L.sibling=C,L=C);return Be&&bi(b,S),O}for(C=r(b,C);S<T.length;S++)P=g(C,b,S,T[S],A),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?S:P.key),E=i(P,E,S),L===null?O=P:L.sibling=P,L=P);return t&&C.forEach(function(N){return e(b,N)}),Be&&bi(b,S),O}function w(b,E,T,A){var O=dl(T);if(typeof O!="function")throw Error(W(150));if(T=O.call(T),T==null)throw Error(W(151));for(var L=O=null,C=E,S=E=0,P=null,R=T.next();C!==null&&!R.done;S++,R=T.next()){C.index>S?(P=C,C=null):P=C.sibling;var N=p(b,C,R.value,A);if(N===null){C===null&&(C=P);break}t&&C&&N.alternate===null&&e(b,C),E=i(N,E,S),L===null?O=N:L.sibling=N,L=N,C=P}if(R.done)return n(b,C),Be&&bi(b,S),O;if(C===null){for(;!R.done;S++,R=T.next())R=f(b,R.value,A),R!==null&&(E=i(R,E,S),L===null?O=R:L.sibling=R,L=R);return Be&&bi(b,S),O}for(C=r(b,C);!R.done;S++,R=T.next())R=g(C,b,S,R.value,A),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?S:R.key),E=i(R,E,S),L===null?O=R:L.sibling=R,L=R);return t&&C.forEach(function(j){return e(b,j)}),Be&&bi(b,S),O}function _(b,E,T,A){if(typeof T=="object"&&T!==null&&T.type===ko&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Eu:e:{for(var O=T.key,L=E;L!==null;){if(L.key===O){if(O=T.type,O===ko){if(L.tag===7){n(b,L.sibling),E=s(L,T.props.children),E.return=b,b=E;break e}}else if(L.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===gs&&R0(O)===L.type){n(b,L.sibling),E=s(L,T.props),E.ref=gl(b,L,T),E.return=b,b=E;break e}n(b,L);break}else e(b,L);L=L.sibling}T.type===ko?(E=Ui(T.props.children,b.mode,A,T.key),E.return=b,b=E):(A=dd(T.type,T.key,T.props,null,b.mode,A),A.ref=gl(b,E,T),A.return=b,b=A)}return o(b);case Ro:e:{for(L=T.key;E!==null;){if(E.key===L)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){n(b,E.sibling),E=s(E,T.children||[]),E.return=b,b=E;break e}else{n(b,E);break}else e(b,E);E=E.sibling}E=_p(T,b.mode,A),E.return=b,b=E}return o(b);case gs:return L=T._init,_(b,E,L(T._payload),A)}if(El(T))return y(b,E,T,A);if(dl(T))return w(b,E,T,A);ju(b,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,E!==null&&E.tag===6?(n(b,E.sibling),E=s(E,T),E.return=b,b=E):(n(b,E),E=wp(T,b.mode,A),E.return=b,b=E),o(b)):n(b,E)}return _}var ma=eb(!0),tb=eb(!1),qd=ai(null),Wd=null,Uo=null,hy=null;function fy(){hy=Uo=Wd=null}function py(t){var e=qd.current;Ue(qd),t._currentValue=e}function Nm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ko(t,e){Wd=t,hy=Uo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zt=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(hy!==t)if(t={context:t,memoizedValue:e,next:null},Uo===null){if(Wd===null)throw Error(W(308));Uo=t,Wd.dependencies={lanes:0,firstContext:t}}else Uo=Uo.next=t;return e}var Pi=null;function my(t){Pi===null?Pi=[t]:Pi.push(t)}function nb(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,my(e)):(n.next=s.next,s.next=n),e.interleaved=n,qr(t,r)}function qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ys=!1;function gy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Us(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,qr(t,n)}return s=r.interleaved,s===null?(e.next=e,my(r)):(e.next=s.next,s.next=e),r.interleaved=e,qr(t,n)}function id(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ty(t,n)}}function k0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hd(t,e,n,r){var s=t.updateQueue;ys=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,h=d=u=null,l=i;do{var p=l.lane,g=l.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,w=l;switch(p=e,g=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(g,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(g,f,p):y,p==null)break e;f=He({},f,p);break e;case 2:ys=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else g={eventTime:g,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=g,u=f):h=h.next=g,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(u=f),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Hi|=o,t.lanes=o,t.memoizedState=f}}function j0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var Oc={},dr=ai(Oc),ic=ai(Oc),oc=ai(Oc);function Ri(t){if(t===Oc)throw Error(W(174));return t}function yy(t,e){switch(Oe(oc,e),Oe(ic,t),Oe(dr,Oc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:am(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=am(e,t)}Ue(dr),Oe(dr,e)}function ga(){Ue(dr),Ue(ic),Ue(oc)}function sb(t){Ri(oc.current);var e=Ri(dr.current),n=am(e,t.type);e!==n&&(Oe(ic,t),Oe(dr,n))}function vy(t){ic.current===t&&(Ue(dr),Ue(ic))}var qe=ai(0);function Gd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pp=[];function xy(){for(var t=0;t<pp.length;t++)pp[t]._workInProgressVersionPrimary=null;pp.length=0}var od=Zr.ReactCurrentDispatcher,mp=Zr.ReactCurrentBatchConfig,Wi=0,We=null,ct=null,pt=null,Kd=!1,Ll=!1,ac=0,K2=0;function At(){throw Error(W(321))}function wy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wn(t[n],e[n]))return!1;return!0}function _y(t,e,n,r,s,i){if(Wi=i,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,od.current=t===null||t.memoizedState===null?J2:Z2,t=n(r,s),Ll){i=0;do{if(Ll=!1,ac=0,25<=i)throw Error(W(301));i+=1,pt=ct=null,e.updateQueue=null,od.current=eR,t=n(r,s)}while(Ll)}if(od.current=Qd,e=ct!==null&&ct.next!==null,Wi=0,pt=ct=We=null,Kd=!1,e)throw Error(W(300));return t}function Ey(){var t=ac!==0;return ac=0,t}function nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?We.memoizedState=pt=t:pt=pt.next=t,pt}function An(){if(ct===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var e=pt===null?We.memoizedState:pt.next;if(e!==null)pt=e,ct=t;else{if(t===null)throw Error(W(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},pt===null?We.memoizedState=pt=t:pt=pt.next=t}return pt}function lc(t,e){return typeof e=="function"?e(t):e}function gp(t){var e=An(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=ct,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,d=i;do{var h=d.lane;if((Wi&h)===h)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=f,o=r):u=u.next=f,We.lanes|=h,Hi|=h}d=d.next}while(d!==null&&d!==i);u===null?o=r:u.next=l,Wn(r,e.memoizedState)||(Zt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,We.lanes|=i,Hi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yp(t){var e=An(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Wn(i,e.memoizedState)||(Zt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ib(){}function ob(t,e){var n=We,r=An(),s=e(),i=!Wn(r.memoizedState,s);if(i&&(r.memoizedState=s,Zt=!0),r=r.queue,by(cb.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,cc(9,lb.bind(null,n,r,s,e),void 0,null),mt===null)throw Error(W(349));Wi&30||ab(n,e,s)}return s}function ab(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lb(t,e,n,r){e.value=n,e.getSnapshot=r,ub(e)&&db(t)}function cb(t,e,n){return n(function(){ub(e)&&db(t)})}function ub(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wn(t,n)}catch{return!0}}function db(t){var e=qr(t,1);e!==null&&Bn(e,t,1,-1)}function D0(t){var e=nr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lc,lastRenderedState:t},e.queue=t,t=t.dispatch=X2.bind(null,We,t),[e.memoizedState,t]}function cc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hb(){return An().memoizedState}function ad(t,e,n,r){var s=nr();We.flags|=t,s.memoizedState=cc(1|e,n,void 0,r===void 0?null:r)}function Fh(t,e,n,r){var s=An();r=r===void 0?null:r;var i=void 0;if(ct!==null){var o=ct.memoizedState;if(i=o.destroy,r!==null&&wy(r,o.deps)){s.memoizedState=cc(e,n,i,r);return}}We.flags|=t,s.memoizedState=cc(1|e,n,i,r)}function M0(t,e){return ad(8390656,8,t,e)}function by(t,e){return Fh(2048,8,t,e)}function fb(t,e){return Fh(4,2,t,e)}function pb(t,e){return Fh(4,4,t,e)}function mb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gb(t,e,n){return n=n!=null?n.concat([t]):null,Fh(4,4,mb.bind(null,e,t),n)}function Ty(){}function yb(t,e){var n=An();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vb(t,e){var n=An();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xb(t,e,n){return Wi&21?(Wn(n,e)||(n=TE(),We.lanes|=n,Hi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zt=!0),t.memoizedState=n)}function Q2(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=mp.transition;mp.transition={};try{t(!1),e()}finally{ke=n,mp.transition=r}}function wb(){return An().memoizedState}function Y2(t,e,n){var r=zs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_b(t))Eb(e,n);else if(n=nb(t,e,n,r),n!==null){var s=Bt();Bn(n,t,r,s),bb(n,e,r)}}function X2(t,e,n){var r=zs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_b(t))Eb(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Wn(l,o)){var u=e.interleaved;u===null?(s.next=s,my(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=nb(t,e,s,r),n!==null&&(s=Bt(),Bn(n,t,r,s),bb(n,e,r))}}function _b(t){var e=t.alternate;return t===We||e!==null&&e===We}function Eb(t,e){Ll=Kd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ty(t,n)}}var Qd={readContext:In,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},J2={readContext:In,useCallback:function(t,e){return nr().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:M0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ad(4194308,4,mb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ad(4194308,4,t,e)},useInsertionEffect:function(t,e){return ad(4,2,t,e)},useMemo:function(t,e){var n=nr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Y2.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=nr();return t={current:t},e.memoizedState=t},useState:D0,useDebugValue:Ty,useDeferredValue:function(t){return nr().memoizedState=t},useTransition:function(){var t=D0(!1),e=t[0];return t=Q2.bind(null,t[1]),nr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,s=nr();if(Be){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),mt===null)throw Error(W(349));Wi&30||ab(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,M0(cb.bind(null,r,i,t),[t]),r.flags|=2048,cc(9,lb.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=nr(),e=mt.identifierPrefix;if(Be){var n=Or,r=Mr;n=(r&~(1<<32-zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ac++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=K2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Z2={readContext:In,useCallback:yb,useContext:In,useEffect:by,useImperativeHandle:gb,useInsertionEffect:fb,useLayoutEffect:pb,useMemo:vb,useReducer:gp,useRef:hb,useState:function(){return gp(lc)},useDebugValue:Ty,useDeferredValue:function(t){var e=An();return xb(e,ct.memoizedState,t)},useTransition:function(){var t=gp(lc)[0],e=An().memoizedState;return[t,e]},useMutableSource:ib,useSyncExternalStore:ob,useId:wb,unstable_isNewReconciler:!1},eR={readContext:In,useCallback:yb,useContext:In,useEffect:by,useImperativeHandle:gb,useInsertionEffect:fb,useLayoutEffect:pb,useMemo:vb,useReducer:yp,useRef:hb,useState:function(){return yp(lc)},useDebugValue:Ty,useDeferredValue:function(t){var e=An();return ct===null?e.memoizedState=t:xb(e,ct.memoizedState,t)},useTransition:function(){var t=yp(lc)[0],e=An().memoizedState;return[t,e]},useMutableSource:ib,useSyncExternalStore:ob,useId:wb,unstable_isNewReconciler:!1};function Mn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Im(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Uh={isMounted:function(t){return(t=t._reactInternals)?no(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Bt(),s=zs(t),i=Fr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Us(t,i,s),e!==null&&(Bn(e,t,s,r),id(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Bt(),s=zs(t),i=Fr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Us(t,i,s),e!==null&&(Bn(e,t,s,r),id(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bt(),r=zs(t),s=Fr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Us(t,s,r),e!==null&&(Bn(e,t,r,n),id(e,t,r))}};function O0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!tc(n,r)||!tc(s,i):!0}function Tb(t,e,n){var r=!1,s=Xs,i=e.contextType;return typeof i=="object"&&i!==null?i=In(i):(s=tn(e)?Bi:Ot.current,r=e.contextTypes,i=(r=r!=null)?fa(t,s):Xs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Uh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function L0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Uh.enqueueReplaceState(e,e.state,null)}function Am(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},gy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=In(i):(i=tn(e)?Bi:Ot.current,s.context=fa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Im(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Uh.enqueueReplaceState(s,s.state,null),Hd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ya(t,e){try{var n="",r=e;do n+=IP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function vp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Pm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tR=typeof WeakMap=="function"?WeakMap:Map;function Sb(t,e,n){n=Fr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xd||(Xd=!0,Um=r),Pm(t,e)},n}function Cb(t,e,n){n=Fr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Pm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Pm(t,e),typeof r!="function"&&($s===null?$s=new Set([this]):$s.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function V0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=mR.bind(null,t,e,n),e.then(t,t))}function F0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function U0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fr(-1,1),e.tag=2,Us(n,e,1))),n.lanes|=1),t)}var nR=Zr.ReactCurrentOwner,Zt=!1;function $t(t,e,n,r){e.child=t===null?tb(e,null,n,r):ma(e,t.child,n,r)}function $0(t,e,n,r,s){n=n.render;var i=e.ref;return Ko(e,s),r=_y(t,e,n,r,i,s),n=Ey(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Wr(t,e,s)):(Be&&n&&cy(e),e.flags|=1,$t(t,e,r,s),e.child)}function z0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ky(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Nb(t,e,i,r,s)):(t=dd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:tc,n(o,r)&&t.ref===e.ref)return Wr(t,e,s)}return e.flags|=1,t=Bs(i,r),t.ref=e.ref,t.return=e,e.child=t}function Nb(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(tc(i,r)&&t.ref===e.ref)if(Zt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Zt=!0);else return e.lanes=t.lanes,Wr(t,e,s)}return Rm(t,e,n,r,s)}function Ib(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(zo,an),an|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(zo,an),an|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Oe(zo,an),an|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Oe(zo,an),an|=r;return $t(t,e,s,n),e.child}function Ab(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rm(t,e,n,r,s){var i=tn(n)?Bi:Ot.current;return i=fa(e,i),Ko(e,s),n=_y(t,e,n,r,i,s),r=Ey(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Wr(t,e,s)):(Be&&r&&cy(e),e.flags|=1,$t(t,e,n,s),e.child)}function B0(t,e,n,r,s){if(tn(n)){var i=!0;$d(e)}else i=!1;if(Ko(e,s),e.stateNode===null)ld(t,e),Tb(e,n,r),Am(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=In(d):(d=tn(n)?Bi:Ot.current,d=fa(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==d)&&L0(e,o,r,d),ys=!1;var p=e.memoizedState;o.state=p,Hd(e,r,o,s),u=e.memoizedState,l!==r||p!==u||en.current||ys?(typeof h=="function"&&(Im(e,n,h,r),u=e.memoizedState),(l=ys||O0(e,n,l,r,p,u,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,rb(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Mn(e.type,l),o.props=d,f=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=In(u):(u=tn(n)?Bi:Ot.current,u=fa(e,u));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==u)&&L0(e,o,r,u),ys=!1,p=e.memoizedState,o.state=p,Hd(e,r,o,s);var y=e.memoizedState;l!==f||p!==y||en.current||ys?(typeof g=="function"&&(Im(e,n,g,r),y=e.memoizedState),(d=ys||O0(e,n,d,r,p,y,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return km(t,e,n,r,i,s)}function km(t,e,n,r,s,i){Ab(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&I0(e,n,!1),Wr(t,e,i);r=e.stateNode,nR.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ma(e,t.child,null,i),e.child=ma(e,null,l,i)):$t(t,e,l,i),e.memoizedState=r.state,s&&I0(e,n,!0),e.child}function Pb(t){var e=t.stateNode;e.pendingContext?N0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&N0(t,e.context,!1),yy(t,e.containerInfo)}function q0(t,e,n,r,s){return pa(),dy(s),e.flags|=256,$t(t,e,n,r),e.child}var jm={dehydrated:null,treeContext:null,retryLane:0};function Dm(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rb(t,e,n){var r=e.pendingProps,s=qe.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Oe(qe,s&1),t===null)return Cm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Bh(o,r,0,null),t=Ui(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Dm(n),e.memoizedState=jm,t):Sy(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return rR(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Bs(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Bs(l,i):(i=Ui(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Dm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=jm,r}return i=t.child,t=i.sibling,r=Bs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sy(t,e){return e=Bh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Du(t,e,n,r){return r!==null&&dy(r),ma(e,t.child,null,n),t=Sy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=vp(Error(W(422))),Du(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Bh({mode:"visible",children:r.children},s,0,null),i=Ui(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ma(e,t.child,null,o),e.child.memoizedState=Dm(o),e.memoizedState=jm,i);if(!(e.mode&1))return Du(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(W(419)),r=vp(i,r,void 0),Du(t,e,o,r)}if(l=(o&t.childLanes)!==0,Zt||l){if(r=mt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,qr(t,s),Bn(r,t,s,-1))}return Ry(),r=vp(Error(W(421))),Du(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=gR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,cn=Fs(s.nextSibling),dn=e,Be=!0,Un=null,t!==null&&(wn[_n++]=Mr,wn[_n++]=Or,wn[_n++]=qi,Mr=t.id,Or=t.overflow,qi=e),e=Sy(e,r.children),e.flags|=4096,e)}function W0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Nm(t.return,e,n)}function xp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function kb(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($t(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&W0(t,n,e);else if(t.tag===19)W0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Oe(qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Gd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),xp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Gd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}xp(e,!0,n,null,i);break;case"together":xp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ld(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Bs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sR(t,e,n){switch(e.tag){case 3:Pb(e),pa();break;case 5:sb(e);break;case 1:tn(e.type)&&$d(e);break;case 4:yy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Oe(qd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Oe(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?Rb(t,e,n):(Oe(qe,qe.current&1),t=Wr(t,e,n),t!==null?t.sibling:null);Oe(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kb(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Oe(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,Ib(t,e,n)}return Wr(t,e,n)}var jb,Mm,Db,Mb;jb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mm=function(){};Db=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ri(dr.current);var i=null;switch(n){case"input":s=rm(t,s),r=rm(t,r),i=[];break;case"select":s=He({},s,{value:void 0}),r=He({},r,{value:void 0}),i=[];break;case"textarea":s=om(t,s),r=om(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fd)}lm(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Kl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var u=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Kl.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Fe("scroll",t),i||l===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};Mb=function(t,e,n,r){n!==r&&(e.flags|=4)};function yl(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iR(t,e,n){var r=e.pendingProps;switch(uy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return tn(e.type)&&Ud(),Pt(e),null;case 3:return r=e.stateNode,ga(),Ue(en),Ue(Ot),xy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ku(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Un!==null&&(Bm(Un),Un=null))),Mm(t,e),Pt(e),null;case 5:vy(e);var s=Ri(oc.current);if(n=e.type,t!==null&&e.stateNode!=null)Db(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Pt(e),null}if(t=Ri(dr.current),ku(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ar]=e,r[sc]=i,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(s=0;s<Tl.length;s++)Fe(Tl[s],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":e0(r,i),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fe("invalid",r);break;case"textarea":n0(r,i),Fe("invalid",r)}lm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ru(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ru(r.textContent,l,t),s=["children",""+l]):Kl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":bu(r),t0(r,i,!0);break;case"textarea":bu(r),r0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Fd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ar]=e,t[sc]=r,jb(t,e,!1,!1),e.stateNode=t;e:{switch(o=cm(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),s=r;break;case"iframe":case"object":case"embed":Fe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Tl.length;s++)Fe(Tl[s],t);s=r;break;case"source":Fe("error",t),s=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),s=r;break;case"details":Fe("toggle",t),s=r;break;case"input":e0(t,r),s=rm(t,r),Fe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=He({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":n0(t,r),s=om(t,r),Fe("invalid",t);break;default:s=r}lm(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?hE(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&uE(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ql(t,u):typeof u=="number"&&Ql(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Kl.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Fe("scroll",t):u!=null&&Qg(t,i,u,o))}switch(n){case"input":bu(t),t0(t,r,!1);break;case"textarea":bu(t),r0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ys(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?qo(t,!!r.multiple,i,!1):r.defaultValue!=null&&qo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Fd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)Mb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Ri(oc.current),Ri(dr.current),ku(e)){if(r=e.stateNode,n=e.memoizedProps,r[ar]=e,(i=r.nodeValue!==n)&&(t=dn,t!==null))switch(t.tag){case 3:Ru(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ru(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ar]=e,e.stateNode=r}return Pt(e),null;case 13:if(Ue(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&cn!==null&&e.mode&1&&!(e.flags&128))ZE(),pa(),e.flags|=98560,i=!1;else if(i=ku(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[ar]=e}else pa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),i=!1}else Un!==null&&(Bm(Un),Un=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?ut===0&&(ut=3):Ry())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return ga(),Mm(t,e),t===null&&nc(e.stateNode.containerInfo),Pt(e),null;case 10:return py(e.type._context),Pt(e),null;case 17:return tn(e.type)&&Ud(),Pt(e),null;case 19:if(Ue(qe),i=e.memoizedState,i===null)return Pt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)yl(i,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gd(t),o!==null){for(e.flags|=128,yl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe(qe,qe.current&1|2),e.child}t=t.sibling}i.tail!==null&&tt()>va&&(e.flags|=128,r=!0,yl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Gd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),yl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Be)return Pt(e),null}else 2*tt()-i.renderingStartTime>va&&n!==1073741824&&(e.flags|=128,r=!0,yl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=tt(),e.sibling=null,n=qe.current,Oe(qe,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return Py(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?an&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function oR(t,e){switch(uy(e),e.tag){case 1:return tn(e.type)&&Ud(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ga(),Ue(en),Ue(Ot),xy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vy(e),null;case 13:if(Ue(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));pa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(qe),null;case 4:return ga(),null;case 10:return py(e.type._context),null;case 22:case 23:return Py(),null;case 24:return null;default:return null}}var Mu=!1,Dt=!1,aR=typeof WeakSet=="function"?WeakSet:Set,te=null;function $o(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function Om(t,e,n){try{n()}catch(r){Je(t,e,r)}}var H0=!1;function lR(t,e){if(xm=Od,t=UE(),ly(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++d===s&&(l=o),p===i&&++h===r&&(u=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(wm={focusedElem:t,selectionRange:n},Od=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,_=y.memoizedState,b=e.stateNode,E=b.getSnapshotBeforeUpdate(e.elementType===e.type?w:Mn(e.type,w),_);b.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(A){Je(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return y=H0,H0=!1,y}function Vl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Om(e,n,i)}s=s.next}while(s!==r)}}function $h(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ob(t){var e=t.alternate;e!==null&&(t.alternate=null,Ob(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ar],delete e[sc],delete e[bm],delete e[q2],delete e[W2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Lb(t){return t.tag===5||t.tag===3||t.tag===4}function G0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fd));else if(r!==4&&(t=t.child,t!==null))for(Vm(t,e,n),t=t.sibling;t!==null;)Vm(t,e,n),t=t.sibling}function Fm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fm(t,e,n),t=t.sibling;t!==null;)Fm(t,e,n),t=t.sibling}var wt=null,Fn=!1;function us(t,e,n){for(n=n.child;n!==null;)Vb(t,e,n),n=n.sibling}function Vb(t,e,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(jh,n)}catch{}switch(n.tag){case 5:Dt||$o(n,e);case 6:var r=wt,s=Fn;wt=null,us(t,e,n),wt=r,Fn=s,wt!==null&&(Fn?(t=wt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wt.removeChild(n.stateNode));break;case 18:wt!==null&&(Fn?(t=wt,n=n.stateNode,t.nodeType===8?hp(t.parentNode,n):t.nodeType===1&&hp(t,n),Zl(t)):hp(wt,n.stateNode));break;case 4:r=wt,s=Fn,wt=n.stateNode.containerInfo,Fn=!0,us(t,e,n),wt=r,Fn=s;break;case 0:case 11:case 14:case 15:if(!Dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Om(n,e,o),s=s.next}while(s!==r)}us(t,e,n);break;case 1:if(!Dt&&($o(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Je(n,e,l)}us(t,e,n);break;case 21:us(t,e,n);break;case 22:n.mode&1?(Dt=(r=Dt)||n.memoizedState!==null,us(t,e,n),Dt=r):us(t,e,n);break;default:us(t,e,n)}}function K0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new aR),e.forEach(function(r){var s=yR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:wt=l.stateNode,Fn=!1;break e;case 3:wt=l.stateNode.containerInfo,Fn=!0;break e;case 4:wt=l.stateNode.containerInfo,Fn=!0;break e}l=l.return}if(wt===null)throw Error(W(160));Vb(i,o,s),wt=null,Fn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){Je(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Fb(e,t),e=e.sibling}function Fb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jn(e,t),Zn(t),r&4){try{Vl(3,t,t.return),$h(3,t)}catch(w){Je(t,t.return,w)}try{Vl(5,t,t.return)}catch(w){Je(t,t.return,w)}}break;case 1:jn(e,t),Zn(t),r&512&&n!==null&&$o(n,n.return);break;case 5:if(jn(e,t),Zn(t),r&512&&n!==null&&$o(n,n.return),t.flags&32){var s=t.stateNode;try{Ql(s,"")}catch(w){Je(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&aE(s,i),cm(l,o);var d=cm(l,i);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?hE(s,f):h==="dangerouslySetInnerHTML"?uE(s,f):h==="children"?Ql(s,f):Qg(s,h,f,d)}switch(l){case"input":sm(s,i);break;case"textarea":lE(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?qo(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?qo(s,!!i.multiple,i.defaultValue,!0):qo(s,!!i.multiple,i.multiple?[]:"",!1))}s[sc]=i}catch(w){Je(t,t.return,w)}}break;case 6:if(jn(e,t),Zn(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Je(t,t.return,w)}}break;case 3:if(jn(e,t),Zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zl(e.containerInfo)}catch(w){Je(t,t.return,w)}break;case 4:jn(e,t),Zn(t);break;case 13:jn(e,t),Zn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Iy=tt())),r&4&&K0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Dt=(d=Dt)||h,jn(e,t),Dt=d):jn(e,t),Zn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(te=t,h=t.child;h!==null;){for(f=te=h;te!==null;){switch(p=te,g=p.child,p.tag){case 0:case 11:case 14:case 15:Vl(4,p,p.return);break;case 1:$o(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){Je(r,n,w)}}break;case 5:$o(p,p.return);break;case 22:if(p.memoizedState!==null){Y0(f);continue}}g!==null?(g.return=p,te=g):Y0(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=dE("display",o))}catch(w){Je(t,t.return,w)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(w){Je(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:jn(e,t),Zn(t),r&4&&K0(t);break;case 21:break;default:jn(e,t),Zn(t)}}function Zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Lb(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ql(s,""),r.flags&=-33);var i=G0(t);Fm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=G0(t);Vm(t,l,o);break;default:throw Error(W(161))}}catch(u){Je(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cR(t,e,n){te=t,Ub(t)}function Ub(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Mu;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Dt;l=Mu;var d=Dt;if(Mu=o,(Dt=u)&&!d)for(te=s;te!==null;)o=te,u=o.child,o.tag===22&&o.memoizedState!==null?X0(s):u!==null?(u.return=o,te=u):X0(s);for(;i!==null;)te=i,Ub(i),i=i.sibling;te=s,Mu=l,Dt=d}Q0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):Q0(t)}}function Q0(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dt||$h(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Mn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&j0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}j0(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Zl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Dt||e.flags&512&&Lm(e)}catch(p){Je(e,e.return,p)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function Y0(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function X0(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$h(4,e)}catch(u){Je(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Je(e,s,u)}}var i=e.return;try{Lm(e)}catch(u){Je(e,i,u)}break;case 5:var o=e.return;try{Lm(e)}catch(u){Je(e,o,u)}}}catch(u){Je(e,e.return,u)}if(e===t){te=null;break}var l=e.sibling;if(l!==null){l.return=e.return,te=l;break}te=e.return}}var uR=Math.ceil,Yd=Zr.ReactCurrentDispatcher,Cy=Zr.ReactCurrentOwner,Cn=Zr.ReactCurrentBatchConfig,be=0,mt=null,ot=null,bt=0,an=0,zo=ai(0),ut=0,uc=null,Hi=0,zh=0,Ny=0,Fl=null,Xt=null,Iy=0,va=1/0,Pr=null,Xd=!1,Um=null,$s=null,Ou=!1,Rs=null,Jd=0,Ul=0,$m=null,cd=-1,ud=0;function Bt(){return be&6?tt():cd!==-1?cd:cd=tt()}function zs(t){return t.mode&1?be&2&&bt!==0?bt&-bt:G2.transition!==null?(ud===0&&(ud=TE()),ud):(t=ke,t!==0||(t=window.event,t=t===void 0?16:RE(t.type)),t):1}function Bn(t,e,n,r){if(50<Ul)throw Ul=0,$m=null,Error(W(185));jc(t,n,r),(!(be&2)||t!==mt)&&(t===mt&&(!(be&2)&&(zh|=n),ut===4&&ws(t,bt)),nn(t,r),n===1&&be===0&&!(e.mode&1)&&(va=tt()+500,Vh&&li()))}function nn(t,e){var n=t.callbackNode;GP(t,e);var r=Md(t,t===mt?bt:0);if(r===0)n!==null&&o0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&o0(n),e===1)t.tag===0?H2(J0.bind(null,t)):YE(J0.bind(null,t)),z2(function(){!(be&6)&&li()}),n=null;else{switch(SE(r)){case 1:n=ey;break;case 4:n=EE;break;case 16:n=Dd;break;case 536870912:n=bE;break;default:n=Dd}n=Kb(n,$b.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $b(t,e){if(cd=-1,ud=0,be&6)throw Error(W(327));var n=t.callbackNode;if(Qo()&&t.callbackNode!==n)return null;var r=Md(t,t===mt?bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zd(t,r);else{e=r;var s=be;be|=2;var i=Bb();(mt!==t||bt!==e)&&(Pr=null,va=tt()+500,Fi(t,e));do try{fR();break}catch(l){zb(t,l)}while(!0);fy(),Yd.current=i,be=s,ot!==null?e=0:(mt=null,bt=0,e=ut)}if(e!==0){if(e===2&&(s=pm(t),s!==0&&(r=s,e=zm(t,s))),e===1)throw n=uc,Fi(t,0),ws(t,r),nn(t,tt()),n;if(e===6)ws(t,r);else{if(s=t.current.alternate,!(r&30)&&!dR(s)&&(e=Zd(t,r),e===2&&(i=pm(t),i!==0&&(r=i,e=zm(t,i))),e===1))throw n=uc,Fi(t,0),ws(t,r),nn(t,tt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Ti(t,Xt,Pr);break;case 3:if(ws(t,r),(r&130023424)===r&&(e=Iy+500-tt(),10<e)){if(Md(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Bt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Em(Ti.bind(null,t,Xt,Pr),e);break}Ti(t,Xt,Pr);break;case 4:if(ws(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-zn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uR(r/1960))-r,10<r){t.timeoutHandle=Em(Ti.bind(null,t,Xt,Pr),r);break}Ti(t,Xt,Pr);break;case 5:Ti(t,Xt,Pr);break;default:throw Error(W(329))}}}return nn(t,tt()),t.callbackNode===n?$b.bind(null,t):null}function zm(t,e){var n=Fl;return t.current.memoizedState.isDehydrated&&(Fi(t,e).flags|=256),t=Zd(t,e),t!==2&&(e=Xt,Xt=n,e!==null&&Bm(e)),t}function Bm(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function dR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Wn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ws(t,e){for(e&=~Ny,e&=~zh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zn(e),r=1<<n;t[n]=-1,e&=~r}}function J0(t){if(be&6)throw Error(W(327));Qo();var e=Md(t,0);if(!(e&1))return nn(t,tt()),null;var n=Zd(t,e);if(t.tag!==0&&n===2){var r=pm(t);r!==0&&(e=r,n=zm(t,r))}if(n===1)throw n=uc,Fi(t,0),ws(t,e),nn(t,tt()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ti(t,Xt,Pr),nn(t,tt()),null}function Ay(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(va=tt()+500,Vh&&li())}}function Gi(t){Rs!==null&&Rs.tag===0&&!(be&6)&&Qo();var e=be;be|=1;var n=Cn.transition,r=ke;try{if(Cn.transition=null,ke=1,t)return t()}finally{ke=r,Cn.transition=n,be=e,!(be&6)&&li()}}function Py(){an=zo.current,Ue(zo)}function Fi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$2(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(uy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ud();break;case 3:ga(),Ue(en),Ue(Ot),xy();break;case 5:vy(r);break;case 4:ga();break;case 13:Ue(qe);break;case 19:Ue(qe);break;case 10:py(r.type._context);break;case 22:case 23:Py()}n=n.return}if(mt=t,ot=t=Bs(t.current,null),bt=an=e,ut=0,uc=null,Ny=zh=Hi=0,Xt=Fl=null,Pi!==null){for(e=0;e<Pi.length;e++)if(n=Pi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Pi=null}return t}function zb(t,e){do{var n=ot;try{if(fy(),od.current=Qd,Kd){for(var r=We.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Kd=!1}if(Wi=0,pt=ct=We=null,Ll=!1,ac=0,Cy.current=null,n===null||n.return===null){ut=1,uc=e,ot=null;break}e:{var i=t,o=n.return,l=n,u=e;if(e=bt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=F0(o);if(g!==null){g.flags&=-257,U0(g,o,l,i,e),g.mode&1&&V0(i,d,e),e=g,u=d;var y=e.updateQueue;if(y===null){var w=new Set;w.add(u),e.updateQueue=w}else y.add(u);break e}else{if(!(e&1)){V0(i,d,e),Ry();break e}u=Error(W(426))}}else if(Be&&l.mode&1){var _=F0(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),U0(_,o,l,i,e),dy(ya(u,l));break e}}i=u=ya(u,l),ut!==4&&(ut=2),Fl===null?Fl=[i]:Fl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=Sb(i,u,e);k0(i,b);break e;case 1:l=u;var E=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&($s===null||!$s.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=Cb(i,l,e);k0(i,A);break e}}i=i.return}while(i!==null)}Wb(n)}catch(O){e=O,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function Bb(){var t=Yd.current;return Yd.current=Qd,t===null?Qd:t}function Ry(){(ut===0||ut===3||ut===2)&&(ut=4),mt===null||!(Hi&268435455)&&!(zh&268435455)||ws(mt,bt)}function Zd(t,e){var n=be;be|=2;var r=Bb();(mt!==t||bt!==e)&&(Pr=null,Fi(t,e));do try{hR();break}catch(s){zb(t,s)}while(!0);if(fy(),be=n,Yd.current=r,ot!==null)throw Error(W(261));return mt=null,bt=0,ut}function hR(){for(;ot!==null;)qb(ot)}function fR(){for(;ot!==null&&!VP();)qb(ot)}function qb(t){var e=Gb(t.alternate,t,an);t.memoizedProps=t.pendingProps,e===null?Wb(t):ot=e,Cy.current=null}function Wb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=oR(n,e),n!==null){n.flags&=32767,ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,ot=null;return}}else if(n=iR(n,e,an),n!==null){ot=n;return}if(e=e.sibling,e!==null){ot=e;return}ot=e=t}while(e!==null);ut===0&&(ut=5)}function Ti(t,e,n){var r=ke,s=Cn.transition;try{Cn.transition=null,ke=1,pR(t,e,n,r)}finally{Cn.transition=s,ke=r}return null}function pR(t,e,n,r){do Qo();while(Rs!==null);if(be&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(KP(t,i),t===mt&&(ot=mt=null,bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ou||(Ou=!0,Kb(Dd,function(){return Qo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Cn.transition,Cn.transition=null;var o=ke;ke=1;var l=be;be|=4,Cy.current=null,lR(t,n),Fb(n,t),D2(wm),Od=!!xm,wm=xm=null,t.current=n,cR(n),FP(),be=l,ke=o,Cn.transition=i}else t.current=n;if(Ou&&(Ou=!1,Rs=t,Jd=s),i=t.pendingLanes,i===0&&($s=null),zP(n.stateNode),nn(t,tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xd)throw Xd=!1,t=Um,Um=null,t;return Jd&1&&t.tag!==0&&Qo(),i=t.pendingLanes,i&1?t===$m?Ul++:(Ul=0,$m=t):Ul=0,li(),null}function Qo(){if(Rs!==null){var t=SE(Jd),e=Cn.transition,n=ke;try{if(Cn.transition=null,ke=16>t?16:t,Rs===null)var r=!1;else{if(t=Rs,Rs=null,Jd=0,be&6)throw Error(W(331));var s=be;for(be|=4,te=t.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(te=d;te!==null;){var h=te;switch(h.tag){case 0:case 11:case 15:Vl(8,h,i)}var f=h.child;if(f!==null)f.return=h,te=f;else for(;te!==null;){h=te;var p=h.sibling,g=h.return;if(Ob(h),h===d){te=null;break}if(p!==null){p.return=g,te=p;break}te=g}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vl(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,te=b;break e}te=i.return}}var E=t.current;for(te=E;te!==null;){o=te;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,te=T;else e:for(o=E;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$h(9,l)}}catch(O){Je(l,l.return,O)}if(l===o){te=null;break e}var A=l.sibling;if(A!==null){A.return=l.return,te=A;break e}te=l.return}}if(be=s,li(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(jh,t)}catch{}r=!0}return r}finally{ke=n,Cn.transition=e}}return!1}function Z0(t,e,n){e=ya(n,e),e=Sb(t,e,1),t=Us(t,e,1),e=Bt(),t!==null&&(jc(t,1,e),nn(t,e))}function Je(t,e,n){if(t.tag===3)Z0(t,t,n);else for(;e!==null;){if(e.tag===3){Z0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($s===null||!$s.has(r))){t=ya(n,t),t=Cb(e,t,1),e=Us(e,t,1),t=Bt(),e!==null&&(jc(e,1,t),nn(e,t));break}}e=e.return}}function mR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Bt(),t.pingedLanes|=t.suspendedLanes&n,mt===t&&(bt&n)===n&&(ut===4||ut===3&&(bt&130023424)===bt&&500>tt()-Iy?Fi(t,0):Ny|=n),nn(t,e)}function Hb(t,e){e===0&&(t.mode&1?(e=Cu,Cu<<=1,!(Cu&130023424)&&(Cu=4194304)):e=1);var n=Bt();t=qr(t,e),t!==null&&(jc(t,e,n),nn(t,n))}function gR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Hb(t,n)}function yR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),Hb(t,n)}var Gb;Gb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||en.current)Zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Zt=!1,sR(t,e,n);Zt=!!(t.flags&131072)}else Zt=!1,Be&&e.flags&1048576&&XE(e,Bd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ld(t,e),t=e.pendingProps;var s=fa(e,Ot.current);Ko(e,n),s=_y(null,e,r,t,s,n);var i=Ey();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tn(r)?(i=!0,$d(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,gy(e),s.updater=Uh,e.stateNode=s,s._reactInternals=e,Am(e,r,t,n),e=km(null,e,r,!0,i,n)):(e.tag=0,Be&&i&&cy(e),$t(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ld(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=xR(r),t=Mn(r,t),s){case 0:e=Rm(null,e,r,t,n);break e;case 1:e=B0(null,e,r,t,n);break e;case 11:e=$0(null,e,r,t,n);break e;case 14:e=z0(null,e,r,Mn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mn(r,s),Rm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mn(r,s),B0(t,e,r,s,n);case 3:e:{if(Pb(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,rb(t,e),Hd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ya(Error(W(423)),e),e=q0(t,e,r,n,s);break e}else if(r!==s){s=ya(Error(W(424)),e),e=q0(t,e,r,n,s);break e}else for(cn=Fs(e.stateNode.containerInfo.firstChild),dn=e,Be=!0,Un=null,n=tb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pa(),r===s){e=Wr(t,e,n);break e}$t(t,e,r,n)}e=e.child}return e;case 5:return sb(e),t===null&&Cm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,_m(r,s)?o=null:i!==null&&_m(r,i)&&(e.flags|=32),Ab(t,e),$t(t,e,o,n),e.child;case 6:return t===null&&Cm(e),null;case 13:return Rb(t,e,n);case 4:return yy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ma(e,null,r,n):$t(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mn(r,s),$0(t,e,r,s,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Oe(qd,r._currentValue),r._currentValue=o,i!==null)if(Wn(i.value,o)){if(i.children===s.children&&!en.current){e=Wr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Fr(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?u.next=u:(u.next=h.next,h.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Nm(i.return,n,e),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Nm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$t(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ko(e,n),s=In(s),r=r(s),e.flags|=1,$t(t,e,r,n),e.child;case 14:return r=e.type,s=Mn(r,e.pendingProps),s=Mn(r.type,s),z0(t,e,r,s,n);case 15:return Nb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mn(r,s),ld(t,e),e.tag=1,tn(r)?(t=!0,$d(e)):t=!1,Ko(e,n),Tb(e,r,s),Am(e,r,s,n),km(null,e,r,!0,t,n);case 19:return kb(t,e,n);case 22:return Ib(t,e,n)}throw Error(W(156,e.tag))};function Kb(t,e){return _E(t,e)}function vR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,e,n,r){return new vR(t,e,n,r)}function ky(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xR(t){if(typeof t=="function")return ky(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xg)return 11;if(t===Jg)return 14}return 2}function Bs(t,e){var n=t.alternate;return n===null?(n=Sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function dd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ky(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ko:return Ui(n.children,s,i,e);case Yg:o=8,s|=8;break;case Zp:return t=Sn(12,n,e,s|2),t.elementType=Zp,t.lanes=i,t;case em:return t=Sn(13,n,e,s),t.elementType=em,t.lanes=i,t;case tm:return t=Sn(19,n,e,s),t.elementType=tm,t.lanes=i,t;case sE:return Bh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nE:o=10;break e;case rE:o=9;break e;case Xg:o=11;break e;case Jg:o=14;break e;case gs:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Sn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ui(t,e,n,r){return t=Sn(7,t,r,e),t.lanes=n,t}function Bh(t,e,n,r){return t=Sn(22,t,r,e),t.elementType=sE,t.lanes=n,t.stateNode={isHidden:!1},t}function wp(t,e,n){return t=Sn(6,t,null,e),t.lanes=n,t}function _p(t,e,n){return e=Sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tp(0),this.expirationTimes=tp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function jy(t,e,n,r,s,i,o,l,u){return t=new wR(t,e,n,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Sn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gy(i),t}function _R(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ro,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Qb(t){if(!t)return Xs;t=t._reactInternals;e:{if(no(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(tn(n))return QE(t,n,e)}return e}function Yb(t,e,n,r,s,i,o,l,u){return t=jy(n,r,!0,t,s,i,o,l,u),t.context=Qb(null),n=t.current,r=Bt(),s=zs(n),i=Fr(r,s),i.callback=e??null,Us(n,i,s),t.current.lanes=s,jc(t,s,r),nn(t,r),t}function qh(t,e,n,r){var s=e.current,i=Bt(),o=zs(s);return n=Qb(n),e.context===null?e.context=n:e.pendingContext=n,e=Fr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Us(s,e,o),t!==null&&(Bn(t,s,o,i),id(t,s,o)),o}function eh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ew(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dy(t,e){ew(t,e),(t=t.alternate)&&ew(t,e)}function ER(){return null}var Xb=typeof reportError=="function"?reportError:function(t){console.error(t)};function My(t){this._internalRoot=t}Wh.prototype.render=My.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));qh(t,e,null,null)};Wh.prototype.unmount=My.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gi(function(){qh(null,t,null,null)}),e[Br]=null}};function Wh(t){this._internalRoot=t}Wh.prototype.unstable_scheduleHydration=function(t){if(t){var e=IE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xs.length&&e!==0&&e<xs[n].priority;n++);xs.splice(n,0,t),n===0&&PE(t)}};function Oy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tw(){}function bR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=eh(o);i.call(d)}}var o=Yb(e,r,t,0,null,!1,!1,"",tw);return t._reactRootContainer=o,t[Br]=o.current,nc(t.nodeType===8?t.parentNode:t),Gi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=eh(u);l.call(d)}}var u=jy(t,0,!1,null,null,!1,!1,"",tw);return t._reactRootContainer=u,t[Br]=u.current,nc(t.nodeType===8?t.parentNode:t),Gi(function(){qh(e,u,n,r)}),u}function Gh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=eh(o);l.call(u)}}qh(e,o,t,s)}else o=bR(n,e,t,s,r);return eh(o)}CE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bl(e.pendingLanes);n!==0&&(ty(e,n|1),nn(e,tt()),!(be&6)&&(va=tt()+500,li()))}break;case 13:Gi(function(){var r=qr(t,1);if(r!==null){var s=Bt();Bn(r,t,1,s)}}),Dy(t,1)}};ny=function(t){if(t.tag===13){var e=qr(t,134217728);if(e!==null){var n=Bt();Bn(e,t,134217728,n)}Dy(t,134217728)}};NE=function(t){if(t.tag===13){var e=zs(t),n=qr(t,e);if(n!==null){var r=Bt();Bn(n,t,e,r)}Dy(t,e)}};IE=function(){return ke};AE=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};dm=function(t,e,n){switch(e){case"input":if(sm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Lh(r);if(!s)throw Error(W(90));oE(r),sm(r,s)}}}break;case"textarea":lE(t,n);break;case"select":e=n.value,e!=null&&qo(t,!!n.multiple,e,!1)}};mE=Ay;gE=Gi;var TR={usingClientEntryPoint:!1,Events:[Mc,Oo,Lh,fE,pE,Ay]},vl={findFiberByHostInstance:Ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SR={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xE(t),t===null?null:t.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance||ER,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{jh=Lu.inject(SR),ur=Lu}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TR;mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oy(e))throw Error(W(200));return _R(t,e,null,n)};mn.createRoot=function(t,e){if(!Oy(t))throw Error(W(299));var n=!1,r="",s=Xb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=jy(t,1,!1,null,null,n,!1,r,s),t[Br]=e.current,nc(t.nodeType===8?t.parentNode:t),new My(e)};mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=xE(e),t=t===null?null:t.stateNode,t};mn.flushSync=function(t){return Gi(t)};mn.hydrate=function(t,e,n){if(!Hh(e))throw Error(W(200));return Gh(null,t,e,!0,n)};mn.hydrateRoot=function(t,e,n){if(!Oy(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Xb;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Yb(e,null,t,1,n??null,s,!1,i,o),t[Br]=e.current,nc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Wh(e)};mn.render=function(t,e,n){if(!Hh(e))throw Error(W(200));return Gh(null,t,e,!1,n)};mn.unmountComponentAtNode=function(t){if(!Hh(t))throw Error(W(40));return t._reactRootContainer?(Gi(function(){Gh(null,null,t,!1,function(){t._reactRootContainer=null,t[Br]=null})}),!0):!1};mn.unstable_batchedUpdates=Ay;mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hh(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Gh(t,e,n,!1,r)};mn.version="18.3.1-next-f1338f8080-20240426";function Jb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jb)}catch(t){console.error(t)}}Jb(),J_.exports=mn;var Lc=J_.exports;const Zb=U_(Lc);var eT,nw=Lc;eT=nw.createRoot,nw.hydrateRoot;const CR=1,NR=1e6;let Ep=0;function IR(){return Ep=(Ep+1)%Number.MAX_SAFE_INTEGER,Ep.toString()}const bp=new Map,rw=t=>{if(bp.has(t))return;const e=setTimeout(()=>{bp.delete(t),$l({type:"REMOVE_TOAST",toastId:t})},NR);bp.set(t,e)},AR=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,CR)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?rw(n):t.toasts.forEach(r=>{rw(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},hd=[];let fd={toasts:[]};function $l(t){fd=AR(fd,t),hd.forEach(e=>{e(fd)})}function PR({...t}){const e=IR(),n=s=>$l({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>$l({type:"DISMISS_TOAST",toastId:e});return $l({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Ly(){const[t,e]=v.useState(fd);return v.useEffect(()=>(hd.push(e),()=>{const n=hd.indexOf(e);n>-1&&hd.splice(n,1)}),[t]),{...t,toast:PR,dismiss:n=>$l({type:"DISMISS_TOAST",toastId:n})}}function oe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function sw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Kh(...t){return e=>{let n=!1;const r=t.map(s=>{const i=sw(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():sw(t[s],null)}}}}function gt(...t){return v.useCallback(Kh(...t),t)}function ro(t,e=[]){let n=[];function r(i,o){const l=v.createContext(o),u=n.length;n=[...n,o];const d=f=>{var b;const{scope:p,children:g,...y}=f,w=((b=p==null?void 0:p[t])==null?void 0:b[u])||l,_=v.useMemo(()=>y,Object.values(y));return a.jsx(w.Provider,{value:_,children:g})};d.displayName=i+"Provider";function h(f,p){var w;const g=((w=p==null?void 0:p[t])==null?void 0:w[u])||l,y=v.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(l){const u=(l==null?void 0:l[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return s.scopeName=t,[r,RR(s,...e)]}function RR(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:u,scopeName:d})=>{const f=u(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function dc(t){const e=jR(t),n=v.forwardRef((r,s)=>{const{children:i,...o}=r,l=v.Children.toArray(i),u=l.find(MR);if(u){const d=u.props.children,h=l.map(f=>f===u?v.Children.count(d)>1?v.Children.only(null):v.isValidElement(d)?d.props.children:null:f);return a.jsx(e,{...o,ref:s,children:v.isValidElement(d)?v.cloneElement(d,void 0,h):null})}return a.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var kR=dc("Slot");function jR(t){const e=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const o=LR(s),l=OR(i,s.props);return s.type!==v.Fragment&&(l.ref=r?Kh(r,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var tT=Symbol("radix.slottable");function DR(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=tT,e}function MR(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tT}function OR(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const u=i(...l);return s(...l),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function LR(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Vy(t){const e=t+"CollectionProvider",[n,r]=ro(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:_,children:b}=w,E=K.useRef(null),T=K.useRef(new Map).current;return a.jsx(s,{scope:_,itemMap:T,collectionRef:E,children:b})};o.displayName=e;const l=t+"CollectionSlot",u=dc(l),d=K.forwardRef((w,_)=>{const{scope:b,children:E}=w,T=i(l,b),A=gt(_,T.collectionRef);return a.jsx(u,{ref:A,children:E})});d.displayName=l;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=dc(h),g=K.forwardRef((w,_)=>{const{scope:b,children:E,...T}=w,A=K.useRef(null),O=gt(_,A),L=i(h,b);return K.useEffect(()=>(L.itemMap.set(A,{ref:A,...T}),()=>void L.itemMap.delete(A))),a.jsx(p,{[f]:"",ref:O,children:E})});g.displayName=h;function y(w){const _=i(t+"CollectionConsumer",w);return K.useCallback(()=>{const E=_.collectionRef.current;if(!E)return[];const T=Array.from(E.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((L,C)=>T.indexOf(L.ref.current)-T.indexOf(C.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:d,ItemSlot:g},y,r]}var VR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ke=VR.reduce((t,e)=>{const n=dc(`Primitive.${e}`),r=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(u,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Fy(t,e){t&&Lc.flushSync(()=>t.dispatchEvent(e))}function pn(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function FR(t,e=globalThis==null?void 0:globalThis.document){const n=pn(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var UR="DismissableLayer",qm="dismissableLayer.update",$R="dismissableLayer.pointerDownOutside",zR="dismissableLayer.focusOutside",iw,nT=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qh=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...u}=t,d=v.useContext(nT),[h,f]=v.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=v.useState({}),y=gt(e,C=>f(C)),w=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=w.indexOf(_),E=h?w.indexOf(h):-1,T=d.layersWithOutsidePointerEventsDisabled.size>0,A=E>=b,O=qR(C=>{const S=C.target,P=[...d.branches].some(R=>R.contains(S));!A||P||(s==null||s(C),o==null||o(C),C.defaultPrevented||l==null||l())},p),L=WR(C=>{const S=C.target;[...d.branches].some(R=>R.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},p);return FR(C=>{E===d.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},p),v.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(iw=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),ow(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=iw)}},[h,p,n,d]),v.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),ow())},[h,d]),v.useEffect(()=>{const C=()=>g({});return document.addEventListener(qm,C),()=>document.removeEventListener(qm,C)},[]),a.jsx(Ke.div,{...u,ref:y,style:{pointerEvents:T?A?"auto":"none":void 0,...t.style},onFocusCapture:oe(t.onFocusCapture,L.onFocusCapture),onBlurCapture:oe(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:oe(t.onPointerDownCapture,O.onPointerDownCapture)})});Qh.displayName=UR;var BR="DismissableLayerBranch",rT=v.forwardRef((t,e)=>{const n=v.useContext(nT),r=v.useRef(null),s=gt(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(Ke.div,{...t,ref:s})});rT.displayName=BR;function qR(t,e=globalThis==null?void 0:globalThis.document){const n=pn(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let u=function(){sT($R,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function WR(t,e=globalThis==null?void 0:globalThis.document){const n=pn(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&sT(zR,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ow(){const t=new CustomEvent(qm);document.dispatchEvent(t)}function sT(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Fy(s,i):s.dispatchEvent(i)}var HR=Qh,GR=rT,Hr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},KR="Portal",Uy=v.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=v.useState(!1);Hr(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Zb.createPortal(a.jsx(Ke.div,{...r,ref:e}),o):null});Uy.displayName=KR;function QR(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var so=t=>{const{present:e,children:n}=t,r=YR(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=gt(r.ref,XR(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};so.displayName="Presence";function YR(t){const[e,n]=v.useState(),r=v.useRef(null),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[l,u]=QR(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=Vu(r.current);i.current=l==="mounted"?d:"none"},[l]),Hr(()=>{const d=r.current,h=s.current;if(h!==t){const p=i.current,g=Vu(d);t?u("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(h&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),Hr(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=g=>{const w=Vu(r.current).includes(g.animationName);if(g.target===e&&w&&(u("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=g=>{g.target===e&&(i.current=Vu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Vu(t){return(t==null?void 0:t.animationName)||"none"}function XR(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var JR=Hg[" useInsertionEffect ".trim().toString()]||Hr;function $y({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=ZR({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:s;{const h=v.useRef(t!==void 0);v.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const d=v.useCallback(h=>{var f;if(l){const p=ek(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else i(h)},[l,t,i,o]);return[u,d]}function ZR({defaultProp:t,onChange:e}){const[n,r]=v.useState(t),s=v.useRef(n),i=v.useRef(e);return JR(()=>{i.current=e},[e]),v.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function ek(t){return typeof t=="function"}var tk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nk="VisuallyHidden",Yh=v.forwardRef((t,e)=>a.jsx(Ke.span,{...t,ref:e,style:{...tk,...t.style}}));Yh.displayName=nk;var rk=Yh,zy="ToastProvider",[By,sk,ik]=Vy("Toast"),[iT,z7]=ro("Toast",[ik]),[ok,Xh]=iT(zy),oT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,u]=v.useState(null),[d,h]=v.useState(0),f=v.useRef(!1),p=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${zy}\`. Expected non-empty \`string\`.`),a.jsx(By.Provider,{scope:e,children:a.jsx(ok,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:u,onToastAdd:v.useCallback(()=>h(g=>g+1),[]),onToastRemove:v.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};oT.displayName=zy;var aT="ToastViewport",ak=["F8"],Wm="toast.viewportPause",Hm="toast.viewportResume",lT=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=ak,label:s="Notifications ({hotkey})",...i}=t,o=Xh(aT,n),l=sk(n),u=v.useRef(null),d=v.useRef(null),h=v.useRef(null),f=v.useRef(null),p=gt(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;v.useEffect(()=>{const _=b=>{var T;r.length!==0&&r.every(A=>b[A]||b.code===A)&&((T=f.current)==null||T.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),v.useEffect(()=>{const _=u.current,b=f.current;if(y&&_&&b){const E=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(Wm);b.dispatchEvent(L),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(Hm);b.dispatchEvent(L),o.isClosePausedRef.current=!1}},A=L=>{!_.contains(L.relatedTarget)&&T()},O=()=>{_.contains(document.activeElement)||T()};return _.addEventListener("focusin",E),_.addEventListener("focusout",A),_.addEventListener("pointermove",E),_.addEventListener("pointerleave",O),window.addEventListener("blur",E),window.addEventListener("focus",T),()=>{_.removeEventListener("focusin",E),_.removeEventListener("focusout",A),_.removeEventListener("pointermove",E),_.removeEventListener("pointerleave",O),window.removeEventListener("blur",E),window.removeEventListener("focus",T)}}},[y,o.isClosePausedRef]);const w=v.useCallback(({tabbingDirection:_})=>{const E=l().map(T=>{const A=T.ref.current,O=[A,...wk(A)];return _==="forwards"?O:O.reverse()});return(_==="forwards"?E.reverse():E).flat()},[l]);return v.useEffect(()=>{const _=f.current;if(_){const b=E=>{var O,L,C;const T=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!T){const S=document.activeElement,P=E.shiftKey;if(E.target===_&&P){(O=d.current)==null||O.focus();return}const j=w({tabbingDirection:P?"backwards":"forwards"}),k=j.findIndex(q=>q===S);Tp(j.slice(k+1))?E.preventDefault():P?(L=d.current)==null||L.focus():(C=h.current)==null||C.focus()}};return _.addEventListener("keydown",b),()=>_.removeEventListener("keydown",b)}},[l,w]),a.jsxs(GR,{ref:u,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&a.jsx(Gm,{ref:d,onFocusFromOutsideViewport:()=>{const _=w({tabbingDirection:"forwards"});Tp(_)}}),a.jsx(By.Slot,{scope:n,children:a.jsx(Ke.ol,{tabIndex:-1,...i,ref:p})}),y&&a.jsx(Gm,{ref:h,onFocusFromOutsideViewport:()=>{const _=w({tabbingDirection:"backwards"});Tp(_)}})]})});lT.displayName=aT;var cT="ToastFocusProxy",Gm=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Xh(cT,n);return a.jsx(Yh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&r()}})});Gm.displayName=cT;var Vc="Toast",lk="toast.swipeStart",ck="toast.swipeMove",uk="toast.swipeCancel",dk="toast.swipeEnd",uT=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[l,u]=$y({prop:r,defaultProp:s??!0,onChange:i,caller:Vc});return a.jsx(so,{present:n||l,children:a.jsx(pk,{open:l,...o,ref:e,onClose:()=>u(!1),onPause:pn(t.onPause),onResume:pn(t.onResume),onSwipeStart:oe(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(t.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:oe(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(t.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),u(!1)})})})});uT.displayName=Vc;var[hk,fk]=iT(Vc,{onClose(){}}),pk=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:u,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:g,...y}=t,w=Xh(Vc,n),[_,b]=v.useState(null),E=gt(e,q=>b(q)),T=v.useRef(null),A=v.useRef(null),O=s||w.duration,L=v.useRef(0),C=v.useRef(O),S=v.useRef(0),{onToastAdd:P,onToastRemove:R}=w,N=pn(()=>{var re;(_==null?void 0:_.contains(document.activeElement))&&((re=w.viewport)==null||re.focus()),o()}),j=v.useCallback(q=>{!q||q===1/0||(window.clearTimeout(S.current),L.current=new Date().getTime(),S.current=window.setTimeout(N,q))},[N]);v.useEffect(()=>{const q=w.viewport;if(q){const re=()=>{j(C.current),d==null||d()},H=()=>{const J=new Date().getTime()-L.current;C.current=C.current-J,window.clearTimeout(S.current),u==null||u()};return q.addEventListener(Wm,H),q.addEventListener(Hm,re),()=>{q.removeEventListener(Wm,H),q.removeEventListener(Hm,re)}}},[w.viewport,O,u,d,j]),v.useEffect(()=>{i&&!w.isClosePausedRef.current&&j(O)},[i,O,w.isClosePausedRef,j]),v.useEffect(()=>(P(),()=>R()),[P,R]);const k=v.useMemo(()=>_?yT(_):null,[_]);return w.viewport?a.jsxs(a.Fragment,{children:[k&&a.jsx(mk,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),a.jsx(hk,{scope:n,onClose:N,children:Lc.createPortal(a.jsx(By.ItemSlot,{scope:n,children:a.jsx(HR,{asChild:!0,onEscapeKeyDown:oe(l,()=>{w.isFocusedToastEscapeKeyDownRef.current||N(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Ke.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...y,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:oe(t.onKeyDown,q=>{q.key==="Escape"&&(l==null||l(q.nativeEvent),q.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:oe(t.onPointerDown,q=>{q.button===0&&(T.current={x:q.clientX,y:q.clientY})}),onPointerMove:oe(t.onPointerMove,q=>{if(!T.current)return;const re=q.clientX-T.current.x,H=q.clientY-T.current.y,J=!!A.current,D=["left","right"].includes(w.swipeDirection),M=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,U=D?M(0,re):0,Y=D?0:M(0,H),G=q.pointerType==="touch"?10:2,ee={x:U,y:Y},pe={originalEvent:q,delta:ee};J?(A.current=ee,Fu(ck,f,pe,{discrete:!1})):aw(ee,w.swipeDirection,G)?(A.current=ee,Fu(lk,h,pe,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(re)>G||Math.abs(H)>G)&&(T.current=null)}),onPointerUp:oe(t.onPointerUp,q=>{const re=A.current,H=q.target;if(H.hasPointerCapture(q.pointerId)&&H.releasePointerCapture(q.pointerId),A.current=null,T.current=null,re){const J=q.currentTarget,D={originalEvent:q,delta:re};aw(re,w.swipeDirection,w.swipeThreshold)?Fu(dk,g,D,{discrete:!0}):Fu(uk,p,D,{discrete:!0}),J.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),mk=t=>{const{__scopeToast:e,children:n,...r}=t,s=Xh(Vc,e),[i,o]=v.useState(!1),[l,u]=v.useState(!1);return vk(()=>o(!0)),v.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:a.jsx(Uy,{asChild:!0,children:a.jsx(Yh,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},gk="ToastTitle",dT=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Ke.div,{...r,ref:e})});dT.displayName=gk;var yk="ToastDescription",hT=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Ke.div,{...r,ref:e})});hT.displayName=yk;var fT="ToastAction",pT=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx(gT,{altText:n,asChild:!0,children:a.jsx(qy,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${fT}\`. Expected non-empty \`string\`.`),null)});pT.displayName=fT;var mT="ToastClose",qy=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=fk(mT,n);return a.jsx(gT,{asChild:!0,children:a.jsx(Ke.button,{type:"button",...r,ref:e,onClick:oe(t.onClick,s.onClose)})})});qy.displayName=mT;var gT=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return a.jsx(Ke.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function yT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),xk(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...yT(r))}}),e}function Fu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Fy(s,i):s.dispatchEvent(i)}var aw=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function vk(t=()=>{}){const e=pn(t);Hr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function xk(t){return t.nodeType===t.ELEMENT_NODE}function wk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Tp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var _k=oT,vT=lT,xT=uT,wT=dT,_T=hT,ET=pT,bT=qy;function TT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=TT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ST(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=TT(t))&&(r&&(r+=" "),r+=e);return r}const lw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,cw=ST,CT=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return cw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const p=lw(h)||lw(f);return s[d][p]}),l=n&&Object.entries(n).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:p,...g}=h;return Object.entries(g).every(y=>{let[w,_]=y;return Array.isArray(_)?_.includes({...i,...l}[w]):{...i,...l}[w]===_})?[...d,f,p]:d},[]);return cw(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},u)=>v.createElement("svg",{ref:u,...bk,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:NT("lucide",s),...l},[...o.map(([d,h])=>v.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(Tk,{ref:i,iconNode:e,className:NT(`lucide-${Ek(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=ie("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=ie("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=ie("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=ie("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=ie("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=ie("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=ie("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=ie("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=ie("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=ie("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=ie("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=ie("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=ie("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=ie("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=ie("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=ie("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=ie("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=ie("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=ie("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=ie("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=ie("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=ie("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=ie("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=ie("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=ie("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=ie("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=ie("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=ie("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=ie("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=ie("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Hy="-",Jk=t=>{const e=ej(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Hy);return l[0]===""&&l.length!==1&&l.shift(),jT(l,e)||Zk(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},jT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?jT(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Hy);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},fw=/^\[(.+)\]$/,Zk=t=>{if(fw.test(t)){const e=fw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},ej=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return nj(Object.entries(t.classGroups),n).forEach(([i,o])=>{Xm(o,r,i,e)}),r},Xm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:pw(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(tj(s)){Xm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Xm(o,pw(e,i),n,r)})})},pw=(t,e)=>{let n=t;return e.split(Hy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},tj=t=>t.isThemeGetter,nj=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,s]}):t,rj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},DT="!",sj=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=l=>{const u=[];let d=0,h=0,f;for(let _=0;_<l.length;_++){let b=l[_];if(d===0){if(b===s&&(r||l.slice(_,_+i)===e)){u.push(l.slice(h,_)),h=_+i;continue}if(b==="/"){f=_;continue}}b==="["?d++:b==="]"&&d--}const p=u.length===0?l:l.substring(h),g=p.startsWith(DT),y=g?p.substring(1):p,w=f&&f>h?f-h:void 0;return{modifiers:u,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:w}};return n?l=>n({className:l,parseClassName:o}):o},ij=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},oj=t=>({cache:rj(t.cacheSize),parseClassName:sj(t),...Jk(t)}),aj=/\s+/,lj=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(aj);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(d);let y=!!g,w=r(y?p.substring(0,g):p);if(!w){if(!y){l=d+(l.length>0?" "+l:l);continue}if(w=r(p),!w){l=d+(l.length>0?" "+l:l);continue}y=!1}const _=ij(h).join(":"),b=f?_+DT:_,E=b+w;if(i.includes(E))continue;i.push(E);const T=s(w,y);for(let A=0;A<T.length;++A){const O=T[A];i.push(b+O)}l=d+(l.length>0?" "+l:l)}return l};function cj(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=MT(e))&&(r&&(r+=" "),r+=n);return r}const MT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=MT(t[r]))&&(n&&(n+=" "),n+=e);return n};function uj(t,...e){let n,r,s,i=o;function o(u){const d=e.reduce((h,f)=>f(h),t());return n=oj(d),r=n.cache.get,s=n.cache.set,i=l,l(u)}function l(u){const d=r(u);if(d)return d;const h=lj(u,n);return s(u,h),h}return function(){return i(cj.apply(null,arguments))}}const Ve=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},OT=/^\[(?:([a-z-]+):)?(.+)\]$/i,dj=/^\d+\/\d+$/,hj=new Set(["px","full","screen"]),fj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ir=t=>Yo(t)||hj.has(t)||dj.test(t),ds=t=>Oa(t,"length",Sj),Yo=t=>!!t&&!Number.isNaN(Number(t)),Sp=t=>Oa(t,"number",Yo),xl=t=>!!t&&Number.isInteger(Number(t)),vj=t=>t.endsWith("%")&&Yo(t.slice(0,-1)),ge=t=>OT.test(t),hs=t=>fj.test(t),xj=new Set(["length","size","percentage"]),wj=t=>Oa(t,xj,LT),_j=t=>Oa(t,"position",LT),Ej=new Set(["image","url"]),bj=t=>Oa(t,Ej,Nj),Tj=t=>Oa(t,"",Cj),wl=()=>!0,Oa=(t,e,n)=>{const r=OT.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Sj=t=>pj.test(t)&&!mj.test(t),LT=()=>!1,Cj=t=>gj.test(t),Nj=t=>yj.test(t),Ij=()=>{const t=Ve("colors"),e=Ve("spacing"),n=Ve("blur"),r=Ve("brightness"),s=Ve("borderColor"),i=Ve("borderRadius"),o=Ve("borderSpacing"),l=Ve("borderWidth"),u=Ve("contrast"),d=Ve("grayscale"),h=Ve("hueRotate"),f=Ve("invert"),p=Ve("gap"),g=Ve("gradientColorStops"),y=Ve("gradientColorStopPositions"),w=Ve("inset"),_=Ve("margin"),b=Ve("opacity"),E=Ve("padding"),T=Ve("saturate"),A=Ve("scale"),O=Ve("sepia"),L=Ve("skew"),C=Ve("space"),S=Ve("translate"),P=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",ge,e],j=()=>[ge,e],k=()=>["",Ir,ds],q=()=>["auto",Yo,ge],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",ge],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[Yo,ge];return{cacheSize:500,separator:":",theme:{colors:[wl],spacing:[Ir,ds],blur:["none","",hs,ge],brightness:Y(),borderColor:[t],borderRadius:["none","","full",hs,ge],borderSpacing:j(),borderWidth:k(),contrast:Y(),grayscale:M(),hueRotate:Y(),invert:M(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[vj,ds],inset:N(),margin:N(),opacity:Y(),padding:j(),saturate:Y(),scale:Y(),sepia:M(),skew:Y(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",ge]}],container:["container"],columns:[{columns:[hs]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),ge]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xl,ge]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ge]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",xl,ge]}],"grid-cols":[{"grid-cols":[wl]}],"col-start-end":[{col:["auto",{span:["full",xl,ge]},ge]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[wl]}],"row-start-end":[{row:["auto",{span:[xl,ge]},ge]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ge]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ge,e]}],"min-w":[{"min-w":[ge,e,"min","max","fit"]}],"max-w":[{"max-w":[ge,e,"none","full","min","max","fit","prose",{screen:[hs]},hs]}],h:[{h:[ge,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ge,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ge,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ge,e,"auto","min","max","fit"]}],"font-size":[{text:["base",hs,ds]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sp]}],"font-family":[{font:[wl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ge]}],"line-clamp":[{"line-clamp":["none",Yo,Sp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ir,ge]}],"list-image":[{"list-image":["none",ge]}],"list-style-type":[{list:["none","disc","decimal",ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ir,ds]}],"underline-offset":[{"underline-offset":["auto",Ir,ge]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),_j]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bj]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[Ir,ge]}],"outline-w":[{outline:[Ir,ds]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Ir,ds]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",hs,Tj]}],"shadow-color":[{shadow:[wl]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",hs,ge]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ge]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",ge]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[xl,ge]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ir,ds,Sp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Aj=uj(Ij);function Ze(...t){return Aj(ST(t))}const Pj=_k,VT=v.forwardRef(({className:t,...e},n)=>a.jsx(vT,{ref:n,className:Ze("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));VT.displayName=vT.displayName;const Rj=CT("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),FT=v.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(xT,{ref:r,className:Ze(Rj({variant:e}),t),...n}));FT.displayName=xT.displayName;const kj=v.forwardRef(({className:t,...e},n)=>a.jsx(ET,{ref:n,className:Ze("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));kj.displayName=ET.displayName;const UT=v.forwardRef(({className:t,...e},n)=>a.jsx(bT,{ref:n,className:Ze("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(Ea,{className:"h-4 w-4"})}));UT.displayName=bT.displayName;const $T=v.forwardRef(({className:t,...e},n)=>a.jsx(wT,{ref:n,className:Ze("text-sm font-semibold",t),...e}));$T.displayName=wT.displayName;const zT=v.forwardRef(({className:t,...e},n)=>a.jsx(_T,{ref:n,className:Ze("text-sm opacity-90",t),...e}));zT.displayName=_T.displayName;function jj(){const{toasts:t}=Ly();return a.jsxs(Pj,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return a.jsxs(FT,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx($T,{children:n}),r&&a.jsx(zT,{children:r})]}),s,a.jsx(UT,{})]},e)}),a.jsx(VT,{})]})}var mw=["light","dark"],Dj="(prefers-color-scheme: dark)",Mj=v.createContext(void 0),Oj={setTheme:t=>{},themes:[]},Lj=()=>{var t;return(t=v.useContext(Mj))!=null?t:Oj};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:u})=>{let d=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?mw.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(y,w=!1,_=!0)=>{let b=o?o[y]:y,E=w?y+"|| ''":`'${b}'`,T="";return s&&_&&!w&&mw.includes(y)&&(T+=`d.style.colorScheme = '${y}';`),n==="class"?w||b?T+=`c.add(${E})`:T+="null":b&&(T+=`d[s](n,${E})`),T},g=t?`!function(){${h}${p(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${Dj}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${d?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return v.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:g}})});var Vj=t=>{switch(t){case"success":return $j;case"info":return Bj;case"warning":return zj;case"error":return qj;default:return null}},Fj=Array(12).fill(0),Uj=({visible:t,className:e})=>K.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},K.createElement("div",{className:"sonner-spinner"},Fj.map((n,r)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),$j=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),zj=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Bj=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qj=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Wj=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Hj=()=>{let[t,e]=K.useState(document.hidden);return K.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Jm=1,Gj=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Jm++,o=this.toasts.find(u=>u.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...e,id:i,title:r}),{...u,...e,id:i,dismissible:l,title:r}):u):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,l=s.then(async d=>{if(o=["resolve",d],K.isValidElement(d))i=!1,this.create({id:r,type:"default",message:d});else if(Qj(d)&&!d.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description;this.create({id:r,type:"error",message:h,description:f})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(d):n.success,f=typeof n.description=="function"?await n.description(d):n.description;this.create({id:r,type:"success",message:h,description:f})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(d):n.error,f=typeof n.description=="function"?await n.description(d):n.description;this.create({id:r,type:"error",message:h,description:f})}}).finally(()=>{var d;i&&(this.dismiss(r),r=void 0),(d=n.finally)==null||d.call(n)}),u=()=>new Promise((d,h)=>l.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Jm++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Qt=new Gj,Kj=(t,e)=>{let n=(e==null?void 0:e.id)||Jm++;return Qt.addToast({title:t,...e,id:n}),n},Qj=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Yj=Kj,Xj=()=>Qt.toasts,Jj=()=>Qt.getActiveToasts();Object.assign(Yj,{success:Qt.success,info:Qt.info,warning:Qt.warning,error:Qt.error,custom:Qt.custom,message:Qt.message,promise:Qt.promise,dismiss:Qt.dismiss,loading:Qt.loading},{getHistory:Xj,getToasts:Jj});function Zj(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Zj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Uu(t){return t.label!==void 0}var e4=3,t4="32px",n4="16px",gw=4e3,r4=356,s4=14,i4=20,o4=200;function Dn(...t){return t.filter(Boolean).join(" ")}function a4(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var l4=t=>{var e,n,r,s,i,o,l,u,d,h,f;let{invert:p,toast:g,unstyled:y,interacting:w,setHeights:_,visibleToasts:b,heights:E,index:T,toasts:A,expanded:O,removeToast:L,defaultRichColors:C,closeButton:S,style:P,cancelButtonStyle:R,actionButtonStyle:N,className:j="",descriptionClassName:k="",duration:q,position:re,gap:H,loadingIcon:J,expandByDefault:D,classNames:M,icons:U,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:G}=t,[ee,pe]=K.useState(null),[Pe,$e]=K.useState(null),[me,Pn]=K.useState(!1),[st,Vt]=K.useState(!1),[rn,Xn]=K.useState(!1),[yn,rs]=K.useState(!1),[fi,pi]=K.useState(!1),[Ja,mi]=K.useState(0),[br,ho]=K.useState(0),ss=K.useRef(g.duration||q||gw),ru=K.useRef(null),Rn=K.useRef(null),Za=T===0,su=T+1<=b,Re=g.type,Qe=g.dismissible!==!1,fo=g.className||"",iu=g.descriptionClassName||"",gi=K.useMemo(()=>E.findIndex(ue=>ue.toastId===g.id)||0,[E,g.id]),Mf=K.useMemo(()=>{var ue;return(ue=g.closeButton)!=null?ue:S},[g.closeButton,S]),is=K.useMemo(()=>g.duration||q||gw,[g.duration,q]),po=K.useRef(0),Tr=K.useRef(0),mo=K.useRef(0),os=K.useRef(null),[Of,el]=re.split("-"),tl=K.useMemo(()=>E.reduce((ue,Ee,je)=>je>=gi?ue:ue+Ee.height,0),[E,gi]),nl=Hj(),yi=g.invert||p,vi=Re==="loading";Tr.current=K.useMemo(()=>gi*H+tl,[gi,tl]),K.useEffect(()=>{ss.current=is},[is]),K.useEffect(()=>{Pn(!0)},[]),K.useEffect(()=>{let ue=Rn.current;if(ue){let Ee=ue.getBoundingClientRect().height;return ho(Ee),_(je=>[{toastId:g.id,height:Ee,position:g.position},...je]),()=>_(je=>je.filter(yt=>yt.toastId!==g.id))}},[_,g.id]),K.useLayoutEffect(()=>{if(!me)return;let ue=Rn.current,Ee=ue.style.height;ue.style.height="auto";let je=ue.getBoundingClientRect().height;ue.style.height=Ee,ho(je),_(yt=>yt.find(Gt=>Gt.toastId===g.id)?yt.map(Gt=>Gt.toastId===g.id?{...Gt,height:je}:Gt):[{toastId:g.id,height:je,position:g.position},...yt])},[me,g.title,g.description,_,g.id]);let vn=K.useCallback(()=>{Vt(!0),mi(Tr.current),_(ue=>ue.filter(Ee=>Ee.toastId!==g.id)),setTimeout(()=>{L(g)},o4)},[g,L,_,Tr]);K.useEffect(()=>{if(g.promise&&Re==="loading"||g.duration===1/0||g.type==="loading")return;let ue;return O||w||G&&nl?(()=>{if(mo.current<po.current){let Ee=new Date().getTime()-po.current;ss.current=ss.current-Ee}mo.current=new Date().getTime()})():ss.current!==1/0&&(po.current=new Date().getTime(),ue=setTimeout(()=>{var Ee;(Ee=g.onAutoClose)==null||Ee.call(g,g),vn()},ss.current)),()=>clearTimeout(ue)},[O,w,g,Re,G,nl,vn]),K.useEffect(()=>{g.delete&&vn()},[vn,g.delete]);function Sr(){var ue,Ee,je;return U!=null&&U.loading?K.createElement("div",{className:Dn(M==null?void 0:M.loader,(ue=g==null?void 0:g.classNames)==null?void 0:ue.loader,"sonner-loader"),"data-visible":Re==="loading"},U.loading):J?K.createElement("div",{className:Dn(M==null?void 0:M.loader,(Ee=g==null?void 0:g.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":Re==="loading"},J):K.createElement(Uj,{className:Dn(M==null?void 0:M.loader,(je=g==null?void 0:g.classNames)==null?void 0:je.loader),visible:Re==="loading"})}return K.createElement("li",{tabIndex:0,ref:Rn,className:Dn(j,fo,M==null?void 0:M.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[Re],(n=g==null?void 0:g.classNames)==null?void 0:n[Re]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:C,"data-styled":!(g.jsx||g.unstyled||y),"data-mounted":me,"data-promise":!!g.promise,"data-swiped":fi,"data-removed":st,"data-visible":su,"data-y-position":Of,"data-x-position":el,"data-index":T,"data-front":Za,"data-swiping":rn,"data-dismissible":Qe,"data-type":Re,"data-invert":yi,"data-swipe-out":yn,"data-swipe-direction":Pe,"data-expanded":!!(O||D&&me),style:{"--index":T,"--toasts-before":T,"--z-index":A.length-T,"--offset":`${st?Ja:Tr.current}px`,"--initial-height":D?"auto":`${br}px`,...P,...g.style},onDragEnd:()=>{Xn(!1),pe(null),os.current=null},onPointerDown:ue=>{vi||!Qe||(ru.current=new Date,mi(Tr.current),ue.target.setPointerCapture(ue.pointerId),ue.target.tagName!=="BUTTON"&&(Xn(!0),os.current={x:ue.clientX,y:ue.clientY}))},onPointerUp:()=>{var ue,Ee,je,yt;if(yn||!Qe)return;os.current=null;let Gt=Number(((ue=Rn.current)==null?void 0:ue.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ze=Number(((Ee=Rn.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Jn=new Date().getTime()-((je=ru.current)==null?void 0:je.getTime()),vt=ee==="x"?Gt:ze,Kt=Math.abs(vt)/Jn;if(Math.abs(vt)>=i4||Kt>.11){mi(Tr.current),(yt=g.onDismiss)==null||yt.call(g,g),$e(ee==="x"?Gt>0?"right":"left":ze>0?"down":"up"),vn(),rs(!0),pi(!1);return}Xn(!1),pe(null)},onPointerMove:ue=>{var Ee,je,yt,Gt;if(!os.current||!Qe||((Ee=window.getSelection())==null?void 0:Ee.toString().length)>0)return;let ze=ue.clientY-os.current.y,Jn=ue.clientX-os.current.x,vt=(je=t.swipeDirections)!=null?je:a4(re);!ee&&(Math.abs(Jn)>1||Math.abs(ze)>1)&&pe(Math.abs(Jn)>Math.abs(ze)?"x":"y");let Kt={x:0,y:0};ee==="y"?(vt.includes("top")||vt.includes("bottom"))&&(vt.includes("top")&&ze<0||vt.includes("bottom")&&ze>0)&&(Kt.y=ze):ee==="x"&&(vt.includes("left")||vt.includes("right"))&&(vt.includes("left")&&Jn<0||vt.includes("right")&&Jn>0)&&(Kt.x=Jn),(Math.abs(Kt.x)>0||Math.abs(Kt.y)>0)&&pi(!0),(yt=Rn.current)==null||yt.style.setProperty("--swipe-amount-x",`${Kt.x}px`),(Gt=Rn.current)==null||Gt.style.setProperty("--swipe-amount-y",`${Kt.y}px`)}},Mf&&!g.jsx?K.createElement("button",{"aria-label":Y,"data-disabled":vi,"data-close-button":!0,onClick:vi||!Qe?()=>{}:()=>{var ue;vn(),(ue=g.onDismiss)==null||ue.call(g,g)},className:Dn(M==null?void 0:M.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=U==null?void 0:U.close)!=null?i:Wj):null,g.jsx||v.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:K.createElement(K.Fragment,null,Re||g.icon||g.promise?K.createElement("div",{"data-icon":"",className:Dn(M==null?void 0:M.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Sr():null,g.type!=="loading"?g.icon||(U==null?void 0:U[Re])||Vj(Re):null):null,K.createElement("div",{"data-content":"",className:Dn(M==null?void 0:M.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},K.createElement("div",{"data-title":"",className:Dn(M==null?void 0:M.title,(u=g==null?void 0:g.classNames)==null?void 0:u.title)},typeof g.title=="function"?g.title():g.title),g.description?K.createElement("div",{"data-description":"",className:Dn(k,iu,M==null?void 0:M.description,(d=g==null?void 0:g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),v.isValidElement(g.cancel)?g.cancel:g.cancel&&Uu(g.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||R,onClick:ue=>{var Ee,je;Uu(g.cancel)&&Qe&&((je=(Ee=g.cancel).onClick)==null||je.call(Ee,ue),vn())},className:Dn(M==null?void 0:M.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,v.isValidElement(g.action)?g.action:g.action&&Uu(g.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||N,onClick:ue=>{var Ee,je;Uu(g.action)&&((je=(Ee=g.action).onClick)==null||je.call(Ee,ue),!ue.defaultPrevented&&vn())},className:Dn(M==null?void 0:M.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function yw(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function c4(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?n4:t4;function u(d){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=l:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):u(l)}),n}var u4=v.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:u,mobileOffset:d,theme:h="light",richColors:f,duration:p,style:g,visibleToasts:y=e4,toastOptions:w,dir:_=yw(),gap:b=s4,loadingIcon:E,icons:T,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:O}=t,[L,C]=K.useState([]),S=K.useMemo(()=>Array.from(new Set([r].concat(L.filter(G=>G.position).map(G=>G.position)))),[L,r]),[P,R]=K.useState([]),[N,j]=K.useState(!1),[k,q]=K.useState(!1),[re,H]=K.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=K.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=K.useRef(null),U=K.useRef(!1),Y=K.useCallback(G=>{C(ee=>{var pe;return(pe=ee.find(Pe=>Pe.id===G.id))!=null&&pe.delete||Qt.dismiss(G.id),ee.filter(({id:Pe})=>Pe!==G.id)})},[]);return K.useEffect(()=>Qt.subscribe(G=>{if(G.dismiss){C(ee=>ee.map(pe=>pe.id===G.id?{...pe,delete:!0}:pe));return}setTimeout(()=>{Zb.flushSync(()=>{C(ee=>{let pe=ee.findIndex(Pe=>Pe.id===G.id);return pe!==-1?[...ee.slice(0,pe),{...ee[pe],...G},...ee.slice(pe+1)]:[G,...ee]})})})}),[]),K.useEffect(()=>{if(h!=="system"){H(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:ee})=>{H(ee?"dark":"light")})}catch{G.addListener(({matches:pe})=>{try{H(pe?"dark":"light")}catch(Pe){console.error(Pe)}})}},[h]),K.useEffect(()=>{L.length<=1&&j(!1)},[L]),K.useEffect(()=>{let G=ee=>{var pe,Pe;s.every($e=>ee[$e]||ee.code===$e)&&(j(!0),(pe=J.current)==null||pe.focus()),ee.code==="Escape"&&(document.activeElement===J.current||(Pe=J.current)!=null&&Pe.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[s]),K.useEffect(()=>{if(J.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,U.current=!1)}},[J.current]),K.createElement("section",{ref:e,"aria-label":`${A} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((G,ee)=>{var pe;let[Pe,$e]=G.split("-");return L.length?K.createElement("ol",{key:G,dir:_==="auto"?yw():_,tabIndex:-1,ref:J,className:l,"data-sonner-toaster":!0,"data-theme":re,"data-y-position":Pe,"data-lifted":N&&L.length>1&&!i,"data-x-position":$e,style:{"--front-toast-height":`${((pe=P[0])==null?void 0:pe.height)||0}px`,"--width":`${r4}px`,"--gap":`${b}px`,...g,...c4(u,d)},onBlur:me=>{U.current&&!me.currentTarget.contains(me.relatedTarget)&&(U.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||U.current||(U.current=!0,M.current=me.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{k||j(!1)},onDragEnd:()=>j(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},L.filter(me=>!me.position&&ee===0||me.position===G).map((me,Pn)=>{var st,Vt;return K.createElement(l4,{key:me.id,icons:T,index:Pn,toast:me,defaultRichColors:f,duration:(st=w==null?void 0:w.duration)!=null?st:p,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:y,closeButton:(Vt=w==null?void 0:w.closeButton)!=null?Vt:o,interacting:k,position:G,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:Y,toasts:L.filter(rn=>rn.position==me.position),heights:P.filter(rn=>rn.position==me.position),setHeights:R,expandByDefault:i,gap:b,loadingIcon:E,expanded:N,pauseWhenPageIsHidden:O,swipeDirections:t.swipeDirections})})):null}))});const d4=({...t})=>{const{theme:e="system"}=Lj();return a.jsx(u4,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var h4=Hg[" useId ".trim().toString()]||(()=>{}),f4=0;function Zm(t){const[e,n]=v.useState(h4());return Hr(()=>{n(r=>r??String(f4++))},[t]),e?`radix-${e}`:""}const p4=["top","right","bottom","left"],Js=Math.min,ln=Math.max,sh=Math.round,$u=Math.floor,hr=t=>({x:t,y:t}),m4={left:"right",right:"left",bottom:"top",top:"bottom"},g4={start:"end",end:"start"};function eg(t,e,n){return ln(t,Js(e,n))}function Gr(t,e){return typeof t=="function"?t(e):t}function Kr(t){return t.split("-")[0]}function La(t){return t.split("-")[1]}function Gy(t){return t==="x"?"y":"x"}function Ky(t){return t==="y"?"height":"width"}const y4=new Set(["top","bottom"]);function cr(t){return y4.has(Kr(t))?"y":"x"}function Qy(t){return Gy(cr(t))}function v4(t,e,n){n===void 0&&(n=!1);const r=La(t),s=Qy(t),i=Ky(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=ih(o)),[o,ih(o)]}function x4(t){const e=ih(t);return[tg(t),e,tg(e)]}function tg(t){return t.replace(/start|end/g,e=>g4[e])}const vw=["left","right"],xw=["right","left"],w4=["top","bottom"],_4=["bottom","top"];function E4(t,e,n){switch(t){case"top":case"bottom":return n?e?xw:vw:e?vw:xw;case"left":case"right":return e?w4:_4;default:return[]}}function b4(t,e,n,r){const s=La(t);let i=E4(Kr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(tg)))),i}function ih(t){return t.replace(/left|right|bottom|top/g,e=>m4[e])}function T4(t){return{top:0,right:0,bottom:0,left:0,...t}}function BT(t){return typeof t!="number"?T4(t):{top:t,right:t,bottom:t,left:t}}function oh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function ww(t,e,n){let{reference:r,floating:s}=t;const i=cr(e),o=Qy(e),l=Ky(o),u=Kr(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let g;switch(u){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(La(e)){case"start":g[o]-=p*(n&&d?-1:1);break;case"end":g[o]+=p*(n&&d?-1:1);break}return g}const S4=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=ww(d,r,u),p=r,g={},y=0;for(let w=0;w<l.length;w++){const{name:_,fn:b}=l[w],{x:E,y:T,data:A,reset:O}=await b({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:d,platform:o,elements:{reference:t,floating:e}});h=E??h,f=T??f,g={...g,[_]:{...g[_],...A}},O&&y<=50&&(y++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(d=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:h,y:f}=ww(d,p,u)),w=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:g}};async function fc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=Gr(e,t),y=BT(g),_=l[p?f==="floating"?"reference":"floating":f],b=oh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:u})),E=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),A=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},O=oh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:E,offsetParent:T,strategy:u}):E);return{top:(b.top-O.top+y.top)/A.y,bottom:(O.bottom-b.bottom+y.bottom)/A.y,left:(b.left-O.left+y.left)/A.x,right:(O.right-b.right+y.right)/A.x}}const C4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:u}=e,{element:d,padding:h=0}=Gr(t,e)||{};if(d==null)return{};const f=BT(h),p={x:n,y:r},g=Qy(s),y=Ky(g),w=await o.getDimensions(d),_=g==="y",b=_?"top":"left",E=_?"bottom":"right",T=_?"clientHeight":"clientWidth",A=i.reference[y]+i.reference[g]-p[g]-i.floating[y],O=p[g]-i.reference[g],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=L?L[T]:0;(!C||!await(o.isElement==null?void 0:o.isElement(L)))&&(C=l.floating[T]||i.floating[y]);const S=A/2-O/2,P=C/2-w[y]/2-1,R=Js(f[b],P),N=Js(f[E],P),j=R,k=C-w[y]-N,q=C/2-w[y]/2+S,re=eg(j,q,k),H=!u.arrow&&La(s)!=null&&q!==re&&i.reference[y]/2-(q<j?R:N)-w[y]/2<0,J=H?q<j?q-j:q-k:0;return{[g]:p[g]+J,data:{[g]:re,centerOffset:q-re-J,...H&&{alignmentOffset:J}},reset:H}}}),N4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:w=!0,..._}=Gr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Kr(s),E=cr(l),T=Kr(l)===l,A=await(u.isRTL==null?void 0:u.isRTL(d.floating)),O=p||(T||!w?[ih(l)]:x4(l)),L=y!=="none";!p&&L&&O.push(...b4(l,w,y,A));const C=[l,...O],S=await fc(e,_),P=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&P.push(S[b]),f){const q=v4(s,o,A);P.push(S[q[0]],S[q[1]])}if(R=[...R,{placement:s,overflows:P}],!P.every(q=>q<=0)){var N,j;const q=(((N=i.flip)==null?void 0:N.index)||0)+1,re=C[q];if(re&&(!(f==="alignment"?E!==cr(re):!1)||R.every(D=>D.overflows[0]>0&&cr(D.placement)===E)))return{data:{index:q,overflows:R},reset:{placement:re}};let H=(j=R.filter(J=>J.overflows[0]<=0).sort((J,D)=>J.overflows[1]-D.overflows[1])[0])==null?void 0:j.placement;if(!H)switch(g){case"bestFit":{var k;const J=(k=R.filter(D=>{if(L){const M=cr(D.placement);return M===E||M==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(M=>M>0).reduce((M,U)=>M+U,0)]).sort((D,M)=>D[1]-M[1])[0])==null?void 0:k[0];J&&(H=J);break}case"initialPlacement":H=l;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function _w(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ew(t){return p4.some(e=>t[e]>=0)}const I4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Gr(t,e);switch(r){case"referenceHidden":{const i=await fc(e,{...s,elementContext:"reference"}),o=_w(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ew(o)}}}case"escaped":{const i=await fc(e,{...s,altBoundary:!0}),o=_w(i,n.floating);return{data:{escapedOffsets:o,escaped:Ew(o)}}}default:return{}}}}},qT=new Set(["left","top"]);async function A4(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Kr(n),l=La(n),u=cr(n)==="y",d=qT.has(o)?-1:1,h=i&&u?-1:1,f=Gr(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(g=l==="end"?y*-1:y),u?{x:g*h,y:p*d}:{x:p*d,y:g*h}}const P4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,u=await A4(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},R4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:_=>{let{x:b,y:E}=_;return{x:b,y:E}}},...u}=Gr(t,e),d={x:n,y:r},h=await fc(e,u),f=cr(Kr(s)),p=Gy(f);let g=d[p],y=d[f];if(i){const _=p==="y"?"top":"left",b=p==="y"?"bottom":"right",E=g+h[_],T=g-h[b];g=eg(E,g,T)}if(o){const _=f==="y"?"top":"left",b=f==="y"?"bottom":"right",E=y+h[_],T=y-h[b];y=eg(E,y,T)}const w=l.fn({...e,[p]:g,[f]:y});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:i,[f]:o}}}}}},k4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=Gr(t,e),h={x:n,y:r},f=cr(s),p=Gy(f);let g=h[p],y=h[f];const w=Gr(l,e),_=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const T=p==="y"?"height":"width",A=i.reference[p]-i.floating[T]+_.mainAxis,O=i.reference[p]+i.reference[T]-_.mainAxis;g<A?g=A:g>O&&(g=O)}if(d){var b,E;const T=p==="y"?"width":"height",A=qT.has(Kr(s)),O=i.reference[f]-i.floating[T]+(A&&((b=o.offset)==null?void 0:b[f])||0)+(A?0:_.crossAxis),L=i.reference[f]+i.reference[T]+(A?0:((E=o.offset)==null?void 0:E[f])||0)-(A?_.crossAxis:0);y<O?y=O:y>L&&(y=L)}return{[p]:g,[f]:y}}}},j4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:u=()=>{},...d}=Gr(t,e),h=await fc(e,d),f=Kr(s),p=La(s),g=cr(s)==="y",{width:y,height:w}=i.floating;let _,b;f==="top"||f==="bottom"?(_=f,b=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,_=p==="end"?"top":"bottom");const E=w-h.top-h.bottom,T=y-h.left-h.right,A=Js(w-h[_],E),O=Js(y-h[b],T),L=!e.middlewareData.shift;let C=A,S=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=E),L&&!p){const R=ln(h.left,0),N=ln(h.right,0),j=ln(h.top,0),k=ln(h.bottom,0);g?S=y-2*(R!==0||N!==0?R+N:ln(h.left,h.right)):C=w-2*(j!==0||k!==0?j+k:ln(h.top,h.bottom))}await u({...e,availableWidth:S,availableHeight:C});const P=await o.getDimensions(l.floating);return y!==P.width||w!==P.height?{reset:{rects:!0}}:{}}}};function Zh(){return typeof window<"u"}function Va(t){return WT(t)?(t.nodeName||"").toLowerCase():"#document"}function hn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Er(t){var e;return(e=(WT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function WT(t){return Zh()?t instanceof Node||t instanceof hn(t).Node:!1}function Hn(t){return Zh()?t instanceof Element||t instanceof hn(t).Element:!1}function xr(t){return Zh()?t instanceof HTMLElement||t instanceof hn(t).HTMLElement:!1}function bw(t){return!Zh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hn(t).ShadowRoot}const D4=new Set(["inline","contents"]);function Uc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Gn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!D4.has(s)}const M4=new Set(["table","td","th"]);function O4(t){return M4.has(Va(t))}const L4=[":popover-open",":modal"];function ef(t){return L4.some(e=>{try{return t.matches(e)}catch{return!1}})}const V4=["transform","translate","scale","rotate","perspective"],F4=["transform","translate","scale","rotate","perspective","filter"],U4=["paint","layout","strict","content"];function Yy(t){const e=Xy(),n=Hn(t)?Gn(t):t;return V4.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||F4.some(r=>(n.willChange||"").includes(r))||U4.some(r=>(n.contain||"").includes(r))}function $4(t){let e=Zs(t);for(;xr(e)&&!ba(e);){if(Yy(e))return e;if(ef(e))return null;e=Zs(e)}return null}function Xy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const z4=new Set(["html","body","#document"]);function ba(t){return z4.has(Va(t))}function Gn(t){return hn(t).getComputedStyle(t)}function tf(t){return Hn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Zs(t){if(Va(t)==="html")return t;const e=t.assignedSlot||t.parentNode||bw(t)&&t.host||Er(t);return bw(e)?e.host:e}function HT(t){const e=Zs(t);return ba(e)?t.ownerDocument?t.ownerDocument.body:t.body:xr(e)&&Uc(e)?e:HT(e)}function pc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=HT(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=hn(s);if(i){const l=ng(o);return e.concat(o,o.visualViewport||[],Uc(s)?s:[],l&&n?pc(l):[])}return e.concat(s,pc(s,[],n))}function ng(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function GT(t){const e=Gn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=xr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=sh(n)!==i||sh(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function Jy(t){return Hn(t)?t:t.contextElement}function Xo(t){const e=Jy(t);if(!xr(e))return hr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=GT(e);let o=(i?sh(n.width):n.width)/r,l=(i?sh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const B4=hr(0);function KT(t){const e=hn(t);return!Xy()||!e.visualViewport?B4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function q4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==hn(t)?!1:e}function Ki(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Jy(t);let o=hr(1);e&&(r?Hn(r)&&(o=Xo(r)):o=Xo(t));const l=q4(i,n,r)?KT(i):hr(0);let u=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=hn(i),g=r&&Hn(r)?hn(r):r;let y=p,w=ng(y);for(;w&&r&&g!==y;){const _=Xo(w),b=w.getBoundingClientRect(),E=Gn(w),T=b.left+(w.clientLeft+parseFloat(E.paddingLeft))*_.x,A=b.top+(w.clientTop+parseFloat(E.paddingTop))*_.y;u*=_.x,d*=_.y,h*=_.x,f*=_.y,u+=T,d+=A,y=hn(w),w=ng(y)}}return oh({width:h,height:f,x:u,y:d})}function Zy(t,e){const n=tf(t).scrollLeft;return e?e.left+n:Ki(Er(t)).left+n}function QT(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Zy(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function W4(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Er(r),l=e?ef(e.floating):!1;if(r===o||l&&i)return n;let u={scrollLeft:0,scrollTop:0},d=hr(1);const h=hr(0),f=xr(r);if((f||!f&&!i)&&((Va(r)!=="body"||Uc(o))&&(u=tf(r)),xr(r))){const g=Ki(r);d=Xo(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const p=o&&!f&&!i?QT(o,u,!0):hr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-u.scrollTop*d.y+h.y+p.y}}function H4(t){return Array.from(t.getClientRects())}function G4(t){const e=Er(t),n=tf(t),r=t.ownerDocument.body,s=ln(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=ln(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Zy(t);const l=-n.scrollTop;return Gn(r).direction==="rtl"&&(o+=ln(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function K4(t,e){const n=hn(t),r=Er(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,u=0;if(s){i=s.width,o=s.height;const d=Xy();(!d||d&&e==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:l,y:u}}const Q4=new Set(["absolute","fixed"]);function Y4(t,e){const n=Ki(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=xr(t)?Xo(t):hr(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,u=s*i.x,d=r*i.y;return{width:o,height:l,x:u,y:d}}function Tw(t,e,n){let r;if(e==="viewport")r=K4(t,n);else if(e==="document")r=G4(Er(t));else if(Hn(e))r=Y4(e,n);else{const s=KT(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return oh(r)}function YT(t,e){const n=Zs(t);return n===e||!Hn(n)||ba(n)?!1:Gn(n).position==="fixed"||YT(n,e)}function X4(t,e){const n=e.get(t);if(n)return n;let r=pc(t,[],!1).filter(l=>Hn(l)&&Va(l)!=="body"),s=null;const i=Gn(t).position==="fixed";let o=i?Zs(t):t;for(;Hn(o)&&!ba(o);){const l=Gn(o),u=Yy(o);!u&&l.position==="fixed"&&(s=null),(i?!u&&!s:!u&&l.position==="static"&&!!s&&Q4.has(s.position)||Uc(o)&&!u&&YT(t,o))?r=r.filter(h=>h!==o):s=l,o=Zs(o)}return e.set(t,r),r}function J4(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?ef(e)?[]:X4(e,this._c):[].concat(n),r],l=o[0],u=o.reduce((d,h)=>{const f=Tw(e,h,s);return d.top=ln(f.top,d.top),d.right=Js(f.right,d.right),d.bottom=Js(f.bottom,d.bottom),d.left=ln(f.left,d.left),d},Tw(e,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Z4(t){const{width:e,height:n}=GT(t);return{width:e,height:n}}function eD(t,e,n){const r=xr(e),s=Er(e),i=n==="fixed",o=Ki(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const u=hr(0);function d(){u.x=Zy(s)}if(r||!r&&!i)if((Va(e)!=="body"||Uc(s))&&(l=tf(e)),r){const g=Ki(e,!0,i,e);u.x=g.x+e.clientLeft,u.y=g.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?QT(s,l):hr(0),f=o.left+l.scrollLeft-u.x-h.x,p=o.top+l.scrollTop-u.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function Cp(t){return Gn(t).position==="static"}function Sw(t,e){if(!xr(t)||Gn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Er(t)===n&&(n=n.ownerDocument.body),n}function XT(t,e){const n=hn(t);if(ef(t))return n;if(!xr(t)){let s=Zs(t);for(;s&&!ba(s);){if(Hn(s)&&!Cp(s))return s;s=Zs(s)}return n}let r=Sw(t,e);for(;r&&O4(r)&&Cp(r);)r=Sw(r,e);return r&&ba(r)&&Cp(r)&&!Yy(r)?n:r||$4(t)||n}const tD=async function(t){const e=this.getOffsetParent||XT,n=this.getDimensions,r=await n(t.floating);return{reference:eD(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function nD(t){return Gn(t).direction==="rtl"}const rD={convertOffsetParentRelativeRectToViewportRelativeRect:W4,getDocumentElement:Er,getClippingRect:J4,getOffsetParent:XT,getElementRects:tD,getClientRects:H4,getDimensions:Z4,getScale:Xo,isElement:Hn,isRTL:nD};function JT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function sD(t,e){let n=null,r;const s=Er(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:p,height:g}=d;if(l||e(),!p||!g)return;const y=$u(f),w=$u(s.clientWidth-(h+p)),_=$u(s.clientHeight-(f+g)),b=$u(h),T={rootMargin:-y+"px "+-w+"px "+-_+"px "+-b+"px",threshold:ln(0,Js(1,u))||1};let A=!0;function O(L){const C=L[0].intersectionRatio;if(C!==u){if(!A)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!JT(d,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(O,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,T)}n.observe(t)}return o(!0),i}function iD(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=Jy(t),h=s||i?[...d?pc(d):[],...pc(e)]:[];h.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=d&&l?sD(d,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(b=>{let[E]=b;E&&E.target===d&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),n()}),d&&!u&&g.observe(d),g.observe(e));let y,w=u?Ki(t):null;u&&_();function _(){const b=Ki(t);w&&!JT(w,b)&&n(),w=b,y=requestAnimationFrame(_)}return n(),()=>{var b;h.forEach(E=>{s&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),f==null||f(),(b=g)==null||b.disconnect(),g=null,u&&cancelAnimationFrame(y)}}const oD=P4,aD=R4,lD=N4,cD=j4,uD=I4,Cw=C4,dD=k4,hD=(t,e,n)=>{const r=new Map,s={platform:rD,...n},i={...s.platform,_c:r};return S4(t,e,{...s,platform:i})};var fD=typeof document<"u",pD=function(){},gd=fD?v.useLayoutEffect:pD;function ah(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ah(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ah(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function ZT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Nw(t,e){const n=ZT(t);return Math.round(e*n)/n}function Np(t){const e=v.useRef(t);return gd(()=>{e.current=t}),e}function mD(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[h,f]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=v.useState(r);ah(p,r)||g(r);const[y,w]=v.useState(null),[_,b]=v.useState(null),E=v.useCallback(D=>{D!==L.current&&(L.current=D,w(D))},[]),T=v.useCallback(D=>{D!==C.current&&(C.current=D,b(D))},[]),A=i||y,O=o||_,L=v.useRef(null),C=v.useRef(null),S=v.useRef(h),P=u!=null,R=Np(u),N=Np(s),j=Np(d),k=v.useCallback(()=>{if(!L.current||!C.current)return;const D={placement:e,strategy:n,middleware:p};N.current&&(D.platform=N.current),hD(L.current,C.current,D).then(M=>{const U={...M,isPositioned:j.current!==!1};q.current&&!ah(S.current,U)&&(S.current=U,Lc.flushSync(()=>{f(U)}))})},[p,e,n,N,j]);gd(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[d]);const q=v.useRef(!1);gd(()=>(q.current=!0,()=>{q.current=!1}),[]),gd(()=>{if(A&&(L.current=A),O&&(C.current=O),A&&O){if(R.current)return R.current(A,O,k);k()}},[A,O,k,R,P]);const re=v.useMemo(()=>({reference:L,floating:C,setReference:E,setFloating:T}),[E,T]),H=v.useMemo(()=>({reference:A,floating:O}),[A,O]),J=v.useMemo(()=>{const D={position:n,left:0,top:0};if(!H.floating)return D;const M=Nw(H.floating,h.x),U=Nw(H.floating,h.y);return l?{...D,transform:"translate("+M+"px, "+U+"px)",...ZT(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:U}},[n,l,H.floating,h.x,h.y]);return v.useMemo(()=>({...h,update:k,refs:re,elements:H,floatingStyles:J}),[h,k,re,H,J])}const gD=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Cw({element:r.current,padding:s}).fn(n):{}:r?Cw({element:r,padding:s}).fn(n):{}}}},yD=(t,e)=>({...oD(t),options:[t,e]}),vD=(t,e)=>({...aD(t),options:[t,e]}),xD=(t,e)=>({...dD(t),options:[t,e]}),wD=(t,e)=>({...lD(t),options:[t,e]}),_D=(t,e)=>({...cD(t),options:[t,e]}),ED=(t,e)=>({...uD(t),options:[t,e]}),bD=(t,e)=>({...gD(t),options:[t,e]});var TD="Arrow",eS=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return a.jsx(Ke.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});eS.displayName=TD;var SD=eS;function CD(t){const[e,n]=v.useState(void 0);return Hr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const u=i.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ev="Popper",[tS,nf]=ro(ev),[ND,nS]=tS(ev),rS=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return a.jsx(ND,{scope:e,anchor:r,onAnchorChange:s,children:n})};rS.displayName=ev;var sS="PopperAnchor",iS=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=nS(sS,n),o=v.useRef(null),l=gt(e,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:a.jsx(Ke.div,{...s,ref:l})});iS.displayName=sS;var tv="PopperContent",[ID,AD]=tS(tv),oS=v.forwardRef((t,e)=>{var me,Pn,st,Vt,rn,Xn;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:y,...w}=t,_=nS(tv,n),[b,E]=v.useState(null),T=gt(e,yn=>E(yn)),[A,O]=v.useState(null),L=CD(A),C=(L==null?void 0:L.width)??0,S=(L==null?void 0:L.height)??0,P=r+(i!=="center"?"-"+i:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},N=Array.isArray(d)?d:[d],j=N.length>0,k={padding:R,boundary:N.filter(RD),altBoundary:j},{refs:q,floatingStyles:re,placement:H,isPositioned:J,middlewareData:D}=mD({strategy:"fixed",placement:P,whileElementsMounted:(...yn)=>iD(...yn,{animationFrame:g==="always"}),elements:{reference:_.anchor},middleware:[yD({mainAxis:s+S,alignmentAxis:o}),u&&vD({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?xD():void 0,...k}),u&&wD({...k}),_D({...k,apply:({elements:yn,rects:rs,availableWidth:fi,availableHeight:pi})=>{const{width:Ja,height:mi}=rs.reference,br=yn.floating.style;br.setProperty("--radix-popper-available-width",`${fi}px`),br.setProperty("--radix-popper-available-height",`${pi}px`),br.setProperty("--radix-popper-anchor-width",`${Ja}px`),br.setProperty("--radix-popper-anchor-height",`${mi}px`)}}),A&&bD({element:A,padding:l}),kD({arrowWidth:C,arrowHeight:S}),p&&ED({strategy:"referenceHidden",...k})]}),[M,U]=cS(H),Y=pn(y);Hr(()=>{J&&(Y==null||Y())},[J,Y]);const G=(me=D.arrow)==null?void 0:me.x,ee=(Pn=D.arrow)==null?void 0:Pn.y,pe=((st=D.arrow)==null?void 0:st.centerOffset)!==0,[Pe,$e]=v.useState();return Hr(()=>{b&&$e(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:J?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(Vt=D.transformOrigin)==null?void 0:Vt.x,(rn=D.transformOrigin)==null?void 0:rn.y].join(" "),...((Xn=D.hide)==null?void 0:Xn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(ID,{scope:n,placedSide:M,onArrowChange:O,arrowX:G,arrowY:ee,shouldHideArrow:pe,children:a.jsx(Ke.div,{"data-side":M,"data-align":U,...w,ref:T,style:{...w.style,animation:J?void 0:"none"}})})})});oS.displayName=tv;var aS="PopperArrow",PD={top:"bottom",right:"left",bottom:"top",left:"right"},lS=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=AD(aS,r),o=PD[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(SD,{...s,ref:n,style:{...s.style,display:"block"}})})});lS.displayName=aS;function RD(t){return t!==null}var kD=t=>({name:"transformOrigin",options:t,fn(e){var _,b,E;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,l=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[d,h]=cS(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,g=(((E=s.arrow)==null?void 0:E.y)??0)+u/2;let y="",w="";return d==="bottom"?(y=o?f:`${p}px`,w=`${-u}px`):d==="top"?(y=o?f:`${p}px`,w=`${r.floating.height+u}px`):d==="right"?(y=`${-u}px`,w=o?f:`${g}px`):d==="left"&&(y=`${r.floating.width+u}px`,w=o?f:`${g}px`),{data:{x:y,y:w}}}});function cS(t){const[e,n="center"]=t.split("-");return[e,n]}var jD=rS,uS=iS,dS=oS,hS=lS,[rf,q7]=ro("Tooltip",[nf]),nv=nf(),fS="TooltipProvider",DD=700,Iw="tooltip.open",[MD,pS]=rf(fS),mS=t=>{const{__scopeTooltip:e,delayDuration:n=DD,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=v.useRef(!0),l=v.useRef(!1),u=v.useRef(0);return v.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),a.jsx(MD,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};mS.displayName=fS;var gS="Tooltip",[W7,sf]=rf(gS),rg="TooltipTrigger",OD=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=sf(rg,n),i=pS(rg,n),o=nv(n),l=v.useRef(null),u=gt(e,l,s.onTriggerChange),d=v.useRef(!1),h=v.useRef(!1),f=v.useCallback(()=>d.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(uS,{asChild:!0,...o,children:a.jsx(Ke.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:oe(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:oe(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:oe(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:oe(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:oe(t.onBlur,s.onClose),onClick:oe(t.onClick,s.onClose)})})});OD.displayName=rg;var LD="TooltipPortal",[H7,VD]=rf(LD,{forceMount:void 0}),Ta="TooltipContent",yS=v.forwardRef((t,e)=>{const n=VD(Ta,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=sf(Ta,t.__scopeTooltip);return a.jsx(so,{present:r||o.open,children:o.disableHoverableContent?a.jsx(vS,{side:s,...i,ref:e}):a.jsx(FD,{side:s,...i,ref:e})})}),FD=v.forwardRef((t,e)=>{const n=sf(Ta,t.__scopeTooltip),r=pS(Ta,t.__scopeTooltip),s=v.useRef(null),i=gt(e,s),[o,l]=v.useState(null),{trigger:u,onClose:d}=n,h=s.current,{onPointerInTransitChange:f}=r,p=v.useCallback(()=>{l(null),f(!1)},[f]),g=v.useCallback((y,w)=>{const _=y.currentTarget,b={x:y.clientX,y:y.clientY},E=qD(b,_.getBoundingClientRect()),T=WD(b,E),A=HD(w.getBoundingClientRect()),O=KD([...T,...A]);l(O),f(!0)},[f]);return v.useEffect(()=>()=>p(),[p]),v.useEffect(()=>{if(u&&h){const y=_=>g(_,h),w=_=>g(_,u);return u.addEventListener("pointerleave",y),h.addEventListener("pointerleave",w),()=>{u.removeEventListener("pointerleave",y),h.removeEventListener("pointerleave",w)}}},[u,h,g,p]),v.useEffect(()=>{if(o){const y=w=>{const _=w.target,b={x:w.clientX,y:w.clientY},E=(u==null?void 0:u.contains(_))||(h==null?void 0:h.contains(_)),T=!GD(b,o);E?p():T&&(p(),d())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[u,h,o,d,p]),a.jsx(vS,{...t,ref:i})}),[UD,$D]=rf(gS,{isInside:!1}),zD=DR("TooltipContent"),vS=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,u=sf(Ta,n),d=nv(n),{onClose:h}=u;return v.useEffect(()=>(document.addEventListener(Iw,h),()=>document.removeEventListener(Iw,h)),[h]),v.useEffect(()=>{if(u.trigger){const f=p=>{const g=p.target;g!=null&&g.contains(u.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[u.trigger,h]),a.jsx(Qh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:a.jsxs(dS,{"data-state":u.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(zD,{children:r}),a.jsx(UD,{scope:n,isInside:!0,children:a.jsx(rk,{id:u.contentId,role:"tooltip",children:s||r})})]})})});yS.displayName=Ta;var xS="TooltipArrow",BD=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=nv(n);return $D(xS,n).isInside?null:a.jsx(hS,{...s,...r,ref:e})});BD.displayName=xS;function qD(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function WD(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function HD(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function GD(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],u=e[o],d=l.x,h=l.y,f=u.x,p=u.y;h>r!=p>r&&n<(f-d)*(r-h)/(p-h)+d&&(s=!s)}return s}function KD(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),QD(e)}function QD(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var YD=mS,wS=yS;const XD=YD,JD=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(wS,{ref:r,sideOffset:e,className:Ze("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));JD.displayName=wS.displayName;var of=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},af=typeof window>"u"||"Deno"in globalThis;function On(){}function ZD(t,e){return typeof t=="function"?t(e):t}function eM(t){return typeof t=="number"&&t>=0&&t!==1/0}function tM(t,e){return Math.max(t+(e||0)-Date.now(),0)}function sg(t,e){return typeof t=="function"?t(e):t}function nM(t,e){return typeof t=="function"?t(e):t}function Aw(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==rv(o,e.options))return!1}else if(!gc(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function Pw(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(mc(e.options.mutationKey)!==mc(i))return!1}else if(!gc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function rv(t,e){return((e==null?void 0:e.queryKeyHashFn)||mc)(t)}function mc(t){return JSON.stringify(t,(e,n)=>ig(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function gc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>gc(t[n],e[n])):!1}function _S(t,e){if(t===e)return t;const n=Rw(t)&&Rw(e);if(n||ig(t)&&ig(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,l=n?[]:{},u=new Set(r);let d=0;for(let h=0;h<o;h++){const f=n?h:i[h];(!n&&u.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,d++):(l[f]=_S(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&d++)}return s===o&&d===s?t:l}return e}function Rw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ig(t){if(!kw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!kw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function kw(t){return Object.prototype.toString.call(t)==="[object Object]"}function rM(t){return new Promise(e=>{setTimeout(e,t)})}function sM(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?_S(t,e):e}function iM(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function oM(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var sv=Symbol();function ES(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===sv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ji,Ss,sa,k_,aM=(k_=class extends of{constructor(){super();Se(this,ji);Se(this,Ss);Se(this,sa);fe(this,sa,e=>{if(!af&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,Ss)||this.setEventListener(z(this,sa))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Ss))==null||e.call(this),fe(this,Ss,void 0))}setEventListener(e){var n;fe(this,sa,e),(n=z(this,Ss))==null||n.call(this),fe(this,Ss,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,ji)!==e&&(fe(this,ji,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,ji)=="boolean"?z(this,ji):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ji=new WeakMap,Ss=new WeakMap,sa=new WeakMap,k_),bS=new aM,ia,Cs,oa,j_,lM=(j_=class extends of{constructor(){super();Se(this,ia,!0);Se(this,Cs);Se(this,oa);fe(this,oa,e=>{if(!af&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,Cs)||this.setEventListener(z(this,oa))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Cs))==null||e.call(this),fe(this,Cs,void 0))}setEventListener(e){var n;fe(this,oa,e),(n=z(this,Cs))==null||n.call(this),fe(this,Cs,e(this.setOnline.bind(this)))}setOnline(e){z(this,ia)!==e&&(fe(this,ia,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,ia)}},ia=new WeakMap,Cs=new WeakMap,oa=new WeakMap,j_),lh=new lM;function cM(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function uM(t){return Math.min(1e3*2**t,3e4)}function TS(t){return(t??"online")==="online"?lh.isOnline():!0}var SS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Ip(t){return t instanceof SS}function CS(t){let e=!1,n=0,r=!1,s;const i=cM(),o=w=>{var _;r||(p(new SS(w)),(_=t.abort)==null||_.call(t))},l=()=>{e=!0},u=()=>{e=!1},d=()=>bS.isFocused()&&(t.networkMode==="always"||lh.isOnline())&&t.canRun(),h=()=>TS(t.networkMode)&&t.canRun(),f=w=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,w),s==null||s(),i.resolve(w))},p=w=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,w),s==null||s(),i.reject(w))},g=()=>new Promise(w=>{var _;s=b=>{(r||d())&&w(b)},(_=t.onPause)==null||_.call(t)}).then(()=>{var w;s=void 0,r||(w=t.onContinue)==null||w.call(t)}),y=()=>{if(r)return;let w;const _=n===0?t.initialPromise:void 0;try{w=_??t.fn()}catch(b){w=Promise.reject(b)}Promise.resolve(w).then(f).catch(b=>{var L;if(r)return;const E=t.retry??(af?0:3),T=t.retryDelay??uM,A=typeof T=="function"?T(n,b):T,O=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,b);if(e||!O){p(b);return}n++,(L=t.onFail)==null||L.call(t,n,b),rM(A).then(()=>d()?void 0:g()).then(()=>{e?p(b):y()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:u,canStart:h,start:()=>(h()?y():g().then(y),i)}}var dM=t=>setTimeout(t,0);function hM(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=dM;const i=l=>{e?t.push(l):s(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||o()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var zt=hM(),Di,D_,NS=(D_=class{constructor(){Se(this,Di)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),eM(this.gcTime)&&fe(this,Di,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(af?1/0:5*60*1e3))}clearGcTimeout(){z(this,Di)&&(clearTimeout(z(this,Di)),fe(this,Di,void 0))}},Di=new WeakMap,D_),aa,Mi,xn,Oi,kt,Pc,Li,Ln,Ar,M_,fM=(M_=class extends NS{constructor(n){super();Se(this,Ln);Se(this,aa);Se(this,Mi);Se(this,xn);Se(this,Oi);Se(this,kt);Se(this,Pc);Se(this,Li);fe(this,Li,!1),fe(this,Pc,n.defaultOptions),this.setOptions(n.options),this.observers=[],fe(this,Oi,n.client),fe(this,xn,z(this,Oi).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,fe(this,aa,mM(this.options)),this.state=n.state??z(this,aa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,kt))==null?void 0:n.promise}setOptions(n){this.options={...z(this,Pc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,xn).remove(this)}setData(n,r){const s=sM(this.state.data,n,this.options);return It(this,Ln,Ar).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){It(this,Ln,Ar).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=z(this,kt))==null?void 0:s.promise;return(i=z(this,kt))==null||i.cancel(n),r?r.then(On).catch(On):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,aa))}isActive(){return this.observers.some(n=>nM(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>sg(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!tM(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,kt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,kt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,xn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,kt)&&(z(this,Li)?z(this,kt).cancel({revert:!0}):z(this,kt).cancelRetry()),this.scheduleGc()),z(this,xn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||It(this,Ln,Ar).call(this,{type:"invalidate"})}fetch(n,r){var h,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,kt))return z(this,kt).continueRetry(),z(this,kt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(y=>y.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(fe(this,Li,!0),s.signal)})},o=()=>{const g=ES(this.options,r),w=(()=>{const _={client:z(this,Oi),queryKey:this.queryKey,meta:this.meta};return i(_),_})();return fe(this,Li,!1),this.options.persister?this.options.persister(g,w,this):g(w)},u=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,Oi),state:this.state,fetchFn:o};return i(g),g})();(h=this.options.behavior)==null||h.onFetch(u,this),fe(this,Mi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=u.fetchOptions)==null?void 0:f.meta))&&It(this,Ln,Ar).call(this,{type:"fetch",meta:(p=u.fetchOptions)==null?void 0:p.meta});const d=g=>{var y,w,_,b;Ip(g)&&g.silent||It(this,Ln,Ar).call(this,{type:"error",error:g}),Ip(g)||((w=(y=z(this,xn).config).onError)==null||w.call(y,g,this),(b=(_=z(this,xn).config).onSettled)==null||b.call(_,this.state.data,g,this)),this.scheduleGc()};return fe(this,kt,CS({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var y,w,_,b;if(g===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(E){d(E);return}(w=(y=z(this,xn).config).onSuccess)==null||w.call(y,g,this),(b=(_=z(this,xn).config).onSettled)==null||b.call(_,g,this.state.error,this),this.scheduleGc()},onError:d,onFail:(g,y)=>{It(this,Ln,Ar).call(this,{type:"failed",failureCount:g,error:y})},onPause:()=>{It(this,Ln,Ar).call(this,{type:"pause"})},onContinue:()=>{It(this,Ln,Ar).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),z(this,kt).start()}},aa=new WeakMap,Mi=new WeakMap,xn=new WeakMap,Oi=new WeakMap,kt=new WeakMap,Pc=new WeakMap,Li=new WeakMap,Ln=new WeakSet,Ar=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...pM(s.data,this.options),fetchMeta:n.meta??null};case"success":return fe(this,Mi,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Ip(i)&&i.revert&&z(this,Mi)?{...z(this,Mi),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),zt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),z(this,xn).notify({query:this,type:"updated",action:n})})},M_);function pM(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:TS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function mM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var sr,O_,gM=(O_=class extends of{constructor(e={}){super();Se(this,sr);this.config=e,fe(this,sr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??rv(s,n);let o=this.get(i);return o||(o=new fM({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){z(this,sr).has(e.queryHash)||(z(this,sr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,sr).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,sr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,sr).get(e)}getAll(){return[...z(this,sr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Aw(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Aw(e,r)):n}notify(e){zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){zt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},sr=new WeakMap,O_),ir,Ft,Vi,or,ps,L_,yM=(L_=class extends NS{constructor(n){super();Se(this,or);Se(this,ir);Se(this,Ft);Se(this,Vi);this.mutationId=n.mutationId,fe(this,Ft,n.mutationCache),fe(this,ir,[]),this.state=n.state||vM(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,ir).includes(n)||(z(this,ir).push(n),this.clearGcTimeout(),z(this,Ft).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){fe(this,ir,z(this,ir).filter(r=>r!==n)),this.scheduleGc(),z(this,Ft).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,ir).length||(this.state.status==="pending"?this.scheduleGc():z(this,Ft).remove(this))}continue(){var n;return((n=z(this,Vi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,l,u,d,h,f,p,g,y,w,_,b,E,T,A,O,L,C,S,P;const r=()=>{It(this,or,ps).call(this,{type:"continue"})};fe(this,Vi,CS({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,N)=>{It(this,or,ps).call(this,{type:"failed",failureCount:R,error:N})},onPause:()=>{It(this,or,ps).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Ft).canRun(this)}));const s=this.state.status==="pending",i=!z(this,Vi).canStart();try{if(s)r();else{It(this,or,ps).call(this,{type:"pending",variables:n,isPaused:i}),await((l=(o=z(this,Ft).config).onMutate)==null?void 0:l.call(o,n,this));const N=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,n));N!==this.state.context&&It(this,or,ps).call(this,{type:"pending",context:N,variables:n,isPaused:i})}const R=await z(this,Vi).start();return await((f=(h=z(this,Ft).config).onSuccess)==null?void 0:f.call(h,R,n,this.state.context,this)),await((g=(p=this.options).onSuccess)==null?void 0:g.call(p,R,n,this.state.context)),await((w=(y=z(this,Ft).config).onSettled)==null?void 0:w.call(y,R,null,this.state.variables,this.state.context,this)),await((b=(_=this.options).onSettled)==null?void 0:b.call(_,R,null,n,this.state.context)),It(this,or,ps).call(this,{type:"success",data:R}),R}catch(R){try{throw await((T=(E=z(this,Ft).config).onError)==null?void 0:T.call(E,R,n,this.state.context,this)),await((O=(A=this.options).onError)==null?void 0:O.call(A,R,n,this.state.context)),await((C=(L=z(this,Ft).config).onSettled)==null?void 0:C.call(L,void 0,R,this.state.variables,this.state.context,this)),await((P=(S=this.options).onSettled)==null?void 0:P.call(S,void 0,R,n,this.state.context)),R}finally{It(this,or,ps).call(this,{type:"error",error:R})}}finally{z(this,Ft).runNext(this)}}},ir=new WeakMap,Ft=new WeakMap,Vi=new WeakMap,or=new WeakSet,ps=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),zt.batch(()=>{z(this,ir).forEach(s=>{s.onMutationUpdate(n)}),z(this,Ft).notify({mutation:this,type:"updated",action:n})})},L_);function vM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kr,Vn,Rc,V_,xM=(V_=class extends of{constructor(e={}){super();Se(this,kr);Se(this,Vn);Se(this,Rc);this.config=e,fe(this,kr,new Set),fe(this,Vn,new Map),fe(this,Rc,0)}build(e,n,r){const s=new yM({mutationCache:this,mutationId:++wu(this,Rc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){z(this,kr).add(e);const n=zu(e);if(typeof n=="string"){const r=z(this,Vn).get(n);r?r.push(e):z(this,Vn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(z(this,kr).delete(e)){const n=zu(e);if(typeof n=="string"){const r=z(this,Vn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&z(this,Vn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=zu(e);if(typeof n=="string"){const r=z(this,Vn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=zu(e);if(typeof n=="string"){const s=(r=z(this,Vn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){zt.batch(()=>{z(this,kr).forEach(e=>{this.notify({type:"removed",mutation:e})}),z(this,kr).clear(),z(this,Vn).clear()})}getAll(){return Array.from(z(this,kr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Pw(n,r))}findAll(e={}){return this.getAll().filter(n=>Pw(e,n))}notify(e){zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return zt.batch(()=>Promise.all(e.map(n=>n.continue().catch(On))))}},kr=new WeakMap,Vn=new WeakMap,Rc=new WeakMap,V_);function zu(t){var e;return(e=t.options.scope)==null?void 0:e.id}function jw(t){return{onFetch:(e,n)=>{var h,f,p,g,y;const r=e.options,s=(p=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let w=!1;const _=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},b=ES(e.options,e.fetchOptions),E=async(T,A,O)=>{if(w)return Promise.reject();if(A==null&&T.pages.length)return Promise.resolve(T);const C=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:A,direction:O?"backward":"forward",meta:e.options.meta};return _(N),N})(),S=await b(C),{maxPages:P}=e.options,R=O?oM:iM;return{pages:R(T.pages,S,P),pageParams:R(T.pageParams,A,P)}};if(s&&i.length){const T=s==="backward",A=T?wM:Dw,O={pages:i,pageParams:o},L=A(r,O);l=await E(O,L,T)}else{const T=t??i.length;do{const A=u===0?o[0]??r.initialPageParam:Dw(r,l);if(u>0&&A==null)break;l=await E(l,A),u++}while(u<T)}return l};e.options.persister?e.fetchFn=()=>{var w,_;return(_=(w=e.options).persister)==null?void 0:_.call(w,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function Dw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function wM(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Xe,Ns,Is,la,ca,As,ua,da,F_,_M=(F_=class{constructor(t={}){Se(this,Xe);Se(this,Ns);Se(this,Is);Se(this,la);Se(this,ca);Se(this,As);Se(this,ua);Se(this,da);fe(this,Xe,t.queryCache||new gM),fe(this,Ns,t.mutationCache||new xM),fe(this,Is,t.defaultOptions||{}),fe(this,la,new Map),fe(this,ca,new Map),fe(this,As,0)}mount(){wu(this,As)._++,z(this,As)===1&&(fe(this,ua,bS.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Xe).onFocus())})),fe(this,da,lh.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Xe).onOnline())})))}unmount(){var t,e;wu(this,As)._--,z(this,As)===0&&((t=z(this,ua))==null||t.call(this),fe(this,ua,void 0),(e=z(this,da))==null||e.call(this),fe(this,da,void 0))}isFetching(t){return z(this,Xe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,Ns).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Xe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=z(this,Xe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(sg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return z(this,Xe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=z(this,Xe).get(r.queryHash),i=s==null?void 0:s.state.data,o=ZD(e,i);if(o!==void 0)return z(this,Xe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return zt.batch(()=>z(this,Xe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Xe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,Xe);zt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,Xe);return zt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=zt.batch(()=>z(this,Xe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(On).catch(On)}invalidateQueries(t,e={}){return zt.batch(()=>(z(this,Xe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=zt.batch(()=>z(this,Xe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(On)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(On)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,Xe).build(this,e);return n.isStaleByTime(sg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(On).catch(On)}fetchInfiniteQuery(t){return t.behavior=jw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(On).catch(On)}ensureInfiniteQueryData(t){return t.behavior=jw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return lh.isOnline()?z(this,Ns).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Xe)}getMutationCache(){return z(this,Ns)}getDefaultOptions(){return z(this,Is)}setDefaultOptions(t){fe(this,Is,t)}setQueryDefaults(t,e){z(this,la).set(mc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,la).values()],n={};return e.forEach(r=>{gc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){z(this,ca).set(mc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,ca).values()],n={};return e.forEach(r=>{gc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,Is).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=rv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===sv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,Is).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,Xe).clear(),z(this,Ns).clear()}},Xe=new WeakMap,Ns=new WeakMap,Is=new WeakMap,la=new WeakMap,ca=new WeakMap,As=new WeakMap,ua=new WeakMap,da=new WeakMap,F_),EM=v.createContext(void 0),bM=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(EM.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yc.apply(this,arguments)}var js;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(js||(js={}));const Mw="popstate";function TM(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return og("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ch(s)}return CM(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function IS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SM(){return Math.random().toString(36).substr(2,8)}function Ow(t,e){return{usr:t.state,key:t.key,idx:e}}function og(t,e,n,r){return n===void 0&&(n=null),yc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fa(e):e,{state:n,key:e&&e.key||r||SM()})}function ch(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function CM(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=js.Pop,u=null,d=h();d==null&&(d=0,o.replaceState(yc({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=js.Pop;let _=h(),b=_==null?null:_-d;d=_,u&&u({action:l,location:w.location,delta:b})}function p(_,b){l=js.Push;let E=og(w.location,_,b);d=h()+1;let T=Ow(E,d),A=w.createHref(E);try{o.pushState(T,"",A)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(A)}i&&u&&u({action:l,location:w.location,delta:1})}function g(_,b){l=js.Replace;let E=og(w.location,_,b);d=h();let T=Ow(E,d),A=w.createHref(E);o.replaceState(T,"",A),i&&u&&u({action:l,location:w.location,delta:0})}function y(_){let b=s.location.origin!=="null"?s.location.origin:s.location.href,E=typeof _=="string"?_:ch(_);return E=E.replace(/ $/,"%20"),rt(b,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,b)}let w={get action(){return l},get location(){return t(s,o)},listen(_){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Mw,f),u=_,()=>{s.removeEventListener(Mw,f),u=null}},createHref(_){return e(s,_)},createURL:y,encodeLocation(_){let b=y(_);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:g,go(_){return o.go(_)}};return w}var Lw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Lw||(Lw={}));function NM(t,e,n){return n===void 0&&(n="/"),IM(t,e,n,!1)}function IM(t,e,n,r){let s=typeof e=="string"?Fa(e):e,i=iv(s.pathname||"/",n);if(i==null)return null;let o=AS(t);AM(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=UM(i);l=VM(o[u],d,r)}return l}function AS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(rt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=qs([r,u.relativePath]),h=n.concat(u);i.children&&i.children.length>0&&(rt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),AS(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:OM(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of PS(i.path))s(i,o,u)}),e}function PS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=PS(r.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function AM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:LM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const PM=/^:[\w-]+$/,RM=3,kM=2,jM=1,DM=10,MM=-2,Vw=t=>t==="*";function OM(t,e){let n=t.split("/"),r=n.length;return n.some(Vw)&&(r+=MM),e&&(r+=kM),n.filter(s=>!Vw(s)).reduce((s,i)=>s+(PM.test(i)?RM:i===""?jM:DM),r)}function LM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function VM(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=Fw({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),p=u.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=Fw({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:qs([i,f.pathname]),pathnameBase:qM(qs([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=qs([i,f.pathnameBase]))}return o}function Fw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=FM(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:p,isOptional:g}=h;if(p==="*"){let w=l[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[f];return g&&!y?d[p]=void 0:d[p]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function FM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),IS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function UM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return IS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function iv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $M(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Fa(t):t;return{pathname:n?n.startsWith("/")?n:zM(n,e):e,search:WM(r),hash:HM(s)}}function zM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ap(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ov(t,e){let n=BM(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function av(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Fa(t):(s=yc({},t),rt(!s.pathname||!s.pathname.includes("?"),Ap("?","pathname","search",s)),rt(!s.pathname||!s.pathname.includes("#"),Ap("#","pathname","hash",s)),rt(!s.search||!s.search.includes("#"),Ap("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?e[f]:"/"}let u=$M(s,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}const qs=t=>t.join("/").replace(/\/\/+/g,"/"),qM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function GM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const RS=["post","put","patch","delete"];new Set(RS);const KM=["get",...RS];new Set(KM);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vc.apply(this,arguments)}const lv=v.createContext(null),QM=v.createContext(null),ci=v.createContext(null),lf=v.createContext(null),es=v.createContext({outlet:null,matches:[],isDataRoute:!1}),kS=v.createContext(null);function YM(t,e){let{relative:n}=e===void 0?{}:e;Ua()||rt(!1);let{basename:r,navigator:s}=v.useContext(ci),{hash:i,pathname:o,search:l}=DS(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:qs([r,o])),s.createHref({pathname:u,search:l,hash:i})}function Ua(){return v.useContext(lf)!=null}function Yn(){return Ua()||rt(!1),v.useContext(lf).location}function jS(t){v.useContext(ci).static||v.useLayoutEffect(t)}function $a(){let{isDataRoute:t}=v.useContext(es);return t?uO():XM()}function XM(){Ua()||rt(!1);let t=v.useContext(lv),{basename:e,future:n,navigator:r}=v.useContext(ci),{matches:s}=v.useContext(es),{pathname:i}=Yn(),o=JSON.stringify(ov(s,n.v7_relativeSplatPath)),l=v.useRef(!1);return jS(()=>{l.current=!0}),v.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let f=av(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:qs([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function JM(){let{matches:t}=v.useContext(es),e=t[t.length-1];return e?e.params:{}}function DS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(ci),{matches:s}=v.useContext(es),{pathname:i}=Yn(),o=JSON.stringify(ov(s,r.v7_relativeSplatPath));return v.useMemo(()=>av(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function ZM(t,e){return eO(t,e)}function eO(t,e,n,r){Ua()||rt(!1);let{navigator:s}=v.useContext(ci),{matches:i}=v.useContext(es),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=Yn(),h;if(e){var f;let _=typeof e=="string"?Fa(e):e;u==="/"||(f=_.pathname)!=null&&f.startsWith(u)||rt(!1),h=_}else h=d;let p=h.pathname||"/",g=p;if(u!=="/"){let _=u.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=NM(t,{pathname:g}),w=iO(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:qs([u,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:qs([u,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&w?v.createElement(lf.Provider,{value:{location:vc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:js.Pop}},w):w}function tO(){let t=cO(),e=GM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,null)}const nO=v.createElement(tO,null);class rO extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(es.Provider,{value:this.props.routeContext},v.createElement(kS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sO(t){let{routeContext:e,match:n,children:r}=t,s=v.useContext(lv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(es.Provider,{value:e},r)}function iO(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||rt(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:g}=n,y=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||y){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let g,y=!1,w=null,_=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||nO,u&&(d<0&&p===0?(y=!0,_=null):d===p&&(y=!0,_=f.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,p+1)),E=()=>{let T;return g?T=w:y?T=_:f.route.Component?T=v.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=h,v.createElement(sO,{match:f,routeContext:{outlet:h,matches:b,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?v.createElement(rO,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:E(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):E()},null)}var MS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(MS||{}),uh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(uh||{});function oO(t){let e=v.useContext(lv);return e||rt(!1),e}function aO(t){let e=v.useContext(QM);return e||rt(!1),e}function lO(t){let e=v.useContext(es);return e||rt(!1),e}function OS(t){let e=lO(),n=e.matches[e.matches.length-1];return n.route.id||rt(!1),n.route.id}function cO(){var t;let e=v.useContext(kS),n=aO(uh.UseRouteError),r=OS(uh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function uO(){let{router:t}=oO(MS.UseNavigateStable),e=OS(uh.UseNavigateStable),n=v.useRef(!1);return jS(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,vc({fromRouteId:e},i)))},[t,e])}function dO(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Uw(t){let{to:e,replace:n,state:r,relative:s}=t;Ua()||rt(!1);let{future:i,static:o}=v.useContext(ci),{matches:l}=v.useContext(es),{pathname:u}=Yn(),d=$a(),h=av(e,ov(l,i.v7_relativeSplatPath),u,s==="path"),f=JSON.stringify(h);return v.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function on(t){rt(!1)}function hO(t){let{basename:e="/",children:n=null,location:r,navigationType:s=js.Pop,navigator:i,static:o=!1,future:l}=t;Ua()&&rt(!1);let u=e.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:u,navigator:i,static:o,future:vc({v7_relativeSplatPath:!1},l)}),[u,l,i,o]);typeof r=="string"&&(r=Fa(r));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:y="default"}=r,w=v.useMemo(()=>{let _=iv(h,u);return _==null?null:{location:{pathname:_,search:f,hash:p,state:g,key:y},navigationType:s}},[u,h,f,p,g,y,s]);return w==null?null:v.createElement(ci.Provider,{value:d},v.createElement(lf.Provider,{children:n,value:w}))}function fO(t){let{children:e,location:n}=t;return ZM(ag(e),n)}new Promise(()=>{});function ag(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,s)=>{if(!v.isValidElement(r))return;let i=[...e,s];if(r.type===v.Fragment){n.push.apply(n,ag(r.props.children,i));return}r.type!==on&&rt(!1),!r.props.index||!r.props.children||rt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ag(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lg.apply(this,arguments)}function pO(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function mO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gO(t,e){return t.button===0&&(!e||e==="_self")&&!mO(t)}const yO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vO="6";try{window.__reactRouterVersion=vO}catch{}const xO="startTransition",$w=Hg[xO];function wO(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=TM({window:s,v5Compat:!0}));let o=i.current,[l,u]=v.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=v.useCallback(f=>{d&&$w?$w(()=>u(f)):u(f)},[u,d]);return v.useLayoutEffect(()=>o.listen(h),[o,h]),v.useEffect(()=>dO(r),[r]),v.createElement(hO,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const _O=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ce=v.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:f}=e,p=pO(e,yO),{basename:g}=v.useContext(ci),y,w=!1;if(typeof d=="string"&&EO.test(d)&&(y=d,_O))try{let T=new URL(window.location.href),A=d.startsWith("//")?new URL(T.protocol+d):new URL(d),O=iv(A.pathname,g);A.origin===T.origin&&O!=null?d=O+A.search+A.hash:w=!0}catch{}let _=YM(d,{relative:s}),b=bO(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:s,viewTransition:f});function E(T){r&&r(T),T.defaultPrevented||b(T)}return v.createElement("a",lg({},p,{href:y||_,onClick:w||i?r:E,ref:n,target:u}))});var zw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(zw||(zw={}));var Bw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Bw||(Bw={}));function bO(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,u=$a(),d=Yn(),h=DS(t,{relative:o});return v.useCallback(f=>{if(gO(f,n)){f.preventDefault();let p=r!==void 0?r:ch(d)===ch(h);u(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,u,h,r,s,n,t,i,o,l])}const LS=v.createContext(void 0),TO=(t,e)=>{switch(e.type){case"ADD_ITEM":if(t.items.find(r=>r.id===e.payload.id)){const r=t.items.map(s=>s.id===e.payload.id?{...s,quantity:s.quantity+1}:s);return _o({...t,items:r})}else{const r={...e.payload,quantity:1};return _o({...t,items:[...t.items,r]})}case"REMOVE_ITEM":{const n=t.items.filter(r=>r.id!==e.payload);return _o({...t,items:n})}case"UPDATE_QUANTITY":{if(e.payload.quantity<=0){const r=t.items.filter(s=>s.id!==e.payload.id);return _o({...t,items:r})}const n=t.items.map(r=>r.id===e.payload.id?{...r,quantity:e.payload.quantity}:r);return _o({...t,items:n})}case"CLEAR_CART":return{items:[],total:0,itemCount:0};case"LOAD_CART":return _o({...t,items:e.payload});default:return t}},_o=t=>{const e=t.items.reduce((r,s)=>r+s.price*s.quantity,0),n=t.items.reduce((r,s)=>r+s.quantity,0);return{...t,total:e,itemCount:n}},SO=({children:t})=>{const[e,n]=v.useReducer(TO,{items:[],total:0,itemCount:0});v.useEffect(()=>{const l=localStorage.getItem("autoparts-cart");if(l)try{const u=JSON.parse(l);n({type:"LOAD_CART",payload:u})}catch(u){console.error("Failed to load cart from localStorage:",u)}},[]),v.useEffect(()=>{localStorage.setItem("autoparts-cart",JSON.stringify(e.items))},[e.items]);const r=l=>{n({type:"ADD_ITEM",payload:l})},s=l=>{n({type:"REMOVE_ITEM",payload:l})},i=(l,u)=>{n({type:"UPDATE_QUANTITY",payload:{id:l,quantity:u}})},o=()=>{n({type:"CLEAR_CART"})};return a.jsx(LS.Provider,{value:{...e,addItem:r,removeItem:s,updateQuantity:i,clearCart:o},children:t})},za=()=>{const t=v.useContext(LS);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},CO=()=>{};var qw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},NO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},FS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let p=(l&15)<<2|d>>6,g=d&63;u||(g=64,o||(p=64)),r.push(n[h],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||f==null)throw new IO;const p=i<<2|l>>4;if(r.push(p),d!==64){const g=l<<4&240|d>>2;if(r.push(g),f!==64){const y=d<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AO=function(t){const e=VS(t);return FS.encodeByteArray(e,!0)},dh=function(t){return AO(t).replace(/\./g,"")},US=function(t){try{return FS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=()=>PO().__FIREBASE_DEFAULTS__,kO=()=>{if(typeof process>"u"||typeof qw>"u")return;const t=qw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&US(t[1]);return e&&JSON.parse(e)},cf=()=>{try{return CO()||RO()||kO()||jO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$S=t=>{var e,n;return(n=(e=cf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},DO=t=>{const e=$S(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zS=()=>{var t;return(t=cf())==null?void 0:t.config},BS=t=>{var e;return(e=cf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[dh(JSON.stringify(n)),dh(JSON.stringify(o)),""].join(".")}const zl={};function LO(){const t={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?t.emulator.push(e):t.prod.push(e);return t}function VO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ww=!1;function WS(t,e){if(typeof window>"u"||typeof document>"u"||!Ba(window.location.host)||zl[t]===e||zl[t]||Ww)return;zl[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=LO().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Ww=!0,o()},p}function h(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=VO(r),g=n("text"),y=document.getElementById(g)||document.createElement("span"),w=n("learnmore"),_=document.getElementById(w)||document.createElement("a"),b=n("preprendIcon"),E=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;l(T),h(_,w);const A=d();u(E,b),T.append(E,y,_,A),document.body.appendChild(T)}i?(y.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function UO(){var e;const t=(e=cf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $O(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qO(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WO(){return!UO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HO(){try{return typeof indexedDB=="object"}catch{return!1}}function GO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="FirebaseError";class ts extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KO,Object.setPrototypeOf(this,ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$c.prototype.create)}}class $c{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?QO(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new ts(s,l,r)}}function QO(t,e){return t.replace(YO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const YO=/\{\$([^}]+)}/g;function XO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Hw(i)&&Hw(o)){if(!Qi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Hw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Sl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Cl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function JO(t,e){const n=new ZO(t,e);return n.subscribe.bind(n)}class ZO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Pp),s.error===void 0&&(s.error=Pp),s.complete===void 0&&(s.complete=Pp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){return t&&t._delegate?t._delegate:t}class Yi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new MO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rL(e))try{this.getOrInitializeService({instanceIdentifier:Si})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Si){return this.instances.has(e)}getOptions(e=Si){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Si){return this.component?this.component.multipleInstances?e:Si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nL(t){return t===Si?void 0:t}function rL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const iL={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},oL=ve.INFO,aL={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},lL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=aL[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cv{constructor(e){this.name=e,this._logLevel=oL,this._logHandler=lL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const cL=(t,e)=>e.some(n=>t instanceof n);let Gw,Kw;function uL(){return Gw||(Gw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dL(){return Kw||(Kw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HS=new WeakMap,cg=new WeakMap,GS=new WeakMap,Rp=new WeakMap,uv=new WeakMap;function hL(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ws(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&HS.set(n,t)}).catch(()=>{}),uv.set(e,t),e}function fL(t){if(cg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});cg.set(t,e)}let ug={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pL(t){ug=t(ug)}function mL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kp(this),e,...n);return GS.set(r,e.sort?e.sort():[e]),Ws(r)}:dL().includes(t)?function(...e){return t.apply(kp(this),e),Ws(HS.get(this))}:function(...e){return Ws(t.apply(kp(this),e))}}function gL(t){return typeof t=="function"?mL(t):(t instanceof IDBTransaction&&fL(t),cL(t,uL())?new Proxy(t,ug):t)}function Ws(t){if(t instanceof IDBRequest)return hL(t);if(Rp.has(t))return Rp.get(t);const e=gL(t);return e!==t&&(Rp.set(t,e),uv.set(e,t)),e}const kp=t=>uv.get(t);function yL(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Ws(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ws(o.result),u.oldVersion,u.newVersion,Ws(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const vL=["get","getKey","getAll","getAllKeys","count"],xL=["put","add","delete","clear"],jp=new Map;function Qw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jp.get(e))return jp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=xL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||vL.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&u.done]))[0]};return jp.set(e,i),i}pL(t=>({...t,get:(e,n,r)=>Qw(e,n)||t.get(e,n,r),has:(e,n)=>!!Qw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_L(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _L(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dg="@firebase/app",Yw="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new cv("@firebase/app"),EL="@firebase/app-compat",bL="@firebase/analytics-compat",TL="@firebase/analytics",SL="@firebase/app-check-compat",CL="@firebase/app-check",NL="@firebase/auth",IL="@firebase/auth-compat",AL="@firebase/database",PL="@firebase/data-connect",RL="@firebase/database-compat",kL="@firebase/functions",jL="@firebase/functions-compat",DL="@firebase/installations",ML="@firebase/installations-compat",OL="@firebase/messaging",LL="@firebase/messaging-compat",VL="@firebase/performance",FL="@firebase/performance-compat",UL="@firebase/remote-config",$L="@firebase/remote-config-compat",zL="@firebase/storage",BL="@firebase/storage-compat",qL="@firebase/firestore",WL="@firebase/ai",HL="@firebase/firestore-compat",GL="firebase",KL="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="[DEFAULT]",QL={[dg]:"fire-core",[EL]:"fire-core-compat",[TL]:"fire-analytics",[bL]:"fire-analytics-compat",[CL]:"fire-app-check",[SL]:"fire-app-check-compat",[NL]:"fire-auth",[IL]:"fire-auth-compat",[AL]:"fire-rtdb",[PL]:"fire-data-connect",[RL]:"fire-rtdb-compat",[kL]:"fire-fn",[jL]:"fire-fn-compat",[DL]:"fire-iid",[ML]:"fire-iid-compat",[OL]:"fire-fcm",[LL]:"fire-fcm-compat",[VL]:"fire-perf",[FL]:"fire-perf-compat",[UL]:"fire-rc",[$L]:"fire-rc-compat",[zL]:"fire-gcs",[BL]:"fire-gcs-compat",[qL]:"fire-fst",[HL]:"fire-fst-compat",[WL]:"fire-vertex","fire-js":"fire-js",[GL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,YL=new Map,fg=new Map;function Xw(t,e){try{t.container.addComponent(e)}catch(n){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sa(t){const e=t.name;if(fg.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;fg.set(e,t);for(const n of hh.values())Xw(n,t);for(const n of YL.values())Xw(n,t);return!0}function dv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new $c("app","Firebase",XL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=KL;function KS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:hg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Hs.create("bad-app-name",{appName:String(s)});if(n||(n=zS()),!n)throw Hs.create("no-options");const i=hh.get(s);if(i){if(Qi(n,i.options)&&Qi(r,i.config))return i;throw Hs.create("duplicate-app",{appName:s})}const o=new sL(s);for(const u of fg.values())o.addComponent(u);const l=new JL(n,r,o);return hh.set(s,l),l}function QS(t=hg){const e=hh.get(t);if(!e&&t===hg&&zS())return KS();if(!e)throw Hs.create("no-app",{appName:t});return e}function Gs(t,e,n){let r=QL[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(o.join(" "));return}Sa(new Yi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="firebase-heartbeat-database",e3=1,xc="firebase-heartbeat-store";let Dp=null;function YS(){return Dp||(Dp=yL(ZL,e3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hs.create("idb-open",{originalErrorMessage:t.message})})),Dp}async function t3(t){try{const n=(await YS()).transaction(xc),r=await n.objectStore(xc).get(XS(t));return await n.done,r}catch(e){if(e instanceof ts)Qr.warn(e.message);else{const n=Hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qr.warn(n.message)}}}async function Jw(t,e){try{const r=(await YS()).transaction(xc,"readwrite");await r.objectStore(xc).put(e,XS(t)),await r.done}catch(n){if(n instanceof ts)Qr.warn(n.message);else{const r=Hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qr.warn(r.message)}}}function XS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=1024,r3=30;class s3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new o3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Zw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>r3){const o=a3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zw(),{heartbeatsToSend:r,unsentEntries:s}=i3(this._heartbeatsCache.heartbeats),i=dh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Qr.warn(n),""}}}function Zw(){return new Date().toISOString().substring(0,10)}function i3(t,e=n3){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),e1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),e1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class o3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HO()?GO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await t3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Jw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Jw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function e1(t){return dh(JSON.stringify({version:2,heartbeats:t})).length}function a3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t){Sa(new Yi("platform-logger",e=>new wL(e),"PRIVATE")),Sa(new Yi("heartbeat",e=>new s3(e),"PRIVATE")),Gs(dg,Yw,t),Gs(dg,Yw,"esm2020"),Gs("fire-js","")}l3("");function JS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c3=JS,ZS=new $c("auth","Firebase",JS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new cv("@firebase/auth");function u3(t,...e){fh.logLevel<=ve.WARN&&fh.warn(`Auth (${qa}): ${t}`,...e)}function yd(t,...e){fh.logLevel<=ve.ERROR&&fh.error(`Auth (${qa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,...e){throw hv(t,...e)}function fr(t,...e){return hv(t,...e)}function eC(t,e,n){const r={...c3(),[e]:n};return new $c("auth","Firebase",r).create(e,{appName:t.name})}function Ur(t){return eC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ZS.create(t,...e)}function ae(t,e,...n){if(!t)throw hv(e,...n)}function Lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yd(e),new Error(e)}function Yr(t,e){t||Lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function d3(){return t1()==="http:"||t1()==="https:"}function t1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d3()||zO()||"connection"in navigator)?navigator.onLine:!0}function f3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yr(n>e,"Short delay should be less than long delay!"),this.isMobile=FO()||BO()}get(){return h3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t,e){Yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],g3=new Bc(3e4,6e4);function ui(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ns(t,e,n,r,s={}){return nC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=zc({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...i};return $O()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ba(t.emulatorConfig.host)&&(d.credentials="include"),tC.fetch()(await rC(t,t.config.apiHost,n,l),d)})}async function nC(t,e,n){t._canInitEmulator=!1;const r={...p3,...e};try{const s=new v3(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Bu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Bu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Bu(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw eC(t,h,d);Kn(t,h)}}catch(s){if(s instanceof ts)throw s;Kn(t,"network-request-failed",{message:String(s)})}}async function qc(t,e,n,r,s={}){const i=await ns(t,e,n,r,s);return"mfaPendingCredential"in i&&Kn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function rC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?fv(t.config,s):`${t.config.apiScheme}://${s}`;return m3.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function y3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class v3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fr(this.auth,"network-request-failed")),g3.get())})}}function Bu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=fr(t,e,r);return s.customData._tokenResponse=n,s}function n1(t){return t!==void 0&&t.enterprise!==void 0}class x3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return y3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function w3(t,e){return ns(t,"GET","/v2/recaptchaConfig",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _3(t,e){return ns(t,"POST","/v1/accounts:delete",e)}async function ph(t,e){return ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E3(t,e=!1){const n=ht(t),r=await n.getIdToken(e),s=pv(r);ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Bl(Mp(s.auth_time)),issuedAtTime:Bl(Mp(s.iat)),expirationTime:Bl(Mp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Mp(t){return Number(t)*1e3}function pv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yd("JWT malformed, contained fewer than 3 sections"),null;try{const s=US(n);return s?JSON.parse(s):(yd("Failed to decode base64 JWT payload"),null)}catch(s){return yd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function r1(t){const e=pv(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ts&&b3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function b3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Ca(t,ph(e,{idToken:n}));ae(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?sC(s.providerUserInfo):[],o=C3(t.providerData,i),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new mg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function S3(t){const e=ht(t);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C3(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function sC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N3(t,e){const n=await nC(t,{},async()=>{const r=zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await rC(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return t.emulatorConfig&&Ba(t.emulatorConfig.host)&&(u.credentials="include"),tC.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function I3(t,e){return ns(t,"POST","/v2/accounts:revokeToken",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=r1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await N3(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Jo;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ae(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ae(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jo,this.toJSON())}_performRefresh(){return Lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $n{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new T3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new mg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ca(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return E3(this,e)}reload(){return S3(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(Ur(this.auth));const e=await this.getIdToken();return await Ca(this,_3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:g,providerData:y,stsTokenManager:w}=n;ae(f&&w,e,"internal-error");const _=Jo.fromJSON(this.name,w);ae(typeof f=="string",e,"internal-error"),fs(r,e.name),fs(s,e.name),ae(typeof p=="boolean",e,"internal-error"),ae(typeof g=="boolean",e,"internal-error"),fs(i,e.name),fs(o,e.name),fs(l,e.name),fs(u,e.name),fs(d,e.name),fs(h,e.name);const b=new $n({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:_,createdAt:d,lastLoginAt:h});return y&&Array.isArray(y)&&(b.providerData=y.map(E=>({...E}))),u&&(b._redirectEventId=u),b}static async _fromIdTokenResponse(e,n,r=!1){const s=new Jo;s.updateFromServerResponse(n);const i=new $n({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await mh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ae(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?sC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Jo;l.updateFromIdToken(r);const u=new $n({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new mg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=new Map;function Vr(t){Yr(t instanceof Function,"Expected a class definition");let e=s1.get(t);return e?(Yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,s1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iC.type="NONE";const i1=iC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t,e,n){return`firebase:${t}:${e}:${n}`}class Zo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=vd(this.userKey,s.apiKey,i),this.fullPersistenceKey=vd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ph(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Zo(Vr(i1),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Vr(i1);const o=vd(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const p=await ph(e,{idToken:h}).catch(()=>{});if(!p)break;f=await $n._fromGetAccountInfoResponse(e,p,h)}else f=$n._fromJSON(e,h);d!==i&&(l=f),i=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Zo(i,e,r):(i=u[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Zo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dC(e))return"Blackberry";if(hC(e))return"Webos";if(aC(e))return"Safari";if((e.includes("chrome/")||lC(e))&&!e.includes("edge/"))return"Chrome";if(uC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oC(t=Lt()){return/firefox\//i.test(t)}function aC(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lC(t=Lt()){return/crios\//i.test(t)}function cC(t=Lt()){return/iemobile/i.test(t)}function uC(t=Lt()){return/android/i.test(t)}function dC(t=Lt()){return/blackberry/i.test(t)}function hC(t=Lt()){return/webos/i.test(t)}function mv(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function A3(t=Lt()){var e;return mv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function P3(){return qO()&&document.documentMode===10}function fC(t=Lt()){return mv(t)||uC(t)||hC(t)||dC(t)||/windows phone/i.test(t)||cC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t,e=[]){let n;switch(t){case"Browser":n=o1(Lt());break;case"Worker":n=`${o1(Lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const u=e(i);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k3(t,e={}){return ns(t,"GET","/v2/passwordPolicy",ui(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=6;class D3{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??j3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a1(this),this.idTokenSubscription=new a1(this),this.beforeStateQueue=new R3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Zo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ph(this,{idToken:e}),r=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(bn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(Ur(this));const n=e?ht(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(Ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(Ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await k3(this),n=new D3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $c("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await I3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vr(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Zo.create(this,[Vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&u3(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function io(t){return ht(t)}class a1{constructor(e){this.auth=e,this.observer=null,this.addObserver=JO(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function O3(t){uf=t}function mC(t){return uf.loadJS(t)}function L3(){return uf.recaptchaEnterpriseScript}function V3(){return uf.gapiScript}function F3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class U3{constructor(){this.enterprise=new $3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class $3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const z3="recaptcha-enterprise",gC="NO_RECAPTCHA";class B3{constructor(e){this.type=z3,this.auth=io(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{w3(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new x3(u);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(u=>{l(u)})})}function s(i,o,l){const u=window.grecaptcha;n1(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(gC)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new U3().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&n1(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=L3();u.length!==0&&(u+=l),mC(u).then(()=>{s(l,i,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function l1(t,e,n,r=!1,s=!1){const i=new B3(t);let o;if(s)o=gC;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function gg(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await l1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await l1(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t,e){const n=dv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Qi(i,e??{}))return s;Kn(s,"already-initialized")}return n.initialize({options:e})}function W3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function H3(t,e,n){const r=io(t);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=yC(e),{host:o,port:l}=G3(e),u=l===null?"":`:${l}`,d={url:`${i}//${o}${u}/`},h=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(Qi(d,r.config.emulator)&&Qi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ba(o)?(qS(`${i}//${o}${u}`),WS("Auth",!0)):K3()}function yC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function G3(t){const e=yC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:c1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:c1(o)}}}function c1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function K3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,n){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}}async function Q3(t,e){return ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(t,e){return qc(t,"POST","/v1/accounts:signInWithPassword",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X3(t,e){return qc(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,e))}async function J3(t,e){return qc(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends gv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new wc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gg(e,n,"signInWithPassword",Y3);case"emailLink":return X3(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gg(e,r,"signUpPassword",Q3);case"emailLink":return J3(e,{idToken:n,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(t,e){return qc(t,"POST","/v1/accounts:signInWithIdp",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3="http://localhost";class Xi extends gv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Xi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ea(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ea(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ea(e,n)}buildRequest(){const e={requestUri:Z3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tV(t){const e=Sl(Cl(t)).link,n=e?Sl(Cl(e)).deep_link_id:null,r=Sl(Cl(t)).deep_link_id;return(r?Sl(Cl(r)).link:null)||r||n||e||t}class yv{constructor(e){const n=Sl(Cl(e)),r=n.apiKey??null,s=n.oobCode??null,i=eV(n.mode??null);ae(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=tV(e);try{return new yv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.providerId=Wa.PROVIDER_ID}static credential(e,n){return wc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=yv.parseLink(n);return ae(r,"argument-error"),wc._fromEmailAndCode(e,r.code,r.tenantId)}}Wa.PROVIDER_ID="password";Wa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends vC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Wc{constructor(){super("facebook.com")}static credential(e){return Xi._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xi._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Es.credential(n,r)}catch{return null}}}Es.GOOGLE_SIGN_IN_METHOD="google.com";Es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Wc{constructor(){super("github.com")}static credential(e){return Xi._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.GITHUB_SIGN_IN_METHOD="github.com";bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Wc{constructor(){super("twitter.com")}static credential(e,n){return Xi._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ts.credential(n,r)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nV(t,e){return qc(t,"POST","/v1/accounts:signUp",ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await $n._fromIdTokenResponse(e,r,s),o=u1(r);return new Ji({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=u1(r);return new Ji({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function u1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends ts{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new gh(e,n,r,s)}}function xC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(t,i,e,r):i})}async function rV(t,e,n=!1){const r=await Ca(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ji._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(t,e,n=!1){const{auth:r}=t;if(bn(r.app))return Promise.reject(Ur(r));const s="reauthenticate";try{const i=await Ca(t,xC(r,s,e,t),n);ae(i.idToken,r,"internal-error");const o=pv(i.idToken);ae(o,r,"internal-error");const{sub:l}=o;return ae(t.uid===l,r,"user-mismatch"),Ji._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Kn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(t,e,n=!1){if(bn(t.app))return Promise.reject(Ur(t));const r="signIn",s=await xC(t,r,e),i=await Ji._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function iV(t,e){return wC(io(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(t){const e=io(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oV(t,e,n){if(bn(t.app))return Promise.reject(Ur(t));const r=io(t),o=await gg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&_C(t),u}),l=await Ji._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function aV(t,e,n){return bn(t.app)?Promise.reject(Ur(t)):iV(ht(t),Wa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_C(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV(t,e){return ns(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ht(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ca(r,lV(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function uV(t,e,n,r){return ht(t).onIdTokenChanged(e,n,r)}function dV(t,e,n){return ht(t).beforeAuthStateChanged(e,n)}function hV(t,e,n,r){return ht(t).onAuthStateChanged(e,n,r)}function fV(t){return ht(t).signOut()}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=1e3,mV=10;class bC extends EC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);P3()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,mV):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bC.type="LOCAL";const gV=bC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC extends EC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TC.type="SESSION";const SC=TC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new df(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async d=>d(n.origin,i)),u=await yV(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}df.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,u)=>{const d=vv("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(p.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function xV(t){pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function wV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _V(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function EV(){return CC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="firebaseLocalStorageDb",bV=1,vh="firebaseLocalStorage",IC="fbase_key";class Hc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hf(t,e){return t.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function TV(){const t=indexedDB.deleteDatabase(NC);return new Hc(t).toPromise()}function yg(){const t=indexedDB.open(NC,bV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vh,{keyPath:IC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vh)?e(r):(r.close(),await TV(),e(await yg()))})})}async function d1(t,e,n){const r=hf(t,!0).put({[IC]:e,value:n});return new Hc(r).toPromise()}async function SV(t,e){const n=hf(t,!1).get(e),r=await new Hc(n).toPromise();return r===void 0?null:r.value}function h1(t,e){const n=hf(t,!0).delete(e);return new Hc(n).toPromise()}const CV=800,NV=3;class AC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>NV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=df._getInstance(EV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await wV(),!this.activeServiceWorker)return;this.sender=new vV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_V()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yg();return await d1(e,yh,"1"),await h1(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>d1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>SV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>h1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=hf(s,!1).getAll();return new Hc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AC.type="LOCAL";const IV=AC;new Bc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(t,e){return e?Vr(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv extends gv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ea(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ea(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ea(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PV(t){return wC(t.auth,new xv(t),t.bypassAuthState)}function RV(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),sV(n,new xv(t),t.bypassAuthState)}async function kV(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),rV(n,new xv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PV;case"linkViaPopup":case"linkViaRedirect":return kV;case"reauthViaPopup":case"reauthViaRedirect":return RV;default:Kn(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=new Bc(2e3,1e4);class Bo extends PC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Bo.currentPopupAction&&Bo.currentPopupAction.cancel(),Bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const e=vv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jV.get())};e()}}Bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="pendingRedirect",xd=new Map;class MV extends PC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xd.get(this.auth._key());if(!e){try{const r=await OV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xd.set(this.auth._key(),e)}return this.bypassAuthState||xd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OV(t,e){const n=FV(e),r=VV(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function LV(t,e){xd.set(t._key(),e)}function VV(t){return Vr(t._redirectPersistence)}function FV(t){return vd(DV,t.config.apiKey,t.name)}async function UV(t,e,n=!1){if(bn(t.app))return Promise.reject(Ur(t));const r=io(t),s=AV(r,e),o=await new MV(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=10*60*1e3;class zV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!RC(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(fr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$V&&this.cachedEventUids.clear(),this.cachedEventUids.has(f1(e))}saveEventToCache(e){this.cachedEventUids.add(f1(e)),this.lastProcessedEventTime=Date.now()}}function f1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function BV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(t,e={}){return ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HV=/^https?/;async function GV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qV(t);for(const n of e)try{if(KV(n))return}catch{}Kn(t,"unauthorized-domain")}function KV(t){const e=pg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!HV.test(n))return!1;if(WV.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=new Bc(3e4,6e4);function p1(){const t=pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function YV(t){return new Promise((e,n)=>{var s,i,o;function r(){p1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p1(),n(fr(t,"network-request-failed"))},timeout:QV.get()})}if((i=(s=pr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=pr().gapi)!=null&&o.load)r();else{const l=F3("iframefcb");return pr()[l]=()=>{gapi.load?r():n(fr(t,"network-request-failed"))},mC(`${V3()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw wd=null,e})}let wd=null;function XV(t){return wd=wd||YV(t),wd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=new Bc(5e3,15e3),ZV="__/auth/iframe",e6="emulator/auth/iframe",t6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r6(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fv(e,e6):`https://${t.config.authDomain}/${ZV}`,r={apiKey:e.apiKey,appName:t.name,v:qa},s=n6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${zc(r).slice(1)}`}async function s6(t){const e=await XV(t),n=pr().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:r6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=fr(t,"network-request-failed"),l=pr().setTimeout(()=>{i(o)},JV.get());function u(){pr().clearTimeout(l),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o6=500,a6=600,l6="_blank",c6="http://localhost";class m1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function u6(t,e,n,r=o6,s=a6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u={...i6,width:r.toString(),height:s.toString(),top:i,left:o},d=Lt().toLowerCase();n&&(l=lC(d)?l6:n),oC(d)&&(e=e||c6,u.scrollbars="yes");const h=Object.entries(u).reduce((p,[g,y])=>`${p}${g}=${y},`,"");if(A3(d)&&l!=="_self")return d6(e||"",l),new m1(null);const f=window.open(e||"",l,h);ae(f,t,"popup-blocked");try{f.focus()}catch{}return new m1(f)}function d6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6="__/auth/handler",f6="emulator/auth/handler",p6=encodeURIComponent("fac");async function g1(t,e,n,r,s,i){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qa,eventId:s};if(e instanceof vC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",XO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Wc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const u=await t._getAppCheckToken(),d=u?`#${p6}=${encodeURIComponent(u)}`:"";return`${m6(t)}?${zc(l).slice(1)}${d}`}function m6({config:t}){return t.emulator?fv(t,f6):`https://${t.authDomain}/${h6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="webStorageSupport";class g6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SC,this._completeRedirectFn=UV,this._overrideRedirectResult=LV}async _openPopup(e,n,r,s){var o;Yr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await g1(e,n,r,pg(),s);return u6(e,i,vv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await g1(e,n,r,pg(),s);return xV(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Yr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await s6(e),r=new zV(e);return n.register("authEvent",s=>(ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Op,{type:Op},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Op];i!==void 0&&n(!!i),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fC()||aC()||mv()}}const y6=g6;var y1="@firebase/auth",v1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w6(t){Sa(new Yi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pC(t)},d=new M3(r,s,i,u);return W3(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sa(new Yi("auth-internal",e=>{const n=io(e.getProvider("auth").getImmediate());return(r=>new v6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(y1,v1,x6(t)),Gs(y1,v1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6=5*60,E6=BS("authIdTokenMaxAge")||_6;let x1=null;const b6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>E6)return;const s=n==null?void 0:n.token;x1!==s&&(x1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function T6(t=QS()){const e=dv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=q3(t,{popupRedirectResolver:y6,persistence:[IV,gV,SC]}),r=BS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=b6(i.toString());dV(n,o,()=>o(n.currentUser)),uV(n,l=>o(l))}}const s=$S("auth");return s&&H3(n,`http://${s}`),n}function S6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}O3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=fr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",S6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w6("Browser");var w1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ks,kC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function P(){}P.prototype=S.prototype,C.D=S.prototype,C.prototype=new P,C.prototype.constructor=C,C.C=function(R,N,j){for(var k=Array(arguments.length-2),q=2;q<arguments.length;q++)k[q-2]=arguments[q];return S.prototype[N].apply(R,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,P){P||(P=0);var R=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)R[N]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(N=0;16>N;++N)R[N]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=C.g[0],P=C.g[1],N=C.g[2];var j=C.g[3],k=S+(j^P&(N^j))+R[0]+3614090360&4294967295;S=P+(k<<7&4294967295|k>>>25),k=j+(N^S&(P^N))+R[1]+3905402710&4294967295,j=S+(k<<12&4294967295|k>>>20),k=N+(P^j&(S^P))+R[2]+606105819&4294967295,N=j+(k<<17&4294967295|k>>>15),k=P+(S^N&(j^S))+R[3]+3250441966&4294967295,P=N+(k<<22&4294967295|k>>>10),k=S+(j^P&(N^j))+R[4]+4118548399&4294967295,S=P+(k<<7&4294967295|k>>>25),k=j+(N^S&(P^N))+R[5]+1200080426&4294967295,j=S+(k<<12&4294967295|k>>>20),k=N+(P^j&(S^P))+R[6]+2821735955&4294967295,N=j+(k<<17&4294967295|k>>>15),k=P+(S^N&(j^S))+R[7]+4249261313&4294967295,P=N+(k<<22&4294967295|k>>>10),k=S+(j^P&(N^j))+R[8]+1770035416&4294967295,S=P+(k<<7&4294967295|k>>>25),k=j+(N^S&(P^N))+R[9]+2336552879&4294967295,j=S+(k<<12&4294967295|k>>>20),k=N+(P^j&(S^P))+R[10]+4294925233&4294967295,N=j+(k<<17&4294967295|k>>>15),k=P+(S^N&(j^S))+R[11]+2304563134&4294967295,P=N+(k<<22&4294967295|k>>>10),k=S+(j^P&(N^j))+R[12]+1804603682&4294967295,S=P+(k<<7&4294967295|k>>>25),k=j+(N^S&(P^N))+R[13]+4254626195&4294967295,j=S+(k<<12&4294967295|k>>>20),k=N+(P^j&(S^P))+R[14]+2792965006&4294967295,N=j+(k<<17&4294967295|k>>>15),k=P+(S^N&(j^S))+R[15]+1236535329&4294967295,P=N+(k<<22&4294967295|k>>>10),k=S+(N^j&(P^N))+R[1]+4129170786&4294967295,S=P+(k<<5&4294967295|k>>>27),k=j+(P^N&(S^P))+R[6]+3225465664&4294967295,j=S+(k<<9&4294967295|k>>>23),k=N+(S^P&(j^S))+R[11]+643717713&4294967295,N=j+(k<<14&4294967295|k>>>18),k=P+(j^S&(N^j))+R[0]+3921069994&4294967295,P=N+(k<<20&4294967295|k>>>12),k=S+(N^j&(P^N))+R[5]+3593408605&4294967295,S=P+(k<<5&4294967295|k>>>27),k=j+(P^N&(S^P))+R[10]+38016083&4294967295,j=S+(k<<9&4294967295|k>>>23),k=N+(S^P&(j^S))+R[15]+3634488961&4294967295,N=j+(k<<14&4294967295|k>>>18),k=P+(j^S&(N^j))+R[4]+3889429448&4294967295,P=N+(k<<20&4294967295|k>>>12),k=S+(N^j&(P^N))+R[9]+568446438&4294967295,S=P+(k<<5&4294967295|k>>>27),k=j+(P^N&(S^P))+R[14]+3275163606&4294967295,j=S+(k<<9&4294967295|k>>>23),k=N+(S^P&(j^S))+R[3]+4107603335&4294967295,N=j+(k<<14&4294967295|k>>>18),k=P+(j^S&(N^j))+R[8]+1163531501&4294967295,P=N+(k<<20&4294967295|k>>>12),k=S+(N^j&(P^N))+R[13]+2850285829&4294967295,S=P+(k<<5&4294967295|k>>>27),k=j+(P^N&(S^P))+R[2]+4243563512&4294967295,j=S+(k<<9&4294967295|k>>>23),k=N+(S^P&(j^S))+R[7]+1735328473&4294967295,N=j+(k<<14&4294967295|k>>>18),k=P+(j^S&(N^j))+R[12]+2368359562&4294967295,P=N+(k<<20&4294967295|k>>>12),k=S+(P^N^j)+R[5]+4294588738&4294967295,S=P+(k<<4&4294967295|k>>>28),k=j+(S^P^N)+R[8]+2272392833&4294967295,j=S+(k<<11&4294967295|k>>>21),k=N+(j^S^P)+R[11]+1839030562&4294967295,N=j+(k<<16&4294967295|k>>>16),k=P+(N^j^S)+R[14]+4259657740&4294967295,P=N+(k<<23&4294967295|k>>>9),k=S+(P^N^j)+R[1]+2763975236&4294967295,S=P+(k<<4&4294967295|k>>>28),k=j+(S^P^N)+R[4]+1272893353&4294967295,j=S+(k<<11&4294967295|k>>>21),k=N+(j^S^P)+R[7]+4139469664&4294967295,N=j+(k<<16&4294967295|k>>>16),k=P+(N^j^S)+R[10]+3200236656&4294967295,P=N+(k<<23&4294967295|k>>>9),k=S+(P^N^j)+R[13]+681279174&4294967295,S=P+(k<<4&4294967295|k>>>28),k=j+(S^P^N)+R[0]+3936430074&4294967295,j=S+(k<<11&4294967295|k>>>21),k=N+(j^S^P)+R[3]+3572445317&4294967295,N=j+(k<<16&4294967295|k>>>16),k=P+(N^j^S)+R[6]+76029189&4294967295,P=N+(k<<23&4294967295|k>>>9),k=S+(P^N^j)+R[9]+3654602809&4294967295,S=P+(k<<4&4294967295|k>>>28),k=j+(S^P^N)+R[12]+3873151461&4294967295,j=S+(k<<11&4294967295|k>>>21),k=N+(j^S^P)+R[15]+530742520&4294967295,N=j+(k<<16&4294967295|k>>>16),k=P+(N^j^S)+R[2]+3299628645&4294967295,P=N+(k<<23&4294967295|k>>>9),k=S+(N^(P|~j))+R[0]+4096336452&4294967295,S=P+(k<<6&4294967295|k>>>26),k=j+(P^(S|~N))+R[7]+1126891415&4294967295,j=S+(k<<10&4294967295|k>>>22),k=N+(S^(j|~P))+R[14]+2878612391&4294967295,N=j+(k<<15&4294967295|k>>>17),k=P+(j^(N|~S))+R[5]+4237533241&4294967295,P=N+(k<<21&4294967295|k>>>11),k=S+(N^(P|~j))+R[12]+1700485571&4294967295,S=P+(k<<6&4294967295|k>>>26),k=j+(P^(S|~N))+R[3]+2399980690&4294967295,j=S+(k<<10&4294967295|k>>>22),k=N+(S^(j|~P))+R[10]+4293915773&4294967295,N=j+(k<<15&4294967295|k>>>17),k=P+(j^(N|~S))+R[1]+2240044497&4294967295,P=N+(k<<21&4294967295|k>>>11),k=S+(N^(P|~j))+R[8]+1873313359&4294967295,S=P+(k<<6&4294967295|k>>>26),k=j+(P^(S|~N))+R[15]+4264355552&4294967295,j=S+(k<<10&4294967295|k>>>22),k=N+(S^(j|~P))+R[6]+2734768916&4294967295,N=j+(k<<15&4294967295|k>>>17),k=P+(j^(N|~S))+R[13]+1309151649&4294967295,P=N+(k<<21&4294967295|k>>>11),k=S+(N^(P|~j))+R[4]+4149444226&4294967295,S=P+(k<<6&4294967295|k>>>26),k=j+(P^(S|~N))+R[11]+3174756917&4294967295,j=S+(k<<10&4294967295|k>>>22),k=N+(S^(j|~P))+R[2]+718787259&4294967295,N=j+(k<<15&4294967295|k>>>17),k=P+(j^(N|~S))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var P=S-this.blockSize,R=this.B,N=this.h,j=0;j<S;){if(N==0)for(;j<=P;)s(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<S;)if(R[N++]=C.charCodeAt(j++),N==this.blockSize){s(this,R),N=0;break}}else for(;j<S;)if(R[N++]=C[j++],N==this.blockSize){s(this,R),N=0;break}}this.h=N,this.o+=S},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var P=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=P&255,P/=256;for(this.u(C),C=Array(16),S=P=0;4>S;++S)for(var R=0;32>R;R+=8)C[P++]=this.g[S]>>>R&255;return C};function i(C,S){var P=l;return Object.prototype.hasOwnProperty.call(P,C)?P[C]:P[C]=S(C)}function o(C,S){this.h=S;for(var P=[],R=!0,N=C.length-1;0<=N;N--){var j=C[N]|0;R&&j==S||(P[N]=j,R=!1)}this.g=P}var l={};function u(C){return-128<=C&&128>C?i(C,function(S){return new o([S|0],0>S?-1:0)}):new o([C|0],0>C?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return _(d(-C));for(var S=[],P=1,R=0;C>=P;R++)S[R]=C/P|0,P*=4294967296;return new o(S,0)}function h(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return _(h(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=d(Math.pow(S,8)),R=f,N=0;N<C.length;N+=8){var j=Math.min(8,C.length-N),k=parseInt(C.substring(N,N+j),S);8>j?(j=d(Math.pow(S,j)),R=R.j(j).add(d(k))):(R=R.j(P),R=R.add(d(k)))}return R}var f=u(0),p=u(1),g=u(16777216);t=o.prototype,t.m=function(){if(w(this))return-_(this).m();for(var C=0,S=1,P=0;P<this.g.length;P++){var R=this.i(P);C+=(0<=R?R:4294967296+R)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(y(this))return"0";if(w(this))return"-"+_(this).toString(C);for(var S=d(Math.pow(C,6)),P=this,R="";;){var N=A(P,S).g;P=b(P,N.j(S));var j=((0<P.g.length?P.g[0]:P.h)>>>0).toString(C);if(P=N,y(P))return j+R;for(;6>j.length;)j="0"+j;R=j+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function y(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function w(C){return C.h==-1}t.l=function(C){return C=b(this,C),w(C)?-1:y(C)?0:1};function _(C){for(var S=C.g.length,P=[],R=0;R<S;R++)P[R]=~C.g[R];return new o(P,~C.h).add(p)}t.abs=function(){return w(this)?_(this):this},t.add=function(C){for(var S=Math.max(this.g.length,C.g.length),P=[],R=0,N=0;N<=S;N++){var j=R+(this.i(N)&65535)+(C.i(N)&65535),k=(j>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);R=k>>>16,j&=65535,k&=65535,P[N]=k<<16|j}return new o(P,P[P.length-1]&-2147483648?-1:0)};function b(C,S){return C.add(_(S))}t.j=function(C){if(y(this)||y(C))return f;if(w(this))return w(C)?_(this).j(_(C)):_(_(this).j(C));if(w(C))return _(this.j(_(C)));if(0>this.l(g)&&0>C.l(g))return d(this.m()*C.m());for(var S=this.g.length+C.g.length,P=[],R=0;R<2*S;R++)P[R]=0;for(R=0;R<this.g.length;R++)for(var N=0;N<C.g.length;N++){var j=this.i(R)>>>16,k=this.i(R)&65535,q=C.i(N)>>>16,re=C.i(N)&65535;P[2*R+2*N]+=k*re,E(P,2*R+2*N),P[2*R+2*N+1]+=j*re,E(P,2*R+2*N+1),P[2*R+2*N+1]+=k*q,E(P,2*R+2*N+1),P[2*R+2*N+2]+=j*q,E(P,2*R+2*N+2)}for(R=0;R<S;R++)P[R]=P[2*R+1]<<16|P[2*R];for(R=S;R<2*S;R++)P[R]=0;return new o(P,0)};function E(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function T(C,S){this.g=C,this.h=S}function A(C,S){if(y(S))throw Error("division by zero");if(y(C))return new T(f,f);if(w(C))return S=A(_(C),S),new T(_(S.g),_(S.h));if(w(S))return S=A(C,_(S)),new T(_(S.g),S.h);if(30<C.g.length){if(w(C)||w(S))throw Error("slowDivide_ only works with positive integers.");for(var P=p,R=S;0>=R.l(C);)P=O(P),R=O(R);var N=L(P,1),j=L(R,1);for(R=L(R,2),P=L(P,2);!y(R);){var k=j.add(R);0>=k.l(C)&&(N=N.add(P),j=k),R=L(R,1),P=L(P,1)}return S=b(C,N.j(S)),new T(N,S)}for(N=f;0<=C.l(S);){for(P=Math.max(1,Math.floor(C.m()/S.m())),R=Math.ceil(Math.log(P)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),j=d(P),k=j.j(S);w(k)||0<k.l(C);)P-=R,j=d(P),k=j.j(S);y(j)&&(j=p),N=N.add(j),C=b(C,k)}return new T(N,C)}t.A=function(C){return A(this,C).h},t.and=function(C){for(var S=Math.max(this.g.length,C.g.length),P=[],R=0;R<S;R++)P[R]=this.i(R)&C.i(R);return new o(P,this.h&C.h)},t.or=function(C){for(var S=Math.max(this.g.length,C.g.length),P=[],R=0;R<S;R++)P[R]=this.i(R)|C.i(R);return new o(P,this.h|C.h)},t.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),P=[],R=0;R<S;R++)P[R]=this.i(R)^C.i(R);return new o(P,this.h^C.h)};function O(C){for(var S=C.g.length+1,P=[],R=0;R<S;R++)P[R]=C.i(R)<<1|C.i(R-1)>>>31;return new o(P,C.h)}function L(C,S){var P=S>>5;S%=32;for(var R=C.g.length-P,N=[],j=0;j<R;j++)N[j]=0<S?C.i(j+P)>>>S|C.i(j+P+1)<<32-S:C.i(j+P);return new o(N,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Ks=o}).apply(typeof w1<"u"?w1:typeof self<"u"?self:typeof window<"u"?window:{});var qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jC,Nl,DC,_d,vg,MC,OC,LC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,x){return c==Array.prototype||c==Object.prototype||(c[m]=x.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qu=="object"&&qu];for(var m=0;m<c.length;++m){var x=c[m];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var x=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var V=c[I];if(!(V in x))break e;x=x[V]}c=c[c.length-1],I=x[c],m=m(I),m!=I&&m!=null&&e(x,c,{configurable:!0,writable:!0,value:m})}}function i(c,m){c instanceof String&&(c+="");var x=0,I=!1,V={next:function(){if(!I&&x<c.length){var F=x++;return{value:m(F,c[F]),done:!1}}return I=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(c){return c||function(){return i(this,function(m,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function d(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function h(c,m,x){return c.call.apply(c.bind,arguments)}function f(c,m,x){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,I),c.apply(m,V)}}return function(){return c.apply(m,arguments)}}function p(c,m,x){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function g(c,m){var x=Array.prototype.slice.call(arguments,1);return function(){var I=x.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function y(c,m){function x(){}x.prototype=m.prototype,c.aa=m.prototype,c.prototype=new x,c.prototype.constructor=c,c.Qb=function(I,V,F){for(var Q=Array(arguments.length-2),De=2;De<arguments.length;De++)Q[De-2]=arguments[De];return m.prototype[V].apply(I,Q)}}function w(c){const m=c.length;if(0<m){const x=Array(m);for(let I=0;I<m;I++)x[I]=c[I];return x}return[]}function _(c,m){for(let x=1;x<arguments.length;x++){const I=arguments[x];if(u(I)){const V=c.length||0,F=I.length||0;c.length=V+F;for(let Q=0;Q<F;Q++)c[V+Q]=I[Q]}else c.push(I)}}class b{constructor(m,x){this.i=m,this.j=x,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function E(c){return/^[\s\xa0]*$/.test(c)}function T(){var c=l.navigator;return c&&(c=c.userAgent)?c:""}function A(c){return A[" "](c),c}A[" "]=function(){};var O=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function L(c,m,x){for(const I in c)m.call(x,c[I],I,c)}function C(c,m){for(const x in c)m.call(void 0,c[x],x,c)}function S(c){const m={};for(const x in c)m[x]=c[x];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(c,m){let x,I;for(let V=1;V<arguments.length;V++){I=arguments[V];for(x in I)c[x]=I[x];for(let F=0;F<P.length;F++)x=P[F],Object.prototype.hasOwnProperty.call(I,x)&&(c[x]=I[x])}}function N(c){var m=1;c=c.split(":");const x=[];for(;0<m&&c.length;)x.push(c.shift()),m--;return c.length&&x.push(c.join(":")),x}function j(c){l.setTimeout(()=>{throw c},0)}function k(){var c=M;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class q{constructor(){this.h=this.g=null}add(m,x){const I=re.get();I.set(m,x),this.h?this.h.next=I:this.g=I,this.h=I}}var re=new b(()=>new H,c=>c.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,x){this.h=m,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let J,D=!1,M=new q,U=()=>{const c=l.Promise.resolve(void 0);J=()=>{c.then(Y)}};var Y=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(x){j(x)}var m=re;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}D=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};l.addEventListener("test",x,m),l.removeEventListener("test",x,m)}catch{}return c}();function Pe(c,m){if(ee.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var x=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(O){e:{try{A(m.nodeName);var V=!0;break e}catch{}V=!1}V||(m=null)}}else x=="mouseover"?m=c.fromElement:x=="mouseout"&&(m=c.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Pe.aa.h.call(this)}}y(Pe,ee);var $e={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Pn=0;function st(c,m,x,I,V){this.listener=c,this.proxy=null,this.src=m,this.type=x,this.capture=!!I,this.ha=V,this.key=++Pn,this.da=this.fa=!1}function Vt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function rn(c){this.src=c,this.g={},this.h=0}rn.prototype.add=function(c,m,x,I,V){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var Q=yn(c,m,I,V);return-1<Q?(m=c[Q],x||(m.fa=!1)):(m=new st(m,this.src,F,!!I,V),m.fa=x,c.push(m)),m};function Xn(c,m){var x=m.type;if(x in c.g){var I=c.g[x],V=Array.prototype.indexOf.call(I,m,void 0),F;(F=0<=V)&&Array.prototype.splice.call(I,V,1),F&&(Vt(m),c.g[x].length==0&&(delete c.g[x],c.h--))}}function yn(c,m,x,I){for(var V=0;V<c.length;++V){var F=c[V];if(!F.da&&F.listener==m&&F.capture==!!x&&F.ha==I)return V}return-1}var rs="closure_lm_"+(1e6*Math.random()|0),fi={};function pi(c,m,x,I,V){if(Array.isArray(m)){for(var F=0;F<m.length;F++)pi(c,m[F],x,I,V);return null}return x=su(x),c&&c[me]?c.K(m,x,d(I)?!!I.capture:!!I,V):Ja(c,m,x,!1,I,V)}function Ja(c,m,x,I,V,F){if(!m)throw Error("Invalid event type");var Q=d(V)?!!V.capture:!!V,De=Rn(c);if(De||(c[rs]=De=new rn(c)),x=De.add(m,x,I,Q,F),x.proxy)return x;if(I=mi(),x.proxy=I,I.src=c,I.listener=x,c.addEventListener)pe||(V=Q),V===void 0&&(V=!1),c.addEventListener(m.toString(),I,V);else if(c.attachEvent)c.attachEvent(ss(m.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return x}function mi(){function c(x){return m.call(c.src,c.listener,x)}const m=ru;return c}function br(c,m,x,I,V){if(Array.isArray(m))for(var F=0;F<m.length;F++)br(c,m[F],x,I,V);else I=d(I)?!!I.capture:!!I,x=su(x),c&&c[me]?(c=c.i,m=String(m).toString(),m in c.g&&(F=c.g[m],x=yn(F,x,I,V),-1<x&&(Vt(F[x]),Array.prototype.splice.call(F,x,1),F.length==0&&(delete c.g[m],c.h--)))):c&&(c=Rn(c))&&(m=c.g[m.toString()],c=-1,m&&(c=yn(m,x,I,V)),(x=-1<c?m[c]:null)&&ho(x))}function ho(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[me])Xn(m.i,c);else{var x=c.type,I=c.proxy;m.removeEventListener?m.removeEventListener(x,I,c.capture):m.detachEvent?m.detachEvent(ss(x),I):m.addListener&&m.removeListener&&m.removeListener(I),(x=Rn(m))?(Xn(x,c),x.h==0&&(x.src=null,m[rs]=null)):Vt(c)}}}function ss(c){return c in fi?fi[c]:fi[c]="on"+c}function ru(c,m){if(c.da)c=!0;else{m=new Pe(m,this);var x=c.listener,I=c.ha||c.src;c.fa&&ho(c),c=x.call(I,m)}return c}function Rn(c){return c=c[rs],c instanceof rn?c:null}var Za="__closure_events_fn_"+(1e9*Math.random()>>>0);function su(c){return typeof c=="function"?c:(c[Za]||(c[Za]=function(m){return c.handleEvent(m)}),c[Za])}function Re(){G.call(this),this.i=new rn(this),this.M=this,this.F=null}y(Re,G),Re.prototype[me]=!0,Re.prototype.removeEventListener=function(c,m,x,I){br(this,c,m,x,I)};function Qe(c,m){var x,I=c.F;if(I)for(x=[];I;I=I.F)x.push(I);if(c=c.M,I=m.type||m,typeof m=="string")m=new ee(m,c);else if(m instanceof ee)m.target=m.target||c;else{var V=m;m=new ee(I,c),R(m,V)}if(V=!0,x)for(var F=x.length-1;0<=F;F--){var Q=m.g=x[F];V=fo(Q,I,!0,m)&&V}if(Q=m.g=c,V=fo(Q,I,!0,m)&&V,V=fo(Q,I,!1,m)&&V,x)for(F=0;F<x.length;F++)Q=m.g=x[F],V=fo(Q,I,!1,m)&&V}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var x=c.g[m],I=0;I<x.length;I++)Vt(x[I]);delete c.g[m],c.h--}}this.F=null},Re.prototype.K=function(c,m,x,I){return this.i.add(String(c),m,!1,x,I)},Re.prototype.L=function(c,m,x,I){return this.i.add(String(c),m,!0,x,I)};function fo(c,m,x,I){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var V=!0,F=0;F<m.length;++F){var Q=m[F];if(Q&&!Q.da&&Q.capture==x){var De=Q.listener,xt=Q.ha||Q.src;Q.fa&&Xn(c.i,Q),V=De.call(xt,I)!==!1&&V}}return V&&!I.defaultPrevented}function iu(c,m,x){if(typeof c=="function")x&&(c=p(c,x));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:l.setTimeout(c,m||0)}function gi(c){c.g=iu(()=>{c.g=null,c.i&&(c.i=!1,gi(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Mf extends G{constructor(m,x){super(),this.m=m,this.l=x,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:gi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(c){G.call(this),this.h=c,this.g={}}y(is,G);var po=[];function Tr(c){L(c.g,function(m,x){this.g.hasOwnProperty(x)&&ho(m)},c),c.g={}}is.prototype.N=function(){is.aa.N.call(this),Tr(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mo=l.JSON.stringify,os=l.JSON.parse,Of=class{stringify(c){return l.JSON.stringify(c,void 0)}parse(c){return l.JSON.parse(c,void 0)}};function el(){}el.prototype.h=null;function tl(c){return c.h||(c.h=c.i())}function nl(){}var yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){ee.call(this,"d")}y(vi,ee);function vn(){ee.call(this,"c")}y(vn,ee);var Sr={},ue=null;function Ee(){return ue=ue||new Re}Sr.La="serverreachability";function je(c){ee.call(this,Sr.La,c)}y(je,ee);function yt(c){const m=Ee();Qe(m,new je(m))}Sr.STAT_EVENT="statevent";function Gt(c,m){ee.call(this,Sr.STAT_EVENT,c),this.stat=m}y(Gt,ee);function ze(c){const m=Ee();Qe(m,new Gt(m,c))}Sr.Ma="timingevent";function Jn(c,m){ee.call(this,Sr.Ma,c),this.size=m}y(Jn,ee);function vt(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){c()},m)}function Kt(){this.g=!0}Kt.prototype.xa=function(){this.g=!1};function RA(c,m,x,I,V,F){c.info(function(){if(c.g)if(F)for(var Q="",De=F.split("&"),xt=0;xt<De.length;xt++){var Te=De[xt].split("=");if(1<Te.length){var Ct=Te[0];Te=Te[1];var Nt=Ct.split("_");Q=2<=Nt.length&&Nt[1]=="type"?Q+(Ct+"="+Te+"&"):Q+(Ct+"=redacted&")}}else Q=null;else Q=F;return"XMLHTTP REQ ("+I+") [attempt "+V+"]: "+m+`
`+x+`
`+Q})}function kA(c,m,x,I,V,F,Q){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+V+"]: "+m+`
`+x+`
`+F+" "+Q})}function go(c,m,x,I){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+DA(c,x)+(I?" "+I:"")})}function jA(c,m){c.info(function(){return"TIMEOUT: "+m})}Kt.prototype.info=function(){};function DA(c,m){if(!c.g)return m;if(!m)return null;try{var x=JSON.parse(m);if(x){for(c=0;c<x.length;c++)if(Array.isArray(x[c])){var I=x[c];if(!(2>I.length)){var V=I[1];if(Array.isArray(V)&&!(1>V.length)){var F=V[0];if(F!="noop"&&F!="stop"&&F!="close")for(var Q=1;Q<V.length;Q++)V[Q]=""}}}}return mo(x)}catch{return m}}var ou={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lf;function au(){}y(au,el),au.prototype.g=function(){return new XMLHttpRequest},au.prototype.i=function(){return{}},Lf=new au;function as(c,m,x,I){this.j=c,this.i=m,this.l=x,this.R=I||1,this.U=new is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cx}function cx(){this.i=null,this.g="",this.h=!1}var ux={},Vf={};function Ff(c,m,x){c.L=1,c.v=du(Cr(m)),c.m=x,c.P=!0,dx(c,null)}function dx(c,m){c.F=Date.now(),lu(c),c.A=Cr(c.v);var x=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),Sx(x.i,"t",I),c.C=0,x=c.j.J,c.h=new cx,c.g=Bx(c.j,x?m:null,!c.m),0<c.O&&(c.M=new Mf(p(c.Y,c,c.g),c.O)),m=c.U,x=c.g,I=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(po[0]=V.toString()),V=po);for(var F=0;F<V.length;F++){var Q=pi(x,V[F],I||m.handleEvent,!1,m.h||m);if(!Q)break;m.g[Q.key]=Q}m=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),yt(),RA(c.i,c.u,c.A,c.l,c.R,c.m)}as.prototype.ca=function(c){c=c.target;const m=this.M;m&&Nr(c)==3?m.j():this.Y(c)},as.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=Nr(this.g);var m=this.g.Ba();const xo=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||kx(this.g)))){this.J||Nt!=4||m==7||(m==8||0>=xo?yt(3):yt(2)),Uf(this);var x=this.g.Z();this.X=x;t:if(hx(this)){var I=kx(this.g);c="";var V=I.length,F=Nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xi(this),rl(this);var Q="";break t}this.h.i=new l.TextDecoder}for(m=0;m<V;m++)this.h.h=!0,c+=this.h.i.decode(I[m],{stream:!(F&&m==V-1)});I.length=0,this.h.g+=c,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=x==200,kA(this.i,this.u,this.A,this.l,this.R,Nt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var De,xt=this.g;if((De=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(De)){var Te=De;break t}}Te=null}if(x=Te)go(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$f(this,x);else{this.o=!1,this.s=3,ze(12),xi(this),rl(this);break e}}if(this.P){x=!0;let kn;for(;!this.J&&this.C<Q.length;)if(kn=MA(this,Q),kn==Vf){Nt==4&&(this.s=4,ze(14),x=!1),go(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==ux){this.s=4,ze(15),go(this.i,this.l,Q,"[Invalid Chunk]"),x=!1;break}else go(this.i,this.l,kn,null),$f(this,kn);if(hx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||Q.length!=0||this.h.h||(this.s=1,ze(16),x=!1),this.o=this.o&&x,!x)go(this.i,this.l,Q,"[Invalid Chunked Response]"),xi(this),rl(this);else if(0<Q.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),Gf(Ct),Ct.M=!0,ze(11))}}else go(this.i,this.l,Q,null),$f(this,Q);Nt==4&&xi(this),this.o&&!this.J&&(Nt==4?Fx(this.j,this):(this.o=!1,lu(this)))}else JA(this.g),x==400&&0<Q.indexOf("Unknown SID")?(this.s=3,ze(12)):(this.s=0,ze(13)),xi(this),rl(this)}}}catch{}finally{}};function hx(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function MA(c,m){var x=c.C,I=m.indexOf(`
`,x);return I==-1?Vf:(x=Number(m.substring(x,I)),isNaN(x)?ux:(I+=1,I+x>m.length?Vf:(m=m.slice(I,I+x),c.C=I+x,m)))}as.prototype.cancel=function(){this.J=!0,xi(this)};function lu(c){c.S=Date.now()+c.I,fx(c,c.I)}function fx(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vt(p(c.ba,c),m)}function Uf(c){c.B&&(l.clearTimeout(c.B),c.B=null)}as.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(jA(this.i,this.A),this.L!=2&&(yt(),ze(17)),xi(this),this.s=2,rl(this)):fx(this,this.S-c)};function rl(c){c.j.G==0||c.J||Fx(c.j,c)}function xi(c){Uf(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Tr(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function $f(c,m){try{var x=c.j;if(x.G!=0&&(x.g==c||zf(x.h,c))){if(!c.K&&zf(x.h,c)&&x.G==3){try{var I=x.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var V=I;if(V[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<c.F)yu(x),mu(x);else break e;Hf(x),ze(18)}}else x.za=V[1],0<x.za-x.T&&37500>V[2]&&x.F&&x.v==0&&!x.C&&(x.C=vt(p(x.Za,x),6e3));if(1>=gx(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else _i(x,11)}else if((c.K||x.g==c)&&yu(x),!E(m))for(V=x.Da.g.parse(m),m=0;m<V.length;m++){let Te=V[m];if(x.T=Te[0],Te=Te[1],x.G==2)if(Te[0]=="c"){x.K=Te[1],x.ia=Te[2];const Ct=Te[3];Ct!=null&&(x.la=Ct,x.j.info("VER="+x.la));const Nt=Te[4];Nt!=null&&(x.Aa=Nt,x.j.info("SVER="+x.Aa));const xo=Te[5];xo!=null&&typeof xo=="number"&&0<xo&&(I=1.5*xo,x.L=I,x.j.info("backChannelRequestTimeoutMs_="+I)),I=x;const kn=c.g;if(kn){const xu=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xu){var F=I.h;F.g||xu.indexOf("spdy")==-1&&xu.indexOf("quic")==-1&&xu.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Bf(F,F.h),F.h=null))}if(I.D){const Kf=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Kf&&(I.ya=Kf,Le(I.I,I.D,Kf))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-c.F,x.j.info("Handshake RTT: "+x.R+"ms")),I=x;var Q=c;if(I.qa=zx(I,I.J?I.ia:null,I.W),Q.K){yx(I.h,Q);var De=Q,xt=I.L;xt&&(De.I=xt),De.B&&(Uf(De),lu(De)),I.g=Q}else Lx(I);0<x.i.length&&gu(x)}else Te[0]!="stop"&&Te[0]!="close"||_i(x,7);else x.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?_i(x,7):Wf(x):Te[0]!="noop"&&x.l&&x.l.ta(Te),x.v=0)}}yt(4)}catch{}}var OA=class{constructor(c,m){this.g=c,this.map=m}};function px(c){this.l=c||10,l.PerformanceNavigationTiming?(c=l.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mx(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gx(c){return c.h?1:c.g?c.g.size:0}function zf(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Bf(c,m){c.g?c.g.add(m):c.h=m}function yx(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}px.prototype.cancel=function(){if(this.i=vx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function vx(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const x of c.g.values())m=m.concat(x.D);return m}return w(c.i)}function LA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var m=[],x=c.length,I=0;I<x;I++)m.push(c[I]);return m}m=[],x=0;for(I in c)m[x++]=c[I];return m}function VA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var m=[];c=c.length;for(var x=0;x<c;x++)m.push(x);return m}m=[],x=0;for(const I in c)m[x++]=I;return m}}}function xx(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var x=VA(c),I=LA(c),V=I.length,F=0;F<V;F++)m.call(void 0,I[F],x&&x[F],c)}var wx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FA(c,m){if(c){c=c.split("&");for(var x=0;x<c.length;x++){var I=c[x].indexOf("="),V=null;if(0<=I){var F=c[x].substring(0,I);V=c[x].substring(I+1)}else F=c[x];m(F,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function wi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wi){this.h=c.h,cu(this,c.j),this.o=c.o,this.g=c.g,uu(this,c.s),this.l=c.l;var m=c.i,x=new ol;x.i=m.i,m.g&&(x.g=new Map(m.g),x.h=m.h),_x(this,x),this.m=c.m}else c&&(m=String(c).match(wx))?(this.h=!1,cu(this,m[1]||"",!0),this.o=sl(m[2]||""),this.g=sl(m[3]||"",!0),uu(this,m[4]),this.l=sl(m[5]||"",!0),_x(this,m[6]||"",!0),this.m=sl(m[7]||"")):(this.h=!1,this.i=new ol(null,this.h))}wi.prototype.toString=function(){var c=[],m=this.j;m&&c.push(il(m,Ex,!0),":");var x=this.g;return(x||m=="file")&&(c.push("//"),(m=this.o)&&c.push(il(m,Ex,!0),"@"),c.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&c.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(il(x,x.charAt(0)=="/"?zA:$A,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",il(x,qA)),c.join("")};function Cr(c){return new wi(c)}function cu(c,m,x){c.j=x?sl(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function uu(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function _x(c,m,x){m instanceof ol?(c.i=m,WA(c.i,c.h)):(x||(m=il(m,BA)),c.i=new ol(m,c.h))}function Le(c,m,x){c.i.set(m,x)}function du(c){return Le(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function sl(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function il(c,m,x){return typeof c=="string"?(c=encodeURI(c).replace(m,UA),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function UA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ex=/[#\/\?@]/g,$A=/[#\?:]/g,zA=/[#\?]/g,BA=/[#\?@]/g,qA=/#/g;function ol(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ls(c){c.g||(c.g=new Map,c.h=0,c.i&&FA(c.i,function(m,x){c.add(decodeURIComponent(m.replace(/\+/g," ")),x)}))}t=ol.prototype,t.add=function(c,m){ls(this),this.i=null,c=yo(this,c);var x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(m),this.h+=1,this};function bx(c,m){ls(c),m=yo(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Tx(c,m){return ls(c),m=yo(c,m),c.g.has(m)}t.forEach=function(c,m){ls(this),this.g.forEach(function(x,I){x.forEach(function(V){c.call(m,V,I,this)},this)},this)},t.na=function(){ls(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),x=[];for(let I=0;I<m.length;I++){const V=c[I];for(let F=0;F<V.length;F++)x.push(m[I])}return x},t.V=function(c){ls(this);let m=[];if(typeof c=="string")Tx(this,c)&&(m=m.concat(this.g.get(yo(this,c))));else{c=Array.from(this.g.values());for(let x=0;x<c.length;x++)m=m.concat(c[x])}return m},t.set=function(c,m){return ls(this),this.i=null,c=yo(this,c),Tx(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Sx(c,m,x){bx(c,m),0<x.length&&(c.i=null,c.g.set(yo(c,m),w(x)),c.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var x=0;x<m.length;x++){var I=m[x];const F=encodeURIComponent(String(I)),Q=this.V(I);for(I=0;I<Q.length;I++){var V=F;Q[I]!==""&&(V+="="+encodeURIComponent(String(Q[I]))),c.push(V)}}return this.i=c.join("&")};function yo(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function WA(c,m){m&&!c.j&&(ls(c),c.i=null,c.g.forEach(function(x,I){var V=I.toLowerCase();I!=V&&(bx(this,I),Sx(this,V,x))},c)),c.j=m}function HA(c,m){const x=new Kt;if(l.Image){const I=new Image;I.onload=g(cs,x,"TestLoadImage: loaded",!0,m,I),I.onerror=g(cs,x,"TestLoadImage: error",!1,m,I),I.onabort=g(cs,x,"TestLoadImage: abort",!1,m,I),I.ontimeout=g(cs,x,"TestLoadImage: timeout",!1,m,I),l.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else m(!1)}function GA(c,m){const x=new Kt,I=new AbortController,V=setTimeout(()=>{I.abort(),cs(x,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:I.signal}).then(F=>{clearTimeout(V),F.ok?cs(x,"TestPingServer: ok",!0,m):cs(x,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(V),cs(x,"TestPingServer: error",!1,m)})}function cs(c,m,x,I,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),I(x)}catch{}}function KA(){this.g=new Of}function QA(c,m,x){const I=x||"";try{xx(c,function(V,F){let Q=V;d(V)&&(Q=mo(V)),m.push(I+F+"="+encodeURIComponent(Q))})}catch(V){throw m.push(I+"type="+encodeURIComponent("_badmap")),V}}function hu(c){this.l=c.Ub||null,this.j=c.eb||!1}y(hu,el),hu.prototype.g=function(){return new fu(this.l,this.j)},hu.prototype.i=function(c){return function(){return c}}({});function fu(c,m){Re.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(fu,Re),t=fu.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,ll(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||l).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,al(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ll(this)),this.g&&(this.readyState=3,ll(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cx(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cx(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?al(this):ll(this),this.readyState==3&&Cx(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,al(this))},t.Qa=function(c){this.g&&(this.response=c,al(this))},t.ga=function(){this.g&&al(this)};function al(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ll(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var x=m.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=m.next();return c.join(`\r
`)};function ll(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(fu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nx(c){let m="";return L(c,function(x,I){m+=I,m+=":",m+=x,m+=`\r
`}),m}function qf(c,m,x){e:{for(I in x){var I=!1;break e}I=!0}I||(x=Nx(x),typeof c=="string"?x!=null&&encodeURIComponent(String(x)):Le(c,m,x))}function Ye(c){Re.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Ye,Re);var YA=/^https?$/i,XA=["POST","PUT"];t=Ye.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,x,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lf.g(),this.v=this.o?tl(this.o):tl(Lf),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(F){Ix(this,F);return}if(c=x||"",x=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var V in I)x.set(V,I[V]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const F of I.keys())x.set(F,I.get(F));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(x.keys()).find(F=>F.toLowerCase()=="content-type"),V=l.FormData&&c instanceof l.FormData,!(0<=Array.prototype.indexOf.call(XA,m,void 0))||I||V||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,Q]of x)this.g.setRequestHeader(F,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rx(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){Ix(this,F)}};function Ix(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,Ax(c),pu(c)}function Ax(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),pu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pu(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Px(this):this.bb())},t.bb=function(){Px(this)};function Px(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Nr(c)!=4||c.Z()!=2)){if(c.u&&Nr(c)==4)iu(c.Ea,0,c);else if(Qe(c,"readystatechange"),Nr(c)==4){c.h=!1;try{const Q=c.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var x;if(!(x=m)){var I;if(I=Q===0){var V=String(c.D).match(wx)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),I=!YA.test(V?V.toLowerCase():"")}x=I}if(x)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var F=2<Nr(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",Ax(c)}}finally{pu(c)}}}}function pu(c,m){if(c.g){Rx(c);const x=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Qe(c,"ready");try{x.onreadystatechange=I}catch{}}}function Rx(c){c.I&&(l.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Nr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),os(m)}};function kx(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function JA(c){const m={};c=(c.g&&2<=Nr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(E(c[I]))continue;var x=N(c[I]);const V=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const F=m[V]||[];m[V]=F,F.push(x)}C(m,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cl(c,m,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||m}function jx(c){this.Aa=0,this.i=[],this.j=new Kt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cl("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cl("baseRetryDelayMs",5e3,c),this.cb=cl("retryDelaySeedMs",1e4,c),this.Wa=cl("forwardChannelMaxRetries",2,c),this.wa=cl("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new px(c&&c.concurrentRequestLimit),this.Da=new KA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=jx.prototype,t.la=8,t.G=1,t.connect=function(c,m,x,I){ze(0),this.W=c,this.H=m||{},x&&I!==void 0&&(this.H.OSID=x,this.H.OAID=I),this.F=this.X,this.I=zx(this,null,this.W),gu(this)};function Wf(c){if(Dx(c),c.G==3){var m=c.U++,x=Cr(c.I);if(Le(x,"SID",c.K),Le(x,"RID",m),Le(x,"TYPE","terminate"),ul(c,x),m=new as(c,c.j,m),m.L=2,m.v=du(Cr(x)),x=!1,l.navigator&&l.navigator.sendBeacon)try{x=l.navigator.sendBeacon(m.v.toString(),"")}catch{}!x&&l.Image&&(new Image().src=m.v,x=!0),x||(m.g=Bx(m.j,null),m.g.ea(m.v)),m.F=Date.now(),lu(m)}$x(c)}function mu(c){c.g&&(Gf(c),c.g.cancel(),c.g=null)}function Dx(c){mu(c),c.u&&(l.clearTimeout(c.u),c.u=null),yu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&l.clearTimeout(c.s),c.s=null)}function gu(c){if(!mx(c.h)&&!c.s){c.s=!0;var m=c.Ga;J||U(),D||(J(),D=!0),M.add(m,c),c.B=0}}function ZA(c,m){return gx(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vt(p(c.Ga,c,m),Ux(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new as(this,this.j,c);let F=this.o;if(this.S&&(F?(F=S(F),R(F,this.S)):F=this.S),this.m!==null||this.O||(V.H=F,F=null),this.P)e:{for(var m=0,x=0;x<this.i.length;x++){t:{var I=this.i[x];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=x;break e}if(m===4096||x===this.i.length-1){m=x+1;break e}}m=1e3}else m=1e3;m=Ox(this,V,m),x=Cr(this.I),Le(x,"RID",c),Le(x,"CVER",22),this.D&&Le(x,"X-HTTP-Session-Id",this.D),ul(this,x),F&&(this.O?m="headers="+encodeURIComponent(String(Nx(F)))+"&"+m:this.m&&qf(x,this.m,F)),Bf(this.h,V),this.Ua&&Le(x,"TYPE","init"),this.P?(Le(x,"$req",m),Le(x,"SID","null"),V.T=!0,Ff(V,x,null)):Ff(V,x,m),this.G=2}}else this.G==3&&(c?Mx(this,c):this.i.length==0||mx(this.h)||Mx(this))};function Mx(c,m){var x;m?x=m.l:x=c.U++;const I=Cr(c.I);Le(I,"SID",c.K),Le(I,"RID",x),Le(I,"AID",c.T),ul(c,I),c.m&&c.o&&qf(I,c.m,c.o),x=new as(c,c.j,x,c.B+1),c.m===null&&(x.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Ox(c,x,1e3),x.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Bf(c.h,x),Ff(x,I,m)}function ul(c,m){c.H&&L(c.H,function(x,I){Le(m,I,x)}),c.l&&xx({},function(x,I){Le(m,I,x)})}function Ox(c,m,x){x=Math.min(c.i.length,x);var I=c.l?p(c.l.Na,c.l,c):null;e:{var V=c.i;let F=-1;for(;;){const Q=["count="+x];F==-1?0<x?(F=V[0].g,Q.push("ofs="+F)):F=0:Q.push("ofs="+F);let De=!0;for(let xt=0;xt<x;xt++){let Te=V[xt].g;const Ct=V[xt].map;if(Te-=F,0>Te)F=Math.max(0,V[xt].g-100),De=!1;else try{QA(Ct,Q,"req"+Te+"_")}catch{I&&I(Ct)}}if(De){I=Q.join("&");break e}}}return c=c.i.splice(0,x),m.D=c,I}function Lx(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;J||U(),D||(J(),D=!0),M.add(m,c),c.v=0}}function Hf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vt(p(c.Fa,c),Ux(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Vx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vt(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ze(10),mu(this),Vx(this))};function Gf(c){c.A!=null&&(l.clearTimeout(c.A),c.A=null)}function Vx(c){c.g=new as(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Cr(c.qa);Le(m,"RID","rpc"),Le(m,"SID",c.K),Le(m,"AID",c.T),Le(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Le(m,"TO",c.ja),Le(m,"TYPE","xmlhttp"),ul(c,m),c.m&&c.o&&qf(m,c.m,c.o),c.L&&(c.g.I=c.L);var x=c.g;c=c.ia,x.L=1,x.v=du(Cr(m)),x.m=null,x.P=!0,dx(x,c)}t.Za=function(){this.C!=null&&(this.C=null,mu(this),Hf(this),ze(19))};function yu(c){c.C!=null&&(l.clearTimeout(c.C),c.C=null)}function Fx(c,m){var x=null;if(c.g==m){yu(c),Gf(c),c.g=null;var I=2}else if(zf(c.h,m))x=m.D,yx(c.h,m),I=1;else return;if(c.G!=0){if(m.o)if(I==1){x=m.m?m.m.length:0,m=Date.now()-m.F;var V=c.B;I=Ee(),Qe(I,new Jn(I,x)),gu(c)}else Lx(c);else if(V=m.s,V==3||V==0&&0<m.X||!(I==1&&ZA(c,m)||I==2&&Hf(c)))switch(x&&0<x.length&&(m=c.h,m.i=m.i.concat(x)),V){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function Ux(c,m){let x=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(x*=2),x*m}function _i(c,m){if(c.j.info("Error code "+m),m==2){var x=p(c.fb,c),I=c.Xa;const V=!I;I=new wi(I||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||cu(I,"https"),du(I),V?HA(I.toString(),x):GA(I.toString(),x)}else ze(2);c.G=0,c.l&&c.l.sa(m),$x(c),Dx(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ze(2)):(this.j.info("Failed to ping google.com"),ze(1))};function $x(c){if(c.G=0,c.ka=[],c.l){const m=vx(c.h);(m.length!=0||c.i.length!=0)&&(_(c.ka,m),_(c.ka,c.i),c.h.i.length=0,w(c.i),c.i.length=0),c.l.ra()}}function zx(c,m,x){var I=x instanceof wi?Cr(x):new wi(x);if(I.g!="")m&&(I.g=m+"."+I.g),uu(I,I.s);else{var V=l.location;I=V.protocol,m=m?m+"."+V.hostname:V.hostname,V=+V.port;var F=new wi(null);I&&cu(F,I),m&&(F.g=m),V&&uu(F,V),x&&(F.l=x),I=F}return x=c.D,m=c.ya,x&&m&&Le(I,x,m),Le(I,"VER",c.la),ul(c,I),I}function Bx(c,m,x){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Ye(new hu({eb:x})):new Ye(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qx(){}t=qx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vu(){}vu.prototype.g=function(c,m){return new sn(c,m)};function sn(c,m){Re.call(this),this.g=new jx(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!E(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!E(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new vo(this)}y(sn,Re),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Wf(this.g)},sn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.u&&(x={},x.__data__=mo(c),c=x);m.i.push(new OA(m.Ya++,c)),m.G==3&&gu(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,Wf(this.g),delete this.g,sn.aa.N.call(this)};function Wx(c){vi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const x in m){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}y(Wx,vi);function Hx(){vn.call(this),this.status=1}y(Hx,vn);function vo(c){this.g=c}y(vo,qx),vo.prototype.ua=function(){Qe(this.g,"a")},vo.prototype.ta=function(c){Qe(this.g,new Wx(c))},vo.prototype.sa=function(c){Qe(this.g,new Hx)},vo.prototype.ra=function(){Qe(this.g,"b")},vu.prototype.createWebChannel=vu.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,LC=function(){return new vu},OC=function(){return Ee()},MC=Sr,vg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ou.NO_ERROR=0,ou.TIMEOUT=8,ou.HTTP_ERROR=6,_d=ou,lx.COMPLETE="complete",DC=lx,nl.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",Re.prototype.listen=Re.prototype.K,Nl=nl,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,jC=Ye}).apply(typeof qu<"u"?qu:typeof self<"u"?self:typeof window<"u"?window:{});const _1="@firebase/firestore",E1="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new cv("@firebase/firestore");function So(){return Zi.logLevel}function Z(t,...e){if(Zi.logLevel<=ve.DEBUG){const n=e.map(wv);Zi.debug(`Firestore (${Ha}): ${t}`,...n)}}function Xr(t,...e){if(Zi.logLevel<=ve.ERROR){const n=e.map(wv);Zi.error(`Firestore (${Ha}): ${t}`,...n)}}function Na(t,...e){if(Zi.logLevel<=ve.WARN){const n=e.map(wv);Zi.warn(`Firestore (${Ha}): ${t}`,...n)}}function wv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,VC(t,r,n)}function VC(t,e,n){let r=`FIRESTORE (${Ha}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Xr(r),new Error(r)}function Ae(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||VC(e,s,r)}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends ts{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class N6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class I6{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new $r,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new $r)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new FC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new jt(e)}}class A6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class P6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new A6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ae(this.o===void 0,3512);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new b1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new b1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=k6(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function xg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Lp(s)===Lp(i)?xe(s,i):Lp(s)?1:-1}return xe(t.length,e.length)}const j6=55296,D6=57343;function Lp(t){const e=t.charCodeAt(0);return e>=j6&&e<=D6}function Ia(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="__name__";class rr{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=rr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return xe(e.length,n.length)}static compareSegments(e,n){const r=rr.isNumericId(e),s=rr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?rr.extractNumericId(e).compare(rr.extractNumericId(n)):xg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ks.fromString(e.substring(4,e.length-2))}}class Me extends rr{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const M6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends rr{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return M6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T1}static keyField(){return new Et([T1])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new X($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new X($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new X($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Me.fromString(e))}static fromName(e){return new se(Me.fromString(e).popFirst(5))}static empty(){return new se(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Me(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t,e,n){if(!n)throw new X($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O6(t,e,n,r){if(e===!0&&r===!0)throw new X($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function S1(t){if(!se.isDocumentKey(t))throw new X($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function C1(t){if(se.isDocumentKey(t))throw new X($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $C(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ff(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le(12329,{type:typeof t})}function wr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ff(t);throw new X($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gc(t,e){if(!$C(t))throw new X($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new X($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=-62135596800,I1=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(e){return Ie.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*I1);return new Ie(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<N1)throw new X($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I1}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gc(e,Ie._jsonSchema))return new Ie(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-N1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ie._jsonSchemaVersion="firestore/timestamp/1.0",Ie._jsonSchema={type:lt("string",Ie._jsonSchemaVersion),seconds:lt("number"),nanoseconds:lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{static fromTimestamp(e){return new de(e)}static min(){return new de(new Ie(0,0))}static max(){return new de(new Ie(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=-1;function L6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=de.fromTimestamp(r===1e9?new Ie(n+1,0):new Ie(n,r));return new ei(s,se.empty(),e)}function V6(t){return new ei(t.readTime,t.key,_c)}class ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ei(de.min(),se.empty(),_c)}static max(){return new ei(de.max(),se.empty(),_c)}}function F6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==U6)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next(h=>{o[d]=h,++l,l===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function z6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ka(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=-1;function mf(t){return t==null}function xh(t){return t===0&&1/t==-1/0}function B6(t){return typeof t=="number"&&Number.isInteger(t)&&!xh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="";function q6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=A1(e)),e=W6(t.get(n),e);return A1(e)}function W6(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case zC:n+="";break;default:n+=i}}return n}function A1(t){return t+zC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wu(this.root,e,this.comparator,!0)}}class Wu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_t.RED,this.left=s??_t.EMPTY,this.right=i??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new _t(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw le(27949);return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw le(57766)}get value(){throw le(16141)}get color(){throw le(16727)}get left(){throw le(29726)}get right(){throw le(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new R1(this.data.getIterator())}getIteratorFrom(e){return new R1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dt(this.comparator);return n.data=e,n}}class R1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new un([])}unionWith(e){let n=new dt(Et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ia(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new qC("Invalid base64 string: "+i):i}}(e);return new St(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const H6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(t){if(Ae(!!t,39018),typeof t=="string"){let e=0;const n=H6.exec(t);if(Ae(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ni(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="server_timestamp",HC="__type__",GC="__previous_value__",KC="__local_write_time__";function bv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[HC])==null?void 0:r.stringValue)===WC}function gf(t){const e=t.mapValue.fields[GC];return bv(e)?gf(e):e}function Ec(t){const e=ti(t.mapValue.fields[KC].timestampValue);return new Ie(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,n,r,s,i,o,l,u,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=h}}const wh="(default)";class bc{constructor(e,n){this.projectId=e,this.database=n||wh}static empty(){return new bc("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof bc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="__type__",YC="__max__",Hu={mapValue:{fields:{__type__:{stringValue:YC}}}},XC="__vector__",_h="value";function ri(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bv(t)?4:Q6(t)?9007199254740991:K6(t)?10:11:le(28295,{value:t})}function _r(t,e){if(t===e)return!0;const n=ri(t);if(n!==ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ec(t).isEqual(Ec(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ti(s.timestampValue),l=ti(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ni(s.bytesValue).isEqual(ni(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return et(s.geoPointValue.latitude)===et(i.geoPointValue.latitude)&&et(s.geoPointValue.longitude)===et(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return et(s.integerValue)===et(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=et(s.doubleValue),l=et(i.doubleValue);return o===l?xh(o)===xh(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ia(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(P1(o)!==P1(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!_r(o[u],l[u])))return!1;return!0}(t,e);default:return le(52216,{left:t})}}function Tc(t,e){return(t.values||[]).find(n=>_r(n,e))!==void 0}function Aa(t,e){if(t===e)return 0;const n=ri(t),r=ri(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=et(i.integerValue||i.doubleValue),u=et(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return k1(t.timestampValue,e.timestampValue);case 4:return k1(Ec(t),Ec(e));case 5:return xg(t.stringValue,e.stringValue);case 6:return function(i,o){const l=ni(i),u=ni(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const h=xe(l[d],u[d]);if(h!==0)return h}return xe(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=xe(et(i.latitude),et(o.latitude));return l!==0?l:xe(et(i.longitude),et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return j1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,g,y,w;const l=i.fields||{},u=o.fields||{},d=(p=l[_h])==null?void 0:p.arrayValue,h=(g=u[_h])==null?void 0:g.arrayValue,f=xe(((y=d==null?void 0:d.values)==null?void 0:y.length)||0,((w=h==null?void 0:h.values)==null?void 0:w.length)||0);return f!==0?f:j1(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Hu.mapValue&&o===Hu.mapValue)return 0;if(i===Hu.mapValue)return 1;if(o===Hu.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),d=o.fields||{},h=Object.keys(d);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const p=xg(u[f],h[f]);if(p!==0)return p;const g=Aa(l[u[f]],d[h[f]]);if(g!==0)return g}return xe(u.length,h.length)}(t.mapValue,e.mapValue);default:throw le(23264,{he:n})}}function k1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=ti(t),r=ti(e),s=xe(n.seconds,r.seconds);return s!==0?s:xe(n.nanos,r.nanos)}function j1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Aa(n[s],r[s]);if(i)return i}return xe(n.length,r.length)}function Pa(t){return wg(t)}function wg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ti(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ni(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=wg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${wg(n.fields[o])}`;return s+"}"}(t.mapValue):le(61005,{value:t})}function Ed(t){switch(ri(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gf(t);return e?16+Ed(e):16;case 5:return 2*t.stringValue.length;case 6:return ni(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Ed(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return di(r.fields,(i,o)=>{s+=i.length+Ed(o)}),s}(t.mapValue);default:throw le(13486,{value:t})}}function D1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _g(t){return!!t&&"integerValue"in t}function Tv(t){return!!t&&"arrayValue"in t}function M1(t){return!!t&&"nullValue"in t}function O1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bd(t){return!!t&&"mapValue"in t}function K6(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[QC])==null?void 0:r.stringValue)===XC}function ql(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ql(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ql(t.arrayValue.values[n]);return e}return{...t}}function Q6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===YC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(n)}setAll(e){let n=Et.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=ql(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());bd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];bd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){di(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Jt(ql(this.value))}}function JC(t){const e=[];return di(t.fields,(n,r)=>{const s=new Et([n]);if(bd(r)){const i=JC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Mt(e,0,de.min(),de.min(),de.min(),Jt.empty(),0)}static newFoundDocument(e,n,r,s){return new Mt(e,1,n,de.min(),r,s,0)}static newNoDocument(e,n){return new Mt(e,2,n,de.min(),de.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,de.min(),de.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function L1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=Aa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function V1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Y6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{}class at extends ZC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new J6(e,n,r):n==="array-contains"?new t5(e,r):n==="in"?new n5(e,r):n==="not-in"?new r5(e,r):n==="array-contains-any"?new s5(e,r):new at(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Z6(e,r):new e5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Aa(n,this.value)):n!==null&&ri(this.value)===ri(n)&&this.matchesComparison(Aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends ZC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qn(e,n)}matches(e){return eN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eN(t){return t.op==="and"}function tN(t){return X6(t)&&eN(t)}function X6(t){for(const e of t.filters)if(e instanceof Qn)return!1;return!0}function Eg(t){if(t instanceof at)return t.field.canonicalString()+t.op.toString()+Pa(t.value);if(tN(t))return t.filters.map(e=>Eg(e)).join(",");{const e=t.filters.map(n=>Eg(n)).join(",");return`${t.op}(${e})`}}function nN(t,e){return t instanceof at?function(r,s){return s instanceof at&&r.op===s.op&&r.field.isEqual(s.field)&&_r(r.value,s.value)}(t,e):t instanceof Qn?function(r,s){return s instanceof Qn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&nN(o,s.filters[l]),!0):!1}(t,e):void le(19439)}function rN(t){return t instanceof at?function(n){return`${n.field.canonicalString()} ${n.op} ${Pa(n.value)}`}(t):t instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(rN).join(" ,")+"}"}(t):"Filter"}class J6 extends at{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class Z6 extends at{constructor(e,n){super(e,"in",n),this.keys=sN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class e5 extends at{constructor(e,n){super(e,"not-in",n),this.keys=sN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sN(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class t5 extends at{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tv(n)&&Tc(n.arrayValue,this.value)}}class n5 extends at{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tc(this.value.arrayValue,n)}}class r5 extends at{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tc(this.value.arrayValue,n)}}class s5 extends at{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Tc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function F1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new i5(t,e,n,r,s,i,o)}function Sv(t){const e=he(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Eg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),mf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Pa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Pa(r)).join(",")),e.Te=n}return e.Te}function Cv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Y6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!V1(t.startAt,e.startAt)&&V1(t.endAt,e.endAt)}function bg(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function o5(t,e,n,r,s,i,o,l){return new Qa(t,e,n,r,s,i,o,l)}function Nv(t){return new Qa(t)}function U1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iN(t){return t.collectionGroup!==null}function Wl(t){const e=he(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new dt(Et.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Sc(i,r))}),n.has(Et.keyField().canonicalString())||e.Ie.push(new Sc(Et.keyField(),r))}return e.Ie}function mr(t){const e=he(t);return e.Ee||(e.Ee=a5(e,Wl(t))),e.Ee}function a5(t,e){if(t.limitType==="F")return F1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Sc(s.field,i)});const n=t.endAt?new Eh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Eh(t.startAt.position,t.startAt.inclusive):null;return F1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Tg(t,e){const n=t.filters.concat([e]);return new Qa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sg(t,e,n){return new Qa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yf(t,e){return Cv(mr(t),mr(e))&&t.limitType===e.limitType}function oN(t){return`${Sv(mr(t))}|lt:${t.limitType}`}function Co(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>rN(s)).join(", ")}]`),mf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Pa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Pa(s)).join(",")),`Target(${r})`}(mr(t))}; limitType=${t.limitType})`}function vf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Wl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,u){const d=L1(o,l,u);return o.inclusive?d<=0:d<0}(r.startAt,Wl(r),s)||r.endAt&&!function(o,l,u){const d=L1(o,l,u);return o.inclusive?d>=0:d>0}(r.endAt,Wl(r),s))}(t,e)}function l5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aN(t){return(e,n)=>{let r=!1;for(const s of Wl(t)){const i=c5(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function c5(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(i,o,l){const u=o.data.field(i),d=l.data.field(i);return u!==null&&d!==null?Aa(u,d):le(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){di(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return BC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=new Ge(se.comparator);function Jr(){return u5}const lN=new Ge(se.comparator);function Il(...t){let e=lN;for(const n of t)e=e.insert(n.key,n);return e}function cN(t){let e=lN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ki(){return Hl()}function uN(){return Hl()}function Hl(){return new oo(t=>t.toString(),(t,e)=>t.isEqual(e))}const d5=new Ge(se.comparator),h5=new dt(se.comparator);function we(...t){let e=h5;for(const n of t)e=e.add(n);return e}const f5=new dt(xe);function p5(){return f5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(e)?"-0":e}}function dN(t){return{integerValue:""+t}}function m5(t,e){return B6(e)?dN(e):Iv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(){this._=void 0}}function g5(t,e,n){return t instanceof bh?function(s,i){const o={fields:{[HC]:{stringValue:WC},[KC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&bv(i)&&(i=gf(i)),i&&(o.fields[GC]=i),{mapValue:o}}(n,e):t instanceof Cc?fN(t,e):t instanceof Nc?pN(t,e):function(s,i){const o=hN(s,i),l=$1(o)+$1(s.Ae);return _g(o)&&_g(s.Ae)?dN(l):Iv(s.serializer,l)}(t,e)}function y5(t,e,n){return t instanceof Cc?fN(t,e):t instanceof Nc?pN(t,e):n}function hN(t,e){return t instanceof Th?function(r){return _g(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class bh extends xf{}class Cc extends xf{constructor(e){super(),this.elements=e}}function fN(t,e){const n=mN(e);for(const r of t.elements)n.some(s=>_r(s,r))||n.push(r);return{arrayValue:{values:n}}}class Nc extends xf{constructor(e){super(),this.elements=e}}function pN(t,e){let n=mN(e);for(const r of t.elements)n=n.filter(s=>!_r(s,r));return{arrayValue:{values:n}}}class Th extends xf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $1(t){return et(t.integerValue||t.doubleValue)}function mN(t){return Tv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function v5(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Cc&&s instanceof Cc||r instanceof Nc&&s instanceof Nc?Ia(r.elements,s.elements,_r):r instanceof Th&&s instanceof Th?_r(r.Ae,s.Ae):r instanceof bh&&s instanceof bh}(t.transform,e.transform)}class x5{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Td(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wf{}function gN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vN(t.key,qn.none()):new Kc(t.key,t.data,qn.none());{const n=t.data,r=Jt.empty();let s=new dt(Et.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new hi(t.key,r,new un(s.toArray()),qn.none())}}function w5(t,e,n){t instanceof Kc?function(s,i,o){const l=s.value.clone(),u=B1(s.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof hi?function(s,i,o){if(!Td(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=B1(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(yN(s)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Gl(t,e,n,r){return t instanceof Kc?function(i,o,l,u){if(!Td(i.precondition,o))return l;const d=i.value.clone(),h=q1(i.fieldTransforms,u,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof hi?function(i,o,l,u){if(!Td(i.precondition,o))return l;const d=q1(i.fieldTransforms,u,o),h=o.data;return h.setAll(yN(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return Td(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function _5(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=hN(r.transform,s||null);i!=null&&(n===null&&(n=Jt.empty()),n.set(r.field,i))}return n||null}function z1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ia(r,s,(i,o)=>v5(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kc extends wf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class hi extends wf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function yN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function B1(t,e,n){const r=new Map;Ae(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,y5(o,l,n[s]))}return r}function q1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,g5(i,o,e))}return r}class vN extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E5 extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&w5(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uN();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const u=gN(o,l);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&Ia(this.mutations,e.mutations,(n,r)=>z1(n,r))&&Ia(this.baseMutations,e.baseMutations,(n,r)=>z1(n,r))}}class Av{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ae(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return d5}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Av(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,_e;function C5(t){switch(t){case $.OK:return le(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return le(15467,{code:t})}}function xN(t){if(t===void 0)return Xr("GRPC error has no .code"),$.UNKNOWN;switch(t){case it.OK:return $.OK;case it.CANCELLED:return $.CANCELLED;case it.UNKNOWN:return $.UNKNOWN;case it.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case it.INTERNAL:return $.INTERNAL;case it.UNAVAILABLE:return $.UNAVAILABLE;case it.UNAUTHENTICATED:return $.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case it.NOT_FOUND:return $.NOT_FOUND;case it.ALREADY_EXISTS:return $.ALREADY_EXISTS;case it.PERMISSION_DENIED:return $.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case it.ABORTED:return $.ABORTED;case it.OUT_OF_RANGE:return $.OUT_OF_RANGE;case it.UNIMPLEMENTED:return $.UNIMPLEMENTED;case it.DATA_LOSS:return $.DATA_LOSS;default:return le(39323,{code:t})}}(_e=it||(it={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=new Ks([4294967295,4294967295],0);function W1(t){const e=N5().encode(t),n=new kC;return n.update(e),new Uint8Array(n.digest())}function H1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ks([n,r],0),new Ks([s,i],0)]}class Pv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Al(`Invalid padding: ${n}`);if(r<0)throw new Al(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Al(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ks.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ks.fromNumber(r)));return s.compare(I5)===1&&(s=new Ks([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=W1(e),[r,s]=H1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Pv(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=W1(e),[r,s]=H1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Qc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _f(de.min(),s,new Ge(xe),Jr(),we())}}class Qc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qc(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class wN{constructor(e,n){this.targetId=e,this.Ce=n}}class _N{constructor(e,n,r=St.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class G1{constructor(){this.ve=0,this.Fe=K1(),this.Me=St.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=we(),n=we(),r=we();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:le(38017,{changeType:i})}}),new Qc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=K1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class A5{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jr(),this.Je=Gu(),this.He=Gu(),this.Ye=new Ge(xe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(bg(i))if(r===0){const o=new se(i.path);this.et(n,o,Mt.newNoDocument(o,de.min()))}else Ae(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=ni(r).toUint8Array()}catch(u){if(u instanceof qC)return Na("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Pv(o,s,i)}catch(u){return Na(u instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const l=this.ot(o);if(l){if(i.current&&bg(l.target)){const u=new se(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Mt.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=we();this.He.forEach((i,o)=>{let l=!0;o.forEachWhile(u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new _f(e,n,this.Ye,this.je,r);return this.je=Jr(),this.Je=Gu(),this.He=Gu(),this.Ye=new Ge(xe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new G1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new dt(xe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new dt(xe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new G1),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gu(){return new Ge(se.comparator)}function K1(){return new Ge(se.comparator)}const P5={asc:"ASCENDING",desc:"DESCENDING"},R5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k5={and:"AND",or:"OR"};class j5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cg(t,e){return t.useProto3Json||mf(e)?e:{value:e}}function Sh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function D5(t,e){return Sh(t,e.toTimestamp())}function gr(t){return Ae(!!t,49232),de.fromTimestamp(function(n){const r=ti(n);return new Ie(r.seconds,r.nanos)}(t))}function Rv(t,e){return Ng(t,e).canonicalString()}function Ng(t,e){const n=function(s){return new Me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function bN(t){const e=Me.fromString(t);return Ae(IN(e),10190,{key:e.toString()}),e}function Ig(t,e){return Rv(t.databaseId,e.path)}function Vp(t,e){const n=bN(e);if(n.get(1)!==t.databaseId.projectId)throw new X($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(SN(n))}function TN(t,e){return Rv(t.databaseId,e)}function M5(t){const e=bN(t);return e.length===4?Me.emptyPath():SN(e)}function Ag(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SN(t){return Ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Q1(t,e,n){return{name:Ig(t,e),fields:n.value.mapValue.fields}}function O5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:le(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Ae(h===void 0||typeof h=="string",58123),St.fromBase64String(h||"")):(Ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),St.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const h=d.code===void 0?$.UNKNOWN:xN(d.code);return new X(h,d.message||"")}(o);n=new _N(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Vp(t,r.document.name),i=gr(r.document.updateTime),o=r.document.createTime?gr(r.document.createTime):de.min(),l=new Jt({mapValue:{fields:r.document.fields}}),u=Mt.newFoundDocument(s,i,o,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Sd(d,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Vp(t,r.document),i=r.readTime?gr(r.readTime):de.min(),o=Mt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Sd([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Vp(t,r.document),i=r.removedTargetIds||[];n=new Sd([],i,s,null)}else{if(!("filter"in e))return le(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new S5(s,i),l=r.targetId;n=new wN(l,o)}}return n}function L5(t,e){let n;if(e instanceof Kc)n={update:Q1(t,e.key,e.value)};else if(e instanceof vN)n={delete:Ig(t,e.key)};else if(e instanceof hi)n={update:Q1(t,e.key,e.data),updateMask:H5(e.fieldMask)};else{if(!(e instanceof E5))return le(16599,{Vt:e.type});n={verify:Ig(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof bh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Cc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Nc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Th)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw le(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:D5(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:le(27497)}(t,e.precondition)),n}function V5(t,e){return t&&t.length>0?(Ae(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?gr(s.updateTime):gr(i);return o.isEqual(de.min())&&(o=gr(i)),new x5(o,s.transformResults||[])}(n,e))):[]}function F5(t,e){return{documents:[TN(t,e.path)]}}function U5(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=TN(t,s);const i=function(d){if(d.length!==0)return NN(Qn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:No(p.field),direction:B5(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Cg(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function $5(t){let e=M5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ae(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=CN(f);return p instanceof Qn&&tN(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(y){return new Sc(Io(y.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,mf(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,g=f.values||[];return new Eh(g,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,g=f.values||[];return new Eh(g,p)}(n.endAt)),o5(e,s,o,i,l,"F",u,d)}function z5(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Io(n.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Io(n.unaryFilter.field);return at.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Io(n.unaryFilter.field);return at.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Io(n.unaryFilter.field);return at.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le(61313);default:return le(60726)}}(t):t.fieldFilter!==void 0?function(n){return at.create(Io(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le(58110);default:return le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(r=>CN(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return le(1026)}}(n.compositeFilter.op))}(t):le(30097,{filter:t})}function B5(t){return P5[t]}function q5(t){return R5[t]}function W5(t){return k5[t]}function No(t){return{fieldPath:t.canonicalString()}}function Io(t){return Et.fromServerFormat(t.fieldPath)}function NN(t){return t instanceof at?function(n){if(n.op==="=="){if(O1(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NAN"}};if(M1(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(O1(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NAN"}};if(M1(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(n.field),op:q5(n.op),value:n.value}}}(t):t instanceof Qn?function(n){const r=n.getFilters().map(s=>NN(s));return r.length===1?r[0]:{compositeFilter:{op:W5(n.op),filters:r}}}(t):le(54877,{filter:t})}function H5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function IN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,r,s,i=de.min(),o=de.min(),l=St.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.yt=e}}function K5(t){const e=$5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(){this.Cn=new Y5}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(ei.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class Y5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new dt(Me.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new dt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AN=41943040;class Yt{static withCacheSize(e){return new Yt(e,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(AN,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ra(0)}static cr(){return new Ra(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="LruGarbageCollector",X5=1048576;function J1([t,e],[n,r]){const s=xe(t,n);return s===0?xe(e,r):s}class J5{constructor(e){this.Ir=e,this.buffer=new dt(J1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();J1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Z5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Z(X1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ka(n)?Z(X1,"Ignoring IndexedDB error during garbage collection: ",n):await Ga(n)}await this.Vr(3e5)})}}class eF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(pf.ce);const r=new J5(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(Y1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y1):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,l,u,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),So()<=ve.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${f} documents in `+(d-u)+`ms
Total Duration: ${d-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function tF(t,e){return new eF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(){this.changes=new oo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Gl(r.mutation,s,un.empty(),Ie.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const s=ki();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Il();return i.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ki();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=Jr();const o=Hl(),l=function(){return Hl()}();return n.forEach((u,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof hi)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Gl(h.mutation,d,h.mutation.getFieldMask(),Ie.now())):o.set(d.key,un.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>l.set(d,new rF(h,o.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Hl();let s=new Ge((o,l)=>o-l),i=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let h=r.get(u)||un.empty();h=l.applyToLocalView(d,h),r.set(u,h);const f=(s.get(l.batchId)||we()).add(u);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,h=u.value,f=uN();h.forEach(p=>{if(!i.has(p)){const g=gN(n.get(p),r.get(p));g!==null&&f.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(ki());let l=_c,u=i;return o.next(d=>B.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,u,d,we())).next(h=>({batchId:l,changes:cN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let s=Il();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Il();return this.indexManager.getCollectionParents(e,i).next(l=>B.forEach(l,u=>{const d=function(f,p){return new Qa(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Mt.newInvalidDocument(h)))});let l=Il();return o.forEach((u,d)=>{const h=i.get(u);h!==void 0&&Gl(h.mutation,d,un.empty(),Ie.now()),vf(n,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:gr(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:K5(s.bundledQuery),readTime:gr(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(){this.overlays=new Ge(se.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ki();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=ki(),i=n.length+1,o=new se(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ge((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=ki(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=ki(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return B.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new T5(n,r));let i=this.qr.get(n);i===void 0&&(i=we(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this.Qr=new dt(ft.$r),this.Ur=new dt(ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ft(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new ft(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new se(new Me([])),r=new ft(n,e),s=new ft(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new se(new Me([])),r=new ft(n,e),s=new ft(n,e+1);let i=we();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ft(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ft{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return se.comparator(e.key,n.key)||xe(e.Yr,n.Yr)}static Kr(e,n){return xe(e.Yr,n.Yr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new dt(ft.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new b5(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Zr=this.Zr.add(new ft(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Ev:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ft(n,0),s=new ft(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const l=this.Xr(o.Yr);i.push(l)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(xe);return n.forEach(s=>{const i=new ft(s,0),o=new ft(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],l=>{r=r.add(l.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;se.isDocumentKey(i)||(i=i.child(""));const o=new ft(new se(i),0);let l=new dt(xe);return this.Zr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(u.Yr)),!0)},o),B.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ae(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,s=>{const i=new ft(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new ft(n,0),s=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e){this.ri=e,this.docs=function(){return new Ge(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Jr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Mt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Jr();const o=n.path,l=new se(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:h}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||F6(V6(h),r)<=0||(s.has(h.key)||vf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){le(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new uF(this)}getSize(e){return B.resolve(this.size)}}class uF extends nF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.persistence=e,this.si=new oo(n=>Sv(n),Cv),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.oi=0,this._i=new kv,this.targetCount=0,this.ai=Ra.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ra(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n){this.ui={},this.overlays={},this.ci=new pf(0),this.li=!1,this.li=!0,this.hi=new aF,this.referenceDelegate=e(this),this.Pi=new dF(this),this.indexManager=new Q5,this.remoteDocumentCache=function(s){return new cF(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new G5(n),this.Ii=new iF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new lF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new hF(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class hF extends $6{constructor(e){super(),this.currentSequenceNumber=e}}class jv{constructor(e){this.persistence=e,this.Ri=new kv,this.Vi=null}static mi(e){return new jv(e)}get fi(){if(this.Vi)return this.Vi;throw le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const s=se.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,de.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ch{constructor(e,n){this.persistence=e,this.pi=new oo(r=>q6(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=tF(this,n)}static mi(e,n){return new Ch(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(l=>{l||(r++,i.removeEntry(o,de.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ed(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=we(),s=we();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Dv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return WO()?8:z6(Lt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new fF;return this.Ss(e,n,o).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(So()<=ve.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",Co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(So()<=ve.DEBUG&&Z("QueryEngine","Query:",Co(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(So()<=ve.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",Co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(n))):B.resolve())}ys(e,n){if(U1(n))return B.resolve(null);let r=mr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Sg(n,null,"F"),r=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=we(...i);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.Ds(n,l);return this.Cs(n,d,o,u.readTime)?this.ys(e,Sg(n,null,"F")):this.vs(e,d,n,u)}))})))}ws(e,n,r,s){return U1(n)||s.isEqual(de.min())?B.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(So()<=ve.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Co(n)),this.vs(e,o,n,L6(s,_c)).next(l=>l))})}Ds(e,n){let r=new dt(aN(e));return n.forEach((s,i)=>{vf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return So()<=ve.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Co(n)),this.ps.getDocumentsMatchingQuery(e,n,ei.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="LocalStore",mF=3e8;class gF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ge(xe),this.xs=new oo(i=>Sv(i),Cv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function yF(t,e,n,r){return new gF(t,e,n,r)}async function RN(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let u=we();for(const d of s){o.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:l}))})})}function vF(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,d,h){const f=d.batch,p=f.keys();let g=B.resolve();return p.forEach(y=>{g=g.next(()=>h.getEntry(u,y)).next(w=>{const _=d.docVersions.get(y);Ae(_!==null,48541),w.version.compareTo(_)<0&&(f.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),h.addEntry(w)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=we();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function kN(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function xF(t,e){const n=he(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const l=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;l.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(St.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(w,_,b){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=mF?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,g,h)&&l.push(n.Pi.updateTargetData(i,g))});let u=Jr(),d=we();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(wF(i,o,e.documentUpdates).next(h=>{u=h.ks,d=h.qs})),!r.isEqual(de.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return B.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,d)).next(()=>u)}).then(i=>(n.Ms=s,i))}function wF(t,e,n){let r=we(),s=we();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Jr();return n.forEach((l,u)=>{const d=i.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(de.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Z(Mv,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{ks:o,qs:s}})}function _F(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ev),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function EF(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Ds(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Pg(t,e,n){const r=he(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ka(o))throw o;Z(Mv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Z1(t,e,n){const r=he(t);let s=de.min(),i=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,h){const f=he(u),p=f.xs.get(h);return p!==void 0?B.resolve(f.Ms.get(p)):f.Pi.getTargetData(d,h)}(r,o,mr(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(u=>{i=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:de.min(),n?i:we())).next(l=>(bF(r,l5(e),l),{documents:l,Qs:i})))}function bF(t,e,n){let r=t.Os.get(e)||de.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class e_{constructor(){this.activeTargetIds=p5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TF{constructor(){this.Mo=new e_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new e_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="ConnectivityMonitor";class n_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Z(t_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Z(t_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=null;function Rg(){return Ku===null?Ku=function(){return 268435456+Math.round(2147483648*Math.random())}():Ku++,"0x"+Ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="RestConnection",CF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===wh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Rg(),l=this.zo(e,n.toUriEncodedString());Z(Fp,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:d}=new URL(l),h=Ba(d);return this.Jo(e,l,u,r,h).then(f=>(Z(Fp,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Na(Fp,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ha}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=CF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class AF extends NF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Rg();return new Promise((l,u)=>{const d=new jC;d.setWithCredentials(!0),d.listenOnce(DC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case _d.NO_ERROR:const f=d.getResponseJson();Z(Rt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case _d.TIMEOUT:Z(Rt,`RPC '${e}' ${o} timed out`),u(new X($.DEADLINE_EXCEEDED,"Request time out"));break;case _d.HTTP_ERROR:const p=d.getStatus();if(Z(Rt,`RPC '${e}' ${o} failed with status:`,p,"response text:",d.getResponseText()),p>0){let g=d.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const w=function(b){const E=b.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(E)>=0?E:$.UNKNOWN}(y.status);u(new X(w,y.message))}else u(new X($.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new X($.UNAVAILABLE,"Connection failed."));break;default:le(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Z(Rt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Z(Rt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Rg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=LC(),l=OC(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");Z(Rt,`Creating RPC '${e}' stream ${s}: ${h}`,u);const f=o.createWebChannel(h,u);this.I_(f);let p=!1,g=!1;const y=new IF({Yo:_=>{g?Z(Rt,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(p||(Z(Rt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),Z(Rt,`RPC '${e}' stream ${s} sending:`,_),f.send(_))},Zo:()=>f.close()}),w=(_,b,E)=>{_.listen(b,T=>{try{E(T)}catch(A){setTimeout(()=>{throw A},0)}})};return w(f,Nl.EventType.OPEN,()=>{g||(Z(Rt,`RPC '${e}' stream ${s} transport opened.`),y.o_())}),w(f,Nl.EventType.CLOSE,()=>{g||(g=!0,Z(Rt,`RPC '${e}' stream ${s} transport closed`),y.a_(),this.E_(f))}),w(f,Nl.EventType.ERROR,_=>{g||(g=!0,Na(Rt,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),y.a_(new X($.UNAVAILABLE,"The operation could not be completed")))}),w(f,Nl.EventType.MESSAGE,_=>{var b;if(!g){const E=_.data[0];Ae(!!E,16349);const T=E,A=(T==null?void 0:T.error)||((b=T[0])==null?void 0:b.error);if(A){Z(Rt,`RPC '${e}' stream ${s} received error:`,A);const O=A.status;let L=function(P){const R=it[P];if(R!==void 0)return xN(R)}(O),C=A.message;L===void 0&&(L=$.INTERNAL,C="Unknown error status: "+O+" with message "+A.message),g=!0,y.a_(new X(L,C)),f.close()}else Z(Rt,`RPC '${e}' stream ${s} received:`,E),y.u_(E)}}),w(l,MC.STAT_EVENT,_=>{_.stat===vg.PROXY?Z(Rt,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===vg.NOPROXY&&Z(Rt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){return new j5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="PersistentStream";class DN{constructor(e,n,r,s,i,o,l,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Xr(n.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new X($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Z(r_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Z(r_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PF extends DN{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=O5(this.serializer,e),r=function(i){if(!("targetChange"in i))return de.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?gr(o.readTime):de.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ag(this.serializer),n.addTarget=function(i,o){let l;const u=o.target;if(l=bg(u)?{documents:F5(i,u)}:{query:U5(i,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=EN(i,o.resumeToken);const d=Cg(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(de.min())>0){l.readTime=Sh(i,o.snapshotVersion.toTimestamp());const d=Cg(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=z5(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ag(this.serializer),n.removeTarget=e,this.q_(n)}}class RF extends DN{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=V5(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ag(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>L5(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{}class jF extends kF{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new X($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Ng(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X($.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,Ng(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class DF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xr(n),this.aa=!1):Z("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="RemoteStore";class MF{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{ao(this)&&(Z(eo,"Restarting streams for network reachability change."),await async function(u){const d=he(u);d.Ea.add(4),await Yc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await bf(d)}(this))})}),this.Ra=new DF(r,s)}}async function bf(t){if(ao(t))for(const e of t.da)await e(!0)}async function Yc(t){for(const e of t.da)await e(!1)}function MN(t,e){const n=he(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Fv(n)?Vv(n):Ya(n).O_()&&Lv(n,e))}function Ov(t,e){const n=he(t),r=Ya(n);n.Ia.delete(e),r.O_()&&ON(n,e),n.Ia.size===0&&(r.O_()?r.L_():ao(n)&&n.Ra.set("Unknown"))}function Lv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ya(t).Y_(e)}function ON(t,e){t.Va.Ue(e),Ya(t).Z_(e)}function Vv(t){t.Va=new A5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ya(t).start(),t.Ra.ua()}function Fv(t){return ao(t)&&!Ya(t).x_()&&t.Ia.size>0}function ao(t){return he(t).Ea.size===0}function LN(t){t.Va=void 0}async function OF(t){t.Ra.set("Online")}async function LF(t){t.Ia.forEach((e,n)=>{Lv(t,e)})}async function VF(t,e){LN(t),Fv(t)?(t.Ra.ha(e),Vv(t)):t.Ra.set("Unknown")}async function FF(t,e,n){if(t.Ra.set("Online"),e instanceof _N&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.Va.removeTarget(l))}(t,e)}catch(r){Z(eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nh(t,r)}else if(e instanceof Sd?t.Va.Ze(e):e instanceof wN?t.Va.st(e):t.Va.tt(e),!n.isEqual(de.min()))try{const r=await kN(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,d)=>{const h=i.Ia.get(u);if(!h)return;i.Ia.set(u,h.withResumeToken(St.EMPTY_BYTE_STRING,h.snapshotVersion)),ON(i,u);const f=new Ds(h.target,u,d,h.sequenceNumber);Lv(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Z(eo,"Failed to raise snapshot:",r),await Nh(t,r)}}async function Nh(t,e,n){if(!Ka(e))throw e;t.Ea.add(1),await Yc(t),t.Ra.set("Offline"),n||(n=()=>kN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z(eo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await bf(t)})}function VN(t,e){return e().catch(n=>Nh(t,n,e))}async function Tf(t){const e=he(t),n=si(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ev;for(;UF(e);)try{const s=await _F(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,$F(e,s)}catch(s){await Nh(e,s)}FN(e)&&UN(e)}function UF(t){return ao(t)&&t.Ta.length<10}function $F(t,e){t.Ta.push(e);const n=si(t);n.O_()&&n.X_&&n.ea(e.mutations)}function FN(t){return ao(t)&&!si(t).x_()&&t.Ta.length>0}function UN(t){si(t).start()}async function zF(t){si(t).ra()}async function BF(t){const e=si(t);for(const n of t.Ta)e.ea(n.mutations)}async function qF(t,e,n){const r=t.Ta.shift(),s=Av.from(r,e,n);await VN(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Tf(t)}async function WF(t,e){e&&si(t).X_&&await async function(r,s){if(function(o){return C5(o)&&o!==$.ABORTED}(s.code)){const i=r.Ta.shift();si(r).B_(),await VN(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Tf(r)}}(t,e),FN(t)&&UN(t)}async function s_(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),Z(eo,"RemoteStore received new credentials");const r=ao(n);n.Ea.add(3),await Yc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bf(n)}async function HF(t,e){const n=he(t);e?(n.Ea.delete(2),await bf(n)):e||(n.Ea.add(2),await Yc(n),n.Ra.set("Unknown"))}function Ya(t){return t.ma||(t.ma=function(n,r,s){const i=he(n);return i.sa(),new PF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:OF.bind(null,t),t_:LF.bind(null,t),r_:VF.bind(null,t),H_:FF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Fv(t)?Vv(t):t.Ra.set("Unknown")):(await t.ma.stop(),LN(t))})),t.ma}function si(t){return t.fa||(t.fa=function(n,r,s){const i=he(n);return i.sa(),new RF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:zF.bind(null,t),r_:WF.bind(null,t),ta:BF.bind(null,t),na:qF.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Tf(t)):(await t.fa.stop(),t.Ta.length>0&&(Z(eo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Uv(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $v(t,e){if(Xr("AsyncQueue",`${e}: ${t}`),Ka(t))return new X($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{static emptySet(e){return new ta(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Il(),this.sortedSet=new Ge(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ta)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ta;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.ga=new Ge(se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):le(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ka{constructor(e,n,r,s,i,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new ka(e,n,ta.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class KF{constructor(){this.queries=o_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=he(n),i=s.queries;s.queries=o_(),i.forEach((o,l)=>{for(const u of l.Sa)u.onError(r)})})(this,new X($.ABORTED,"Firestore shutting down"))}}function o_(){return new oo(t=>oN(t),yf)}async function $N(t,e){const n=he(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new GF,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=$v(o,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&zv(n)}async function zN(t,e){const n=he(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function QF(t,e){const n=he(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(s)&&(r=!0);o.wa=s}}r&&zv(n)}function YF(t,e,n){const r=he(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function zv(t){t.Ca.forEach(e=>{e.next()})}var kg,a_;(a_=kg||(kg={})).Ma="default",a_.Cache="cache";class BN{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ka(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.key=e}}class WN{constructor(e){this.key=e}}class XF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=we(),this.mutatedKeys=we(),this.eu=aN(e),this.tu=new ta(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new i_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),g=vf(this.query,f)?f:null,y=!!p&&this.mutatedKeys.has(p.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;p&&g?p.data.isEqual(g.data)?y!==w&&(r.track({type:3,doc:g}),_=!0):this.su(p,g)||(r.track({type:2,doc:g}),_=!0,(u&&this.eu(g,u)>0||d&&this.eu(g,d)<0)&&(l=!0)):!p&&g?(r.track({type:0,doc:g}),_=!0):p&&!g&&(r.track({type:1,doc:p}),_=!0,(u||d)&&(l=!0)),_&&(g?(o=o.add(g),i=w?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(g,y){const w=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le(20277,{Rt:_})}};return w(g)-w(y)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new ka(this.query,e.tu,i,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new i_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=we(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new WN(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new qN(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=we();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ka.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bv="SyncEngine";class JF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ZF{constructor(e){this.key=e,this.hu=!1}}class e9{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new oo(l=>oN(l),yf),this.Iu=new Map,this.Eu=new Set,this.du=new Ge(se.comparator),this.Au=new Map,this.Ru=new kv,this.Vu={},this.mu=new Map,this.fu=Ra.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function t9(t,e,n=!0){const r=XN(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await HN(r,e,n,!0),s}async function n9(t,e){const n=XN(t);await HN(n,e,!0,!1)}async function HN(t,e,n,r){const s=await EF(t.localStore,mr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await r9(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&MN(t.remoteStore,s),l}async function r9(t,e,n,r,s){t.pu=(f,p,g)=>async function(w,_,b,E){let T=_.view.ru(b);T.Cs&&(T=await Z1(w.localStore,_.query,!1).then(({documents:C})=>_.view.ru(C,T)));const A=E&&E.targetChanges.get(_.targetId),O=E&&E.targetMismatches.get(_.targetId)!=null,L=_.view.applyChanges(T,w.isPrimaryClient,A,O);return c_(w,_.targetId,L.au),L.snapshot}(t,f,p,g);const i=await Z1(t.localStore,e,!0),o=new XF(e,i.Qs),l=o.ru(i.documents),u=Qc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,u);c_(t,n,d.au);const h=new JF(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function s9(t,e,n){const r=he(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!yf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Pg(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Ov(r.remoteStore,s.targetId),jg(r,s.targetId)}).catch(Ga)):(jg(r,s.targetId),await Pg(r.localStore,s.targetId,!0))}async function i9(t,e){const n=he(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ov(n.remoteStore,r.targetId))}async function o9(t,e,n){const r=f9(t);try{const s=await function(o,l){const u=he(o),d=Ie.now(),h=l.reduce((g,y)=>g.add(y.key),we());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=Jr(),w=we();return u.Ns.getEntries(g,h).next(_=>{y=_,y.forEach((b,E)=>{E.isValidDocument()||(w=w.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,y)).next(_=>{f=_;const b=[];for(const E of l){const T=_5(E,f.get(E.key).overlayedDocument);T!=null&&b.push(new hi(E.key,T,JC(T.value.mapValue),qn.exists(!0)))}return u.mutationQueue.addMutationBatch(g,d,b,l)}).next(_=>{p=_;const b=_.applyToLocalDocumentSet(f,w);return u.documentOverlayCache.saveOverlays(g,_.batchId,b)})}).then(()=>({batchId:p.batchId,changes:cN(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,u){let d=o.Vu[o.currentUser.toKey()];d||(d=new Ge(xe)),d=d.insert(l,u),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await Xc(r,s.changes),await Tf(r.remoteStore)}catch(s){const i=$v(s,"Failed to persist write");n.reject(i)}}async function GN(t,e){const n=he(t);try{const r=await xF(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ae(o.hu,14607):s.removedDocuments.size>0&&(Ae(o.hu,42227),o.hu=!1))}),await Xc(n,r,e)}catch(r){await Ga(r)}}function l_(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const u=he(o);u.onlineState=l;let d=!1;u.queries.forEach((h,f)=>{for(const p of f.Sa)p.va(l)&&(d=!0)}),d&&zv(u)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function a9(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Ge(se.comparator);o=o.insert(i,Mt.newNoDocument(i,de.min()));const l=we().add(i),u=new _f(de.min(),new Map,new Ge(xe),o,l);await GN(r,u),r.du=r.du.remove(i),r.Au.delete(e),qv(r)}else await Pg(r.localStore,e,!1).then(()=>jg(r,e,n)).catch(Ga)}async function l9(t,e){const n=he(t),r=e.batch.batchId;try{const s=await vF(n.localStore,e);QN(n,r,null),KN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xc(n,s)}catch(s){await Ga(s)}}async function c9(t,e,n){const r=he(t);try{const s=await function(o,l){const u=he(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return u.mutationQueue.lookupMutationBatch(d,l).next(f=>(Ae(f!==null,37113),h=f.keys(),u.mutationQueue.removeMutationBatch(d,f))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>u.localDocuments.getDocuments(d,h))})}(r.localStore,e);QN(r,e,n),KN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xc(r,s)}catch(s){await Ga(s)}}function KN(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function QN(t,e,n){const r=he(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function jg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||YN(t,r)})}function YN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ov(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),qv(t))}function c_(t,e,n){for(const r of n)r instanceof qN?(t.Ru.addReference(r.key,e),u9(t,r)):r instanceof WN?(Z(Bv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||YN(t,r.key)):le(19791,{wu:r})}function u9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Z(Bv,"New document in limbo: "+n),t.Eu.add(r),qv(t))}function qv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new se(Me.fromString(e)),r=t.fu.next();t.Au.set(r,new ZF(n)),t.du=t.du.insert(n,r),MN(t.remoteStore,new Ds(mr(Nv(n.path)),r,"TargetPurposeLimboResolution",pf.ce))}}async function Xc(t,e,n){const r=he(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,u)=>{o.push(r.pu(u,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Dv.As(u.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(u,d){const h=he(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(d,p=>B.forEach(p.Es,g=>h.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>B.forEach(p.ds,g=>h.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!Ka(f))throw f;Z(Mv,"Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const g=h.Ms.get(p),y=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(y);h.Ms=h.Ms.insert(p,w)}}}(r.localStore,i))}async function d9(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){Z(Bv,"User change. New user:",e.toKey());const r=await RN(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(l=>{l.forEach(u=>{u.reject(new X($.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xc(n,r.Ls)}}function h9(t,e){const n=he(t),r=n.Au.get(e);if(r&&r.hu)return we().add(r.key);{let s=we();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function XN(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=a9.bind(null,e),e.Pu.H_=QF.bind(null,e.eventManager),e.Pu.yu=YF.bind(null,e.eventManager),e}function f9(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c9.bind(null,e),e}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return yF(this.persistence,new pF,e.initialUser,this.serializer)}Cu(e){return new PN(jv.mi,this.serializer)}Du(e){return new TF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class p9 extends Ih{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ae(this.persistence.referenceDelegate instanceof Ch,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Z5(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new PN(r=>Ch.mi(r,n),this.serializer)}}class Dg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>l_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=d9.bind(null,this.syncEngine),await HF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KF}()}createDatastore(e){const n=Ef(e.databaseInfo.databaseId),r=function(i){return new AF(i)}(e.databaseInfo);return function(i,o,l,u){return new jF(i,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new MF(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>l_(this.syncEngine,n,0),function(){return n_.v()?new n_:new SF}())}createSyncEngine(e,n){return function(s,i,o,l,u,d,h){const f=new e9(s,i,o,l,u,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=he(s);Z(eo,"RemoteStore shutting down."),i.Ea.add(5),await Yc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Dg.provider={build:()=>new Dg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="FirestoreClient";class m9{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=jt.UNAUTHENTICATED,this.clientId=_v.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z(ii,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z(ii,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$v(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $p(t,e){t.asyncQueue.verifyOperationInProgress(),Z(ii,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await RN(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function u_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await g9(t);Z(ii,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>s_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>s_(e.remoteStore,s)),t._onlineComponents=e}async function g9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z(ii,"Using user provided OfflineComponentProvider");try{await $p(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Na("Error using user provided cache. Falling back to memory cache: "+n),await $p(t,new Ih)}}else Z(ii,"Using default OfflineComponentProvider"),await $p(t,new p9(void 0));return t._offlineComponents}async function ZN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z(ii,"Using user provided OnlineComponentProvider"),await u_(t,t._uninitializedComponentsProvider._online)):(Z(ii,"Using default OnlineComponentProvider"),await u_(t,new Dg))),t._onlineComponents}function y9(t){return ZN(t).then(e=>e.syncEngine)}async function eI(t){const e=await ZN(t),n=e.eventManager;return n.onListen=t9.bind(null,e.syncEngine),n.onUnlisten=s9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=n9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=i9.bind(null,e.syncEngine),n}function v9(t,e,n={}){const r=new $r;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,d){const h=new JN({next:p=>{h.Nu(),o.enqueueAndForget(()=>zN(i,f));const g=p.docs.has(l);!g&&p.fromCache?d.reject(new X($.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&u&&u.source==="server"?d.reject(new X($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new BN(Nv(l.path),h,{includeMetadataChanges:!0,qa:!0});return $N(i,f)}(await eI(t),t.asyncQueue,e,n,r)),r.promise}function x9(t,e,n={}){const r=new $r;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,d){const h=new JN({next:p=>{h.Nu(),o.enqueueAndForget(()=>zN(i,f)),p.fromCache&&u.source==="server"?d.reject(new X($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new BN(l,h,{includeMetadataChanges:!0,qa:!0});return $N(i,f)}(await eI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="firestore.googleapis.com",h_=!0;class f_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new X($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nI,this.ssl=h_}else this.host=e.host,this.ssl=e.ssl??h_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<X5)throw new X($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tI(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new C6;switch(r.type){case"firstParty":return new P6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=d_.get(n);r&&(Z("ComponentProvider","Removing Datastore"),d_.delete(n),r.terminate())}(this),Promise.resolve()}}function w9(t,e,n,r={}){var d;t=wr(t,Sf);const s=Ba(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(qS(`https://${l}`),WS("Firestore",!0)),i.host!==nI&&i.host!==l&&Na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:l,ssl:s,emulatorOptions:r};if(!Qi(u,o)&&(t._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=jt.MOCK_USER;else{h=OO(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new X($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new jt(p)}t._authCredentials=new N6(new FC(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lo(this.firestore,e,this._query)}}class nt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nt(this.firestore,e,this._key)}toJSON(){return{type:nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gc(n,nt._jsonSchema))return new nt(e,r||null,new se(Me.fromString(n.referencePath)))}}nt._jsonSchemaVersion="firestore/documentReference/1.0",nt._jsonSchema={type:lt("string",nt._jsonSchemaVersion),referencePath:lt("string")};class Qs extends lo{constructor(e,n,r){super(e,n,Nv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nt(this.firestore,null,new se(e))}withConverter(e){return new Qs(this.firestore,e,this._path)}}function vs(t,e,...n){if(t=ht(t),UC("collection","path",e),t instanceof Sf){const r=Me.fromString(e,...n);return C1(r),new Qs(t,null,r)}{if(!(t instanceof nt||t instanceof Qs))throw new X($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return C1(r),new Qs(t.firestore,null,r)}}function Ms(t,e,...n){if(t=ht(t),arguments.length===1&&(e=_v.newId()),UC("doc","path",e),t instanceof Sf){const r=Me.fromString(e,...n);return S1(r),new nt(t,null,new se(r))}{if(!(t instanceof nt||t instanceof Qs))throw new X($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return S1(r),new nt(t.firestore,t instanceof Qs?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="AsyncQueue";class m_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jN(this,"async_queue_retry"),this._c=()=>{const r=Up();r&&Z(p_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Up();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Up();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new $r;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ka(e))throw e;Z(p_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Xr("INTERNAL UNHANDLED ERROR: ",g_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Uv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&le(47125,{Pc:g_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function g_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Xa extends Sf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new m_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m_(e),this._firestoreClient=void 0,await e}}}function _9(t,e){const n=typeof t=="object"?t:QS(),r=typeof t=="string"?t:wh,s=dv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=DO("firestore");i&&w9(s,...i)}return s}function Wv(t){if(t._terminated)throw new X($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||E9(t),t._firestoreClient}function E9(t){var r,s,i;const e=t._freezeSettings(),n=function(l,u,d,h){return new G6(l,u,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,tI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new m9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tn(St.fromBase64String(e))}catch(n){throw new X($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Tn(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Tn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gc(e,Tn._jsonSchema))return Tn.fromBase64String(e.bytes)}}Tn._jsonSchemaVersion="firestore/bytes/1.0",Tn._jsonSchema={type:lt("string",Tn._jsonSchemaVersion),bytes:lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yr._jsonSchemaVersion}}static fromJSON(e){if(Gc(e,yr._jsonSchema))return new yr(e.latitude,e.longitude)}}yr._jsonSchemaVersion="firestore/geoPoint/1.0",yr._jsonSchema={type:lt("string",yr._jsonSchemaVersion),latitude:lt("number"),longitude:lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gc(e,vr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new vr(e.vectorValues);throw new X($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vr._jsonSchemaVersion="firestore/vectorValue/1.0",vr._jsonSchema={type:lt("string",vr._jsonSchemaVersion),vectorValues:lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=/^__.*__$/;class T9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kc(e,this.data,n,this.fieldTransforms)}}class rI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le(40011,{Ac:t})}}class Gv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Gv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ah(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(sI(this.Ac)&&b9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class S9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ef(e)}Cc(e,n,r,s=!1){return new Gv({Ac:e,methodName:n,Dc:r,path:Et.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nf(t){const e=t._freezeSettings(),n=Ef(t._databaseId);return new S9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iI(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Kv("Data must be an object, but it was:",o,r);const l=oI(r,o);let u,d;if(i.merge)u=new un(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=Mg(e,f,n);if(!o.contains(p))throw new X($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);lI(h,p)||h.push(p)}u=new un(h),d=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,d=o.fieldTransforms;return new T9(new Jt(l),u,d)}class If extends Hv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof If}}function C9(t,e,n,r){const s=t.Cc(1,e,n);Kv("Data must be an object, but it was:",s,r);const i=[],o=Jt.empty();di(r,(u,d)=>{const h=Qv(e,u,n);d=ht(d);const f=s.yc(h);if(d instanceof If)i.push(h);else{const p=Jc(d,f);p!=null&&(i.push(h),o.set(h,p))}});const l=new un(i);return new rI(o,l,s.fieldTransforms)}function N9(t,e,n,r,s,i){const o=t.Cc(1,e,n),l=[Mg(e,r,n)],u=[s];if(i.length%2!=0)throw new X($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)l.push(Mg(e,i[p])),u.push(i[p+1]);const d=[],h=Jt.empty();for(let p=l.length-1;p>=0;--p)if(!lI(d,l[p])){const g=l[p];let y=u[p];y=ht(y);const w=o.yc(g);if(y instanceof If)d.push(g);else{const _=Jc(y,w);_!=null&&(d.push(g),h.set(g,_))}}const f=new un(d);return new rI(h,f,o.fieldTransforms)}function I9(t,e,n,r=!1){return Jc(n,t.Cc(r?4:3,e))}function Jc(t,e){if(aI(t=ht(t)))return Kv("Unsupported field value:",e,t),oI(t,e);if(t instanceof Hv)return function(r,s){if(!sI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let u=Jc(l,s.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return m5(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ie.fromDate(r);return{timestampValue:Sh(s.serializer,i)}}if(r instanceof Ie){const i=new Ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sh(s.serializer,i)}}if(r instanceof yr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Tn)return{bytesValue:EN(s.serializer,r._byteString)};if(r instanceof nt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Rv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof vr)return function(o,l){return{mapValue:{fields:{[QC]:{stringValue:XC},[_h]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return Iv(l.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${ff(r)}`)}(t,e)}function oI(t,e){const n={};return BC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):di(t,(r,s)=>{const i=Jc(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function aI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ie||t instanceof yr||t instanceof Tn||t instanceof nt||t instanceof Hv||t instanceof vr)}function Kv(t,e,n){if(!aI(n)||!$C(n)){const r=ff(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Mg(t,e,n){if((e=ht(e))instanceof Cf)return e._internalPath;if(typeof e=="string")return Qv(t,e);throw Ah("Field path arguments must be of type string or ",t,!1,void 0,n)}const A9=new RegExp("[~\\*/\\[\\]]");function Qv(t,e,n){if(e.search(A9)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cf(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ah(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new X($.INVALID_ARGUMENT,l+t+u)}function lI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new P9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Af("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class P9 extends cI{data(){return super.data()}}function Af(t,e){return typeof e=="string"?Qv(t,e):e instanceof Cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yv{}class uI extends Yv{}function Ni(t,e,...n){let r=[];e instanceof Yv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof Xv).length,l=i.filter(u=>u instanceof Pf).length;if(o>1||o>0&&l>0)throw new X($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Pf extends uI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Pf(e,n,r)}_apply(e){const n=this._parse(e);return dI(e._query,n),new lo(e.firestore,e.converter,Tg(e._query,n))}_parse(e){const n=Nf(e.firestore);return function(i,o,l,u,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new X($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){v_(f,h);const y=[];for(const w of f)y.push(y_(u,i,w));p={arrayValue:{values:y}}}else p=y_(u,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||v_(f,h),p=I9(l,o,f,h==="in"||h==="not-in");return at.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function tr(t,e,n){const r=e,s=Af("where",t);return Pf._create(s,r,n)}class Xv extends Yv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const u of l)dI(o,u),o=Tg(o,u)}(e._query,n),new lo(e.firestore,e.converter,Tg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jv extends uI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Jv(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new X($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new X($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sc(i,o)}(e._query,this._field,this._direction);return new lo(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Qa(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Ao(t,e="asc"){const n=e,r=Af("orderBy",t);return Jv._create(r,n)}function y_(t,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new X($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iN(e)&&n.indexOf("/")!==-1)throw new X($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!se.isDocumentKey(r))throw new X($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return D1(t,new se(r))}if(n instanceof nt)return D1(t,n._key);throw new X($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ff(n)}.`)}function v_(t,e){if(!Array.isArray(t)||t.length===0)throw new X($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dI(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class k9{convertValue(e,n="none"){switch(ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return di(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[_h].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>et(o.doubleValue));return new vr(n)}convertGeoPoint(e){return new yr(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=gf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){const n=ti(e);return new Ie(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Ae(IN(r),9688,{name:e});const s=new bc(r.get(1),r.get(3)),i=new se(r.popFirst(5));return s.isEqual(n)||Xr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zi extends cI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Af("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=zi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}zi._jsonSchemaVersion="firestore/documentSnapshot/1.0",zi._jsonSchema={type:lt("string",zi._jsonSchemaVersion),bundleSource:lt("string","DocumentSnapshot"),bundleName:lt("string"),bundle:lt("string")};class Cd extends zi{data(e={}){return super.data(e)}}class na{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Pl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Cd(this._firestore,this._userDataWriter,r.key,r,new Pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const u=new Cd(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Pl(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new Cd(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Pl(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:j9(l.type),doc:u,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_v.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function j9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t){t=wr(t,nt);const e=wr(t.firestore,Xa);return v9(Wv(e),t._key).then(n=>M9(e,t,n))}na._jsonSchemaVersion="firestore/querySnapshot/1.0",na._jsonSchema={type:lt("string",na._jsonSchemaVersion),bundleSource:lt("string","QuerySnapshot"),bundleName:lt("string"),bundle:lt("string")};class pI extends k9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,n)}}function Ii(t){t=wr(t,lo);const e=wr(t.firestore,Xa),n=Wv(e),r=new pI(e);return R9(t._query),x9(n,t._query).then(s=>new na(e,r,t,s))}function D9(t,e,n){t=wr(t,nt);const r=wr(t.firestore,Xa),s=hI(t.converter,e);return Zv(r,[iI(Nf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,qn.none())])}function Nd(t,e,n,...r){t=wr(t,nt);const s=wr(t.firestore,Xa),i=Nf(s);let o;return o=typeof(e=ht(e))=="string"||e instanceof Cf?N9(i,"updateDoc",t._key,e,n,r):C9(i,"updateDoc",t._key,e),Zv(s,[o.toMutation(t._key,qn.exists(!0))])}function mI(t,e){const n=wr(t.firestore,Xa),r=Ms(t),s=hI(t.converter,e);return Zv(n,[iI(Nf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,qn.exists(!1))]).then(()=>r)}function Zv(t,e){return function(r,s){const i=new $r;return r.asyncQueue.enqueueAndForget(async()=>o9(await y9(r),s,i)),i.promise}(Wv(t),e)}function M9(t,e,n){const r=n.docs.get(e._key),s=new pI(t);return new zi(t,s,e._key,r,new Pl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Ha=s})(qa),Sa(new Yi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Xa(new I6(r.getProvider("auth-internal")),new R6(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new X($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bc(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Gs(_1,E1,e),Gs(_1,E1,"esm2020")})();var O9="firebase",L9="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gs(O9,L9,"app");const V9={apiKey:"AIzaSyCOoNSZJ95bk_K_qyMk5IrH3q4O5tYnB2k",authDomain:"garutech-50ea7.firebaseapp.com",projectId:"garutech-50ea7",storageBucket:"garutech-50ea7.firebasestorage.app",messagingSenderId:"1047666362406",appId:"1:1047666362406:web:02ad055106b2954f34fee7",measurementId:"G-W4PJN0ZMEB"},gI=KS(V9),Qu=T6(gI),Ut=_9(gI),yI=v.createContext(void 0),Zc=()=>{const t=v.useContext(yI);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},F9=({children:t})=>{const[e,n]=v.useState(null),[r,s]=v.useState(null),[i,o]=v.useState(!0),l=async g=>{try{const y=await fI(Ms(Ut,"users",g.uid));if(y.exists()){const w=y.data();s(w)}}catch(y){console.error("Error fetching user profile:",y)}},u=async(g,y)=>{try{await aV(Qu,g,y)}catch(w){throw new Error(w.message)}},d=async(g,y,w)=>{try{const{user:_}=await oV(Qu,g,y);await cV(_,{displayName:w});const b={uid:_.uid,email:_.email,displayName:w,role:"customer",createdAt:new Date};await D9(Ms(Ut,"users",_.uid),b),s(b)}catch(_){throw new Error(_.message)}},h=async()=>{try{await fV(Qu),s(null)}catch(g){throw new Error(g.message)}};v.useEffect(()=>hV(Qu,async y=>{n(y),y?await l(y):s(null),o(!1)}),[]);const f=(r==null?void 0:r.role)==="admin",p={user:e,userProfile:r,loading:i,login:u,register:d,logout:h,isAdmin:f};return a.jsx(yI.Provider,{value:p,children:t})},U9=()=>{const[t,e]=v.useState([]),[n,r]=v.useState(!0),[s,i]=v.useState(null),o=async()=>{try{r(!0);const l=vs(Ut,"products"),u=Ni(l,Ao("createdAt","desc")),d=await Ii(u),h=[];d.forEach(f=>{const p=f.data();h.push({id:f.id,name:p.name,price:p.price,originalPrice:p.originalPrice||null,image:p.image,category:p.category,subCategory:p.subCategory,brand:p.brand,description:p.description,specifications:p.specifications||{},inStock:p.inStock,stockCount:p.stockCount,rating:p.rating||4,reviews:p.reviews||0,features:p.features||[],priority:p.priority,videos:p.videos||[]})}),e(h),i(null)}catch(l){console.error("Error fetching products:",l),i("Failed to fetch products")}finally{r(!1)}};return v.useEffect(()=>{o()},[]),{products:t,loading:n,error:s,refetch:o}},vI=v.createContext(void 0),$9=({children:t})=>{const{products:e,loading:n,error:r,refetch:s}=U9(),i=p=>e.filter(g=>Array.isArray(g.category)?g.category.includes(p):g.category===p),o=(p,g)=>e.filter(y=>!(Array.isArray(y.category)?y.category.includes(p):y.category===p)||!y.subCategory?!1:Array.isArray(y.subCategory)?y.subCategory.includes(g):y.subCategory===g),l=p=>p.subCategory?o(p.category,p.subCategory):i(p.category),u=p=>e.find(g=>g.id===p),f={products:e,loading:n,error:r,refetch:s,getProductsByCategory:i,getProductsBySubCategory:o,getProductsByFilter:l,getProduct:u,getFeaturedProducts:()=>{const p=e.filter(g=>g.featured===!0);return p.length>0?p.slice(0,3):e.sort((g,y)=>(y.rating||0)-(g.rating||0)).slice(0,3)},getRelatedProducts:(p,g=4)=>{const y=u(p);if(!y)return e.filter(E=>E.id!==p).slice(0,g);const w=Array.isArray(y.category)?y.category[0]:y.category,_=Array.isArray(y.subCategory)?y.subCategory[0]:y.subCategory;let b=e.filter(E=>{if(E.id===p)return!1;const T=Array.isArray(E.category)?E.category.includes(w):E.category===w,A=_&&E.subCategory&&(Array.isArray(E.subCategory)?E.subCategory.includes(_):E.subCategory===_);return T||A});if(b.length<g){const E=e.filter(T=>T.id!==p&&!b.find(A=>A.id===T.id)).slice(0,g-b.length);b=[...b,...E]}return b.slice(0,g)}};return a.jsx(vI.Provider,{value:f,children:t})},ex=()=>{const t=v.useContext(vI);if(t===void 0)throw new Error("useProductsContext must be used within a ProductsProvider");return t},z9=({onLoadingComplete:t})=>{const[e,n]=v.useState(0),[r,s]=v.useState(0),i=[{icon:Ck,text:"Starting Engine..."},{icon:zk,text:"Loading Components..."},{icon:Qk,text:"Preparing Tools..."},{icon:Xk,text:"Almost Ready..."}];v.useEffect(()=>{const d=setInterval(()=>{n(h=>{const f=h+1;return f<=25?s(0):f<=50?s(1):f<=75?s(2):s(3),f>=100&&(clearInterval(d),setTimeout(()=>{t()},500)),f})},30);return()=>clearInterval(d)},[t]);const o=i[r].icon;return a.jsxs("div",{className:"fixed inset-0 bg-white from-gray-900 via-black to-gray-800 flex items-center justify-center z-50",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-600/10 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-red-600/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),a.jsxs("div",{className:"relative z-10 text-center",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"text-6xl font-bold text-white mb-2",children:a.jsx("span",{className:"text-background",children:"Garu Tech "})}),a.jsx("p",{className:"text-gray-400 text-lg",children:"Premium Garage Equipment"})]}),a.jsx("div",{className:"mb-8 flex justify-center",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 border-4 border-gray-600 rounded-full animate-spin border-t-blue-500"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx(o,{className:"w-8 h-8 text-white animate-pulse"})})]})}),a.jsx("div",{className:"mb-8",children:a.jsx("p",{className:"text-background text-xl font-medium mb-2",children:i[r].text})}),a.jsxs("div",{className:"w-80 mx-auto",children:[a.jsx("div",{className:"bg-gray-700 rounded-full h-3 overflow-hidden",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-red-500 h-full rounded-full transition-all duration-300 ease-out",style:{width:`${e}%`}})}),a.jsxs("div",{className:"flex justify-between mt-2 text-gray-400 text-sm",children:[a.jsx("span",{children:"0%"}),a.jsxs("span",{children:[e,"%"]}),a.jsx("span",{children:"100%"})]})]}),a.jsx("div",{className:"flex justify-center space-x-4 mt-8",children:i.map((l,u)=>{const d=l.icon;return a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 ${u<=r?"bg-blue-600 text-white":"bg-gray-700 text-gray-500"}`,children:a.jsx(d,{className:"w-6 h-6"})},u)})})]})]})},B9=CT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ne=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?kR:"button";return a.jsx(o,{className:Ze(B9({variant:e,size:n,className:t})),ref:i,...s})});ne.displayName="Button";const q9="/garutech/assets/spraybooth-CxFDPkZx.png",Ci=[{id:"frame-machines",name:"Frame Machines",parentCategory:"bodyparts",description:"Frame straightening equipment"},{id:"welding-equipment",name:"Welding Equipment",parentCategory:"bodyparts",description:"Welding tools and machines"},{id:"alignment-tools",name:"Alignment Tools",parentCategory:"diagnostictools",description:"Wheel alignment equipment"},{id:"testing-equipment",name:"Testing Equipment",parentCategory:"diagnostictools",description:"Diagnostic testing tools"},{id:"pressure-testers",name:"Pressure Testers",parentCategory:"diagnostictools",description:"Pressure testing equipment"},{id:"lifting-equipment",name:"Lifting Equipment",parentCategory:"garagetools",description:"Jacks, lifts, and hoists"},{id:"air-tools",name:"Air Tools",parentCategory:"garagetools",description:"Pneumatic tools and compressors"},{id:"wheel-service",name:"Wheel Service",parentCategory:"garagetools",description:"Tire and wheel equipment"},{id:"cleaning-equipment",name:"Cleaning Equipment",parentCategory:"garagetools",description:"Washers and cleaning tools"},{id:"ac-service",name:"AC Service",parentCategory:"garagetools",description:"Air conditioning service equipment"},{id:"lubebay",name:"Lube Bay",parentCategory:"garagetools",description:"lube and all"},{id:"konwei",name:"Konwei",parentCategory:"diagnosticscanners",description:"Konwei Scanners"},{id:"thinkcar",name:"Thinkcar",parentCategory:"diagnosticscanners",description:"Thinkcar scanners"},{id:"xtool",name:"XTOOL",parentCategory:"diagnosticscanners",description:"XTOOL scanners"},{id:"thinkdiag",name:"Thinkdiag",parentCategory:"diagnosticscanners",description:"Thinkdiag scanners"},{id:"socket-sets",name:"Socket Sets",parentCategory:"handtools",description:"Socket and ratchet sets"},{id:"pneumatic-tools",name:"Pneumatic Tools",parentCategory:"handtools",description:"Air-powered hand tools"},{id:"specialty-tools",name:"Specialty Tools",parentCategory:"handtools",description:"Specialized automotive tools"}],En=[{id:"spraybooth",name:"SprayBooth",description:"Premium car oven",icon:"🔥",subCategories:Ci.filter(t=>t.parentCategory==="spraybooth")},{id:"bodyparts",name:"Body Equipment",description:"Premium body equipment",icon:"🛡️",subCategories:Ci.filter(t=>t.parentCategory==="bodyparts")},{id:"diagnostictools",name:"Diagnostic Tools",description:"Quality diagnostic tools and accessories",icon:"⚙️",subCategories:Ci.filter(t=>t.parentCategory==="diagnostictools")},{id:"garagetools",name:"Garage Tools",description:"Premium garage tools and accessories",icon:"🔧",subCategories:Ci.filter(t=>t.parentCategory==="garagetools")},{id:"diagnosticscanners",name:"Diagnostic Scanners",description:"Diagnostic scanners optimal performance",icon:"💻",subCategories:Ci.filter(t=>t.parentCategory==="diagnosticscanners")},{id:"accessories",name:"Our Brand",description:"Get premium tools made by us",icon:"✨"},{id:"handtools",name:"Hand Tools",description:"Quality garage hand tools",icon:"🖐️",subCategories:Ci.filter(t=>t.parentCategory==="handtools")}],Og=t=>Ci.filter(e=>e.parentCategory===t),xI=[{id:"spraybooth",name:"Garutech Spray Booth",price:27e6,originalPrice:null,image:q9,category:["spraybooth","bodyparts"],subCategory:["paint-booths","LUB"],brand:"Garutech",description:"Semi-Down Draft: Air enter booth cabin through top front filtered plenum, and exhausted from the rear centered exhaust plenum",specifications:{"Wall panel":"sandwich style, δ=50mm, polystyrene. rock wool is optional.",Basement:"steel structure, 3 rows of vein board and 2 rows of grids, full grids as optiona",Door:" 3 pcs of front door without aluminum side cover. 1pcs of emergency door with pressure lock",Ramp:"2 pcs of vein board.-One 7.5kw intake fan","Control box:":"components made in china, overload, overheat,phase-lacking protection, straight driven motor.","Heat exchanger":" stainless steel. Riello G20 burner","Roof filter":"4 pcs of filter, mounted above support frame, which is made of steel and powder coated"},inStock:!0,stockCount:20,rating:4.8,reviews:156,features:["Spraying/baking transition damper, automatically air controlled","Automatically stop when preset time is up.—Constant temperature spraying","Quiet operation","Extended lifespan","Fade resistant"]}];xI.slice(0,3);var W9=v.createContext(void 0);function wI(t){const e=v.useContext(W9);return t||e||"ltr"}var zp=0;function H9(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??x_()),document.body.insertAdjacentElement("beforeend",t[1]??x_()),zp++,()=>{zp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),zp--}},[])}function x_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Bp="focusScope.autoFocusOnMount",qp="focusScope.autoFocusOnUnmount",w_={bubbles:!1,cancelable:!0},G9="FocusScope",_I=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,u]=v.useState(null),d=pn(s),h=pn(i),f=v.useRef(null),p=gt(e,w=>u(w)),g=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let w=function(T){if(g.paused||!l)return;const A=T.target;l.contains(A)?f.current=A:ms(f.current,{select:!0})},_=function(T){if(g.paused||!l)return;const A=T.relatedTarget;A!==null&&(l.contains(A)||ms(f.current,{select:!0}))},b=function(T){if(document.activeElement===document.body)for(const O of T)O.removedNodes.length>0&&ms(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const E=new MutationObserver(b);return l&&E.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),E.disconnect()}}},[r,l,g.paused]),v.useEffect(()=>{if(l){E_.add(g);const w=document.activeElement;if(!l.contains(w)){const b=new CustomEvent(Bp,w_);l.addEventListener(Bp,d),l.dispatchEvent(b),b.defaultPrevented||(K9(Z9(EI(l)),{select:!0}),document.activeElement===w&&ms(l))}return()=>{l.removeEventListener(Bp,d),setTimeout(()=>{const b=new CustomEvent(qp,w_);l.addEventListener(qp,h),l.dispatchEvent(b),b.defaultPrevented||ms(w??document.body,{select:!0}),l.removeEventListener(qp,h),E_.remove(g)},0)}}},[l,d,h,g]);const y=v.useCallback(w=>{if(!n&&!r||g.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,b=document.activeElement;if(_&&b){const E=w.currentTarget,[T,A]=Q9(E);T&&A?!w.shiftKey&&b===A?(w.preventDefault(),n&&ms(T,{select:!0})):w.shiftKey&&b===T&&(w.preventDefault(),n&&ms(A,{select:!0})):b===E&&w.preventDefault()}},[n,r,g.paused]);return a.jsx(Ke.div,{tabIndex:-1,...o,ref:p,onKeyDown:y})});_I.displayName=G9;function K9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ms(r,{select:e}),document.activeElement!==n)return}function Q9(t){const e=EI(t),n=__(e,t),r=__(e.reverse(),t);return[n,r]}function EI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function __(t,e){for(const n of t)if(!Y9(n,{upTo:e}))return n}function Y9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function X9(t){return t instanceof HTMLInputElement&&"select"in t}function ms(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&X9(t)&&e&&t.select()}}var E_=J9();function J9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=b_(t,e),t.unshift(e)},remove(e){var n;t=b_(t,e),(n=t[0])==null||n.resume()}}}function b_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Z9(t){return t.filter(e=>e.tagName!=="A")}var Wp="rovingFocusGroup.onEntryFocus",eU={bubbles:!1,cancelable:!0},eu="RovingFocusGroup",[Lg,bI,tU]=Vy(eu),[nU,TI]=ro(eu,[tU]),[rU,sU]=nU(eu),SI=v.forwardRef((t,e)=>a.jsx(Lg.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Lg.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(iU,{...t,ref:e})})}));SI.displayName=eu;var iU=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,p=v.useRef(null),g=gt(e,p),y=wI(i),[w,_]=$y({prop:o,defaultProp:l??null,onChange:u,caller:eu}),[b,E]=v.useState(!1),T=pn(d),A=bI(n),O=v.useRef(!1),[L,C]=v.useState(0);return v.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(Wp,T),()=>S.removeEventListener(Wp,T)},[T]),a.jsx(rU,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:w,onItemFocus:v.useCallback(S=>_(S),[_]),onItemShiftTab:v.useCallback(()=>E(!0),[]),onFocusableItemAdd:v.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:v.useCallback(()=>C(S=>S-1),[]),children:a.jsx(Ke.div,{tabIndex:b||L===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:oe(t.onMouseDown,()=>{O.current=!0}),onFocus:oe(t.onFocus,S=>{const P=!O.current;if(S.target===S.currentTarget&&P&&!b){const R=new CustomEvent(Wp,eU);if(S.currentTarget.dispatchEvent(R),!R.defaultPrevented){const N=A().filter(H=>H.focusable),j=N.find(H=>H.active),k=N.find(H=>H.id===w),re=[j,k,...N].filter(Boolean).map(H=>H.ref.current);II(re,h)}}O.current=!1}),onBlur:oe(t.onBlur,()=>E(!1))})})}),CI="RovingFocusGroupItem",NI=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...l}=t,u=Zm(),d=i||u,h=sU(CI,n),f=h.currentTabStopId===d,p=bI(n),{onFocusableItemAdd:g,onFocusableItemRemove:y,currentTabStopId:w}=h;return v.useEffect(()=>{if(r)return g(),()=>y()},[r,g,y]),a.jsx(Lg.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:a.jsx(Ke.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:oe(t.onMouseDown,_=>{r?h.onItemFocus(d):_.preventDefault()}),onFocus:oe(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:oe(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){h.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const b=lU(_,h.orientation,h.dir);if(b!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let T=p().filter(A=>A.focusable).map(A=>A.ref.current);if(b==="last")T.reverse();else if(b==="prev"||b==="next"){b==="prev"&&T.reverse();const A=T.indexOf(_.currentTarget);T=h.loop?cU(T,A+1):T.slice(A+1)}setTimeout(()=>II(T))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:w!=null}):o})})});NI.displayName=CI;var oU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function aU(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function lU(t,e,n){const r=aU(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return oU[r]}function II(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function cU(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var uU=SI,dU=NI,hU=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Eo=new WeakMap,Yu=new WeakMap,Xu={},Hp=0,AI=function(t){return t&&(t.host||AI(t.parentNode))},fU=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=AI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},pU=function(t,e,n,r){var s=fU(e,Array.isArray(t)?t:[t]);Xu[n]||(Xu[n]=new WeakMap);var i=Xu[n],o=[],l=new Set,u=new Set(s),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))h(p);else try{var g=p.getAttribute(r),y=g!==null&&g!=="false",w=(Eo.get(p)||0)+1,_=(i.get(p)||0)+1;Eo.set(p,w),i.set(p,_),o.push(p),w===1&&y&&Yu.set(p,!0),_===1&&p.setAttribute(n,"true"),y||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return h(e),l.clear(),Hp++,function(){o.forEach(function(f){var p=Eo.get(f)-1,g=i.get(f)-1;Eo.set(f,p),i.set(f,g),p||(Yu.has(f)||f.removeAttribute(r),Yu.delete(f)),g||f.removeAttribute(n)}),Hp--,Hp||(Eo=new WeakMap,Eo=new WeakMap,Yu=new WeakMap,Xu={})}},mU=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=hU(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),pU(r,s,n,"aria-hidden")):function(){return null}},lr=function(){return lr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lr.apply(this,arguments)};function PI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function gU(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Id="right-scroll-bar-position",Ad="width-before-scroll-bar",yU="with-scroll-bars-hidden",vU="--removed-body-scroll-bar-size";function Gp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function xU(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var wU=typeof window<"u"?v.useLayoutEffect:v.useEffect,T_=new WeakMap;function _U(t,e){var n=xU(null,function(r){return t.forEach(function(s){return Gp(s,r)})});return wU(function(){var r=T_.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(l){i.has(l)||Gp(l,null)}),i.forEach(function(l){s.has(l)||Gp(l,o)})}T_.set(n,t)},[t]),n}function EU(t){return t}function bU(t,e){e===void 0&&(e=EU);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var u=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function TU(t){t===void 0&&(t={});var e=bU(null);return e.options=lr({async:!0,ssr:!1},t),e}var RI=function(t){var e=t.sideCar,n=PI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,lr({},n))};RI.isSideCarExport=!0;function SU(t,e){return t.useMedium(e),RI}var kI=TU(),Kp=function(){},Rf=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:Kp,onWheelCapture:Kp,onTouchMoveCapture:Kp}),s=r[0],i=r[1],o=t.forwardProps,l=t.children,u=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,g=t.noRelative,y=t.noIsolation,w=t.inert,_=t.allowPinchZoom,b=t.as,E=b===void 0?"div":b,T=t.gapMode,A=PI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=p,L=_U([n,e]),C=lr(lr({},A),s);return v.createElement(v.Fragment,null,h&&v.createElement(O,{sideCar:kI,removeScrollBar:d,shards:f,noRelative:g,noIsolation:y,inert:w,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:T}),o?v.cloneElement(v.Children.only(l),lr(lr({},C),{ref:L})):v.createElement(E,lr({},C,{className:u,ref:L}),l))});Rf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rf.classNames={fullWidth:Ad,zeroRight:Id};var CU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function NU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=CU();return e&&t.setAttribute("nonce",e),t}function IU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function AU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var PU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=NU())&&(IU(e,n),AU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},RU=function(){var t=PU();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},jI=function(){var t=RU(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},kU={left:0,top:0,right:0,gap:0},Qp=function(t){return parseInt(t||"",10)||0},jU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Qp(n),Qp(r),Qp(s)]},DU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return kU;var e=jU(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},MU=jI(),ra="data-scroll-locked",OU=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(yU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(ra,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Id,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ad,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Id," .").concat(Id,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ad," .").concat(Ad,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ra,`] {
    `).concat(vU,": ").concat(l,`px;
  }
`)},S_=function(){var t=parseInt(document.body.getAttribute(ra)||"0",10);return isFinite(t)?t:0},LU=function(){v.useEffect(function(){return document.body.setAttribute(ra,(S_()+1).toString()),function(){var t=S_()-1;t<=0?document.body.removeAttribute(ra):document.body.setAttribute(ra,t.toString())}},[])},VU=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;LU();var i=v.useMemo(function(){return DU(s)},[s]);return v.createElement(MU,{styles:OU(i,!e,s,n?"":"!important")})},Vg=!1;if(typeof window<"u")try{var Ju=Object.defineProperty({},"passive",{get:function(){return Vg=!0,!0}});window.addEventListener("test",Ju,Ju),window.removeEventListener("test",Ju,Ju)}catch{Vg=!1}var bo=Vg?{passive:!1}:!1,FU=function(t){return t.tagName==="TEXTAREA"},DI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!FU(t)&&n[e]==="visible")},UU=function(t){return DI(t,"overflowY")},$U=function(t){return DI(t,"overflowX")},C_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=MI(t,r);if(s){var i=OI(t,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},zU=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},BU=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},MI=function(t,e){return t==="v"?UU(e):$U(e)},OI=function(t,e){return t==="v"?zU(e):BU(e)},qU=function(t,e){return t==="h"&&e==="rtl"?-1:1},WU=function(t,e,n,r,s){var i=qU(t,window.getComputedStyle(e).direction),o=i*r,l=n.target,u=e.contains(l),d=!1,h=o>0,f=0,p=0;do{if(!l)break;var g=OI(t,l),y=g[0],w=g[1],_=g[2],b=w-_-i*y;(y||b)&&MI(t,l)&&(f+=b,p+=y);var E=l.parentNode;l=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(p)<1||!s))&&(d=!0),d},Zu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},N_=function(t){return[t.deltaX,t.deltaY]},I_=function(t){return t&&"current"in t?t.current:t},HU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},GU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},KU=0,To=[];function QU(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(KU++)[0],i=v.useState(jI)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=gU([t.lockRef.current],(t.shards||[]).map(I_),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=v.useCallback(function(w,_){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var b=Zu(w),E=n.current,T="deltaX"in w?w.deltaX:E[0]-b[0],A="deltaY"in w?w.deltaY:E[1]-b[1],O,L=w.target,C=Math.abs(T)>Math.abs(A)?"h":"v";if("touches"in w&&C==="h"&&L.type==="range")return!1;var S=C_(C,L);if(!S)return!0;if(S?O=C:(O=C==="v"?"h":"v",S=C_(C,L)),!S)return!1;if(!r.current&&"changedTouches"in w&&(T||A)&&(r.current=O),!O)return!0;var P=r.current||O;return WU(P,_,w,P==="h"?T:A,!0)},[]),u=v.useCallback(function(w){var _=w;if(!(!To.length||To[To.length-1]!==i)){var b="deltaY"in _?N_(_):Zu(_),E=e.current.filter(function(O){return O.name===_.type&&(O.target===_.target||_.target===O.shadowParent)&&HU(O.delta,b)})[0];if(E&&E.should){_.cancelable&&_.preventDefault();return}if(!E){var T=(o.current.shards||[]).map(I_).filter(Boolean).filter(function(O){return O.contains(_.target)}),A=T.length>0?l(_,T[0]):!o.current.noIsolation;A&&_.cancelable&&_.preventDefault()}}},[]),d=v.useCallback(function(w,_,b,E){var T={name:w,delta:_,target:b,should:E,shadowParent:YU(b)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(A){return A!==T})},1)},[]),h=v.useCallback(function(w){n.current=Zu(w),r.current=void 0},[]),f=v.useCallback(function(w){d(w.type,N_(w),w.target,l(w,t.lockRef.current))},[]),p=v.useCallback(function(w){d(w.type,Zu(w),w.target,l(w,t.lockRef.current))},[]);v.useEffect(function(){return To.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",u,bo),document.addEventListener("touchmove",u,bo),document.addEventListener("touchstart",h,bo),function(){To=To.filter(function(w){return w!==i}),document.removeEventListener("wheel",u,bo),document.removeEventListener("touchmove",u,bo),document.removeEventListener("touchstart",h,bo)}},[]);var g=t.removeScrollBar,y=t.inert;return v.createElement(v.Fragment,null,y?v.createElement(i,{styles:GU(s)}):null,g?v.createElement(VU,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function YU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const XU=SU(kI,QU);var LI=v.forwardRef(function(t,e){return v.createElement(Rf,lr({},t,{ref:e,sideCar:XU}))});LI.classNames=Rf.classNames;var Fg=["Enter"," "],JU=["ArrowDown","PageUp","Home"],VI=["ArrowUp","PageDown","End"],ZU=[...JU,...VI],e8={ltr:[...Fg,"ArrowRight"],rtl:[...Fg,"ArrowLeft"]},t8={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tu="Menu",[Ic,n8,r8]=Vy(tu),[co,FI]=ro(tu,[r8,nf,TI]),kf=nf(),UI=TI(),[s8,uo]=co(tu),[i8,nu]=co(tu),$I=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,l=kf(e),[u,d]=v.useState(null),h=v.useRef(!1),f=pn(i),p=wI(s);return v.useEffect(()=>{const g=()=>{h.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>h.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),a.jsx(jD,{...l,children:a.jsx(s8,{scope:e,open:n,onOpenChange:f,content:u,onContentChange:d,children:a.jsx(i8,{scope:e,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:o,children:r})})})};$I.displayName=tu;var o8="MenuAnchor",tx=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=kf(n);return a.jsx(uS,{...s,...r,ref:e})});tx.displayName=o8;var nx="MenuPortal",[a8,zI]=co(nx,{forceMount:void 0}),BI=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=uo(nx,e);return a.jsx(a8,{scope:e,forceMount:n,children:a.jsx(so,{present:n||i.open,children:a.jsx(Uy,{asChild:!0,container:s,children:r})})})};BI.displayName=nx;var Nn="MenuContent",[l8,rx]=co(Nn),qI=v.forwardRef((t,e)=>{const n=zI(Nn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=uo(Nn,t.__scopeMenu),o=nu(Nn,t.__scopeMenu);return a.jsx(Ic.Provider,{scope:t.__scopeMenu,children:a.jsx(so,{present:r||i.open,children:a.jsx(Ic.Slot,{scope:t.__scopeMenu,children:o.modal?a.jsx(c8,{...s,ref:e}):a.jsx(u8,{...s,ref:e})})})})}),c8=v.forwardRef((t,e)=>{const n=uo(Nn,t.__scopeMenu),r=v.useRef(null),s=gt(e,r);return v.useEffect(()=>{const i=r.current;if(i)return mU(i)},[]),a.jsx(sx,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:oe(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),u8=v.forwardRef((t,e)=>{const n=uo(Nn,t.__scopeMenu);return a.jsx(sx,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),d8=dc("MenuContent.ScrollLock"),sx=v.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:g,disableOutsideScroll:y,...w}=t,_=uo(Nn,n),b=nu(Nn,n),E=kf(n),T=UI(n),A=n8(n),[O,L]=v.useState(null),C=v.useRef(null),S=gt(e,C,_.onContentChange),P=v.useRef(0),R=v.useRef(""),N=v.useRef(0),j=v.useRef(null),k=v.useRef("right"),q=v.useRef(0),re=y?LI:v.Fragment,H=y?{as:d8,allowPinchZoom:!0}:void 0,J=M=>{var me,Pn;const U=R.current+M,Y=A().filter(st=>!st.disabled),G=document.activeElement,ee=(me=Y.find(st=>st.ref.current===G))==null?void 0:me.textValue,pe=Y.map(st=>st.textValue),Pe=b8(pe,U,ee),$e=(Pn=Y.find(st=>st.textValue===Pe))==null?void 0:Pn.ref.current;(function st(Vt){R.current=Vt,window.clearTimeout(P.current),Vt!==""&&(P.current=window.setTimeout(()=>st(""),1e3))})(U),$e&&setTimeout(()=>$e.focus())};v.useEffect(()=>()=>window.clearTimeout(P.current),[]),H9();const D=v.useCallback(M=>{var Y,G;return k.current===((Y=j.current)==null?void 0:Y.side)&&S8(M,(G=j.current)==null?void 0:G.area)},[]);return a.jsx(l8,{scope:n,searchRef:R,onItemEnter:v.useCallback(M=>{D(M)&&M.preventDefault()},[D]),onItemLeave:v.useCallback(M=>{var U;D(M)||((U=C.current)==null||U.focus(),L(null))},[D]),onTriggerLeave:v.useCallback(M=>{D(M)&&M.preventDefault()},[D]),pointerGraceTimerRef:N,onPointerGraceIntentChange:v.useCallback(M=>{j.current=M},[]),children:a.jsx(re,{...H,children:a.jsx(_I,{asChild:!0,trapped:s,onMountAutoFocus:oe(i,M=>{var U;M.preventDefault(),(U=C.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Qh,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:g,children:a.jsx(uU,{asChild:!0,...T,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:O,onCurrentTabStopIdChange:L,onEntryFocus:oe(u,M=>{b.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(dS,{role:"menu","aria-orientation":"vertical","data-state":oA(_.open),"data-radix-menu-content":"",dir:b.dir,...E,...w,ref:S,style:{outline:"none",...w.style},onKeyDown:oe(w.onKeyDown,M=>{const Y=M.target.closest("[data-radix-menu-content]")===M.currentTarget,G=M.ctrlKey||M.altKey||M.metaKey,ee=M.key.length===1;Y&&(M.key==="Tab"&&M.preventDefault(),!G&&ee&&J(M.key));const pe=C.current;if(M.target!==pe||!ZU.includes(M.key))return;M.preventDefault();const $e=A().filter(me=>!me.disabled).map(me=>me.ref.current);VI.includes(M.key)&&$e.reverse(),_8($e)}),onBlur:oe(t.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(P.current),R.current="")}),onPointerMove:oe(t.onPointerMove,Ac(M=>{const U=M.target,Y=q.current!==M.clientX;if(M.currentTarget.contains(U)&&Y){const G=M.clientX>q.current?"right":"left";k.current=G,q.current=M.clientX}}))})})})})})})});qI.displayName=Nn;var h8="MenuGroup",ix=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(Ke.div,{role:"group",...r,ref:e})});ix.displayName=h8;var f8="MenuLabel",WI=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(Ke.div,{...r,ref:e})});WI.displayName=f8;var Ph="MenuItem",A_="menu.itemSelect",jf=v.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=v.useRef(null),o=nu(Ph,t.__scopeMenu),l=rx(Ph,t.__scopeMenu),u=gt(e,i),d=v.useRef(!1),h=()=>{const f=i.current;if(!n&&f){const p=new CustomEvent(A_,{bubbles:!0,cancelable:!0});f.addEventListener(A_,g=>r==null?void 0:r(g),{once:!0}),Fy(f,p),p.defaultPrevented?d.current=!1:o.onClose()}};return a.jsx(HI,{...s,ref:u,disabled:n,onClick:oe(t.onClick,h),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),d.current=!0},onPointerUp:oe(t.onPointerUp,f=>{var p;d.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:oe(t.onKeyDown,f=>{const p=l.searchRef.current!=="";n||p&&f.key===" "||Fg.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});jf.displayName=Ph;var HI=v.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=rx(Ph,n),l=UI(n),u=v.useRef(null),d=gt(e,u),[h,f]=v.useState(!1),[p,g]=v.useState("");return v.useEffect(()=>{const y=u.current;y&&g((y.textContent??"").trim())},[i.children]),a.jsx(Ic.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:a.jsx(dU,{asChild:!0,...l,focusable:!r,children:a.jsx(Ke.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:oe(t.onPointerMove,Ac(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:oe(t.onPointerLeave,Ac(y=>o.onItemLeave(y))),onFocus:oe(t.onFocus,()=>f(!0)),onBlur:oe(t.onBlur,()=>f(!1))})})})}),p8="MenuCheckboxItem",GI=v.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return a.jsx(JI,{scope:t.__scopeMenu,checked:n,children:a.jsx(jf,{role:"menuitemcheckbox","aria-checked":Rh(n)?"mixed":n,...s,ref:e,"data-state":ax(n),onSelect:oe(s.onSelect,()=>r==null?void 0:r(Rh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});GI.displayName=p8;var KI="MenuRadioGroup",[m8,g8]=co(KI,{value:void 0,onValueChange:()=>{}}),QI=v.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=pn(r);return a.jsx(m8,{scope:t.__scopeMenu,value:n,onValueChange:i,children:a.jsx(ix,{...s,ref:e})})});QI.displayName=KI;var YI="MenuRadioItem",XI=v.forwardRef((t,e)=>{const{value:n,...r}=t,s=g8(YI,t.__scopeMenu),i=n===s.value;return a.jsx(JI,{scope:t.__scopeMenu,checked:i,children:a.jsx(jf,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":ax(i),onSelect:oe(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});XI.displayName=YI;var ox="MenuItemIndicator",[JI,y8]=co(ox,{checked:!1}),ZI=v.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=y8(ox,n);return a.jsx(so,{present:r||Rh(i.checked)||i.checked===!0,children:a.jsx(Ke.span,{...s,ref:e,"data-state":ax(i.checked)})})});ZI.displayName=ox;var v8="MenuSeparator",eA=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(Ke.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});eA.displayName=v8;var x8="MenuArrow",tA=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=kf(n);return a.jsx(hS,{...s,...r,ref:e})});tA.displayName=x8;var w8="MenuSub",[Y7,nA]=co(w8),Rl="MenuSubTrigger",rA=v.forwardRef((t,e)=>{const n=uo(Rl,t.__scopeMenu),r=nu(Rl,t.__scopeMenu),s=nA(Rl,t.__scopeMenu),i=rx(Rl,t.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=i,d={__scopeMenu:t.__scopeMenu},h=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>h,[h]),v.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),u(null)}},[l,u]),a.jsx(tx,{asChild:!0,...d,children:a.jsx(HI,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":oA(n.open),...t,ref:Kh(e,s.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:oe(t.onPointerMove,Ac(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:oe(t.onPointerLeave,Ac(f=>{var g,y;h();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const w=(y=n.content)==null?void 0:y.dataset.side,_=w==="right",b=_?-5:5,E=p[_?"left":"right"],T=p[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:E,y:p.top},{x:T,y:p.top},{x:T,y:p.bottom},{x:E,y:p.bottom}],side:w}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:oe(t.onKeyDown,f=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&f.key===" "||e8[r.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});rA.displayName=Rl;var sA="MenuSubContent",iA=v.forwardRef((t,e)=>{const n=zI(Nn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=uo(Nn,t.__scopeMenu),o=nu(Nn,t.__scopeMenu),l=nA(sA,t.__scopeMenu),u=v.useRef(null),d=gt(e,u);return a.jsx(Ic.Provider,{scope:t.__scopeMenu,children:a.jsx(so,{present:r||i.open,children:a.jsx(Ic.Slot,{scope:t.__scopeMenu,children:a.jsx(sx,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=u.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:oe(t.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:oe(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:oe(t.onKeyDown,h=>{var g;const f=h.currentTarget.contains(h.target),p=t8[o.dir].includes(h.key);f&&p&&(i.onOpenChange(!1),(g=l.trigger)==null||g.focus(),h.preventDefault())})})})})})});iA.displayName=sA;function oA(t){return t?"open":"closed"}function Rh(t){return t==="indeterminate"}function ax(t){return Rh(t)?"indeterminate":t?"checked":"unchecked"}function _8(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function E8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function b8(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=E8(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function T8(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],u=e[o],d=l.x,h=l.y,f=u.x,p=u.y;h>r!=p>r&&n<(f-d)*(r-h)/(p-h)+d&&(s=!s)}return s}function S8(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return T8(n,e)}function Ac(t){return e=>e.pointerType==="mouse"?t(e):void 0}var C8=$I,N8=tx,I8=BI,A8=qI,P8=ix,R8=WI,k8=jf,j8=GI,D8=QI,M8=XI,O8=ZI,L8=eA,V8=tA,F8=rA,U8=iA,Df="DropdownMenu",[$8,X7]=ro(Df,[FI]),Ht=FI(),[z8,aA]=$8(Df),lA=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=t,u=Ht(e),d=v.useRef(null),[h,f]=$y({prop:s,defaultProp:i??!1,onChange:o,caller:Df});return a.jsx(z8,{scope:e,triggerId:Zm(),triggerRef:d,contentId:Zm(),open:h,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(p=>!p),[f]),modal:l,children:a.jsx(C8,{...u,open:h,onOpenChange:f,dir:r,modal:l,children:n})})};lA.displayName=Df;var cA="DropdownMenuTrigger",uA=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=aA(cA,n),o=Ht(n);return a.jsx(N8,{asChild:!0,...o,children:a.jsx(Ke.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Kh(e,i.triggerRef),onPointerDown:oe(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:oe(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});uA.displayName=cA;var B8="DropdownMenuPortal",dA=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Ht(e);return a.jsx(I8,{...r,...n})};dA.displayName=B8;var hA="DropdownMenuContent",fA=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=aA(hA,n),i=Ht(n),o=v.useRef(!1);return a.jsx(A8,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:oe(t.onCloseAutoFocus,l=>{var u;o.current||(u=s.triggerRef.current)==null||u.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:oe(t.onInteractOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,h=u.button===2||d;(!s.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fA.displayName=hA;var q8="DropdownMenuGroup",W8=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return a.jsx(P8,{...s,...r,ref:e})});W8.displayName=q8;var H8="DropdownMenuLabel",pA=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return a.jsx(R8,{...s,...r,ref:e})});pA.displayName=H8;var G8="DropdownMenuItem",mA=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return a.jsx(k8,{...s,...r,ref:e})});mA.displayName=G8;var K8="DropdownMenuCheckboxItem",gA=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return a.jsx(j8,{...s,...r,ref:e})});gA.displayName=K8;var Q8="DropdownMenuRadioGroup",Y8=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return a.jsx(D8,{...s,...r,ref:e})});Y8.displayName=Q8;var X8="DropdownMenuRadioItem",yA=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return a.jsx(M8,{...s,...r,ref:e})});yA.displayName=X8;var J8="DropdownMenuItemIndicator",vA=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return a.jsx(O8,{...s,...r,ref:e})});vA.displayName=J8;var Z8="DropdownMenuSeparator",xA=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return a.jsx(L8,{...s,...r,ref:e})});xA.displayName=Z8;var e7="DropdownMenuArrow",t7=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return a.jsx(V8,{...s,...r,ref:e})});t7.displayName=e7;var n7="DropdownMenuSubTrigger",wA=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return a.jsx(F8,{...s,...r,ref:e})});wA.displayName=n7;var r7="DropdownMenuSubContent",_A=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return a.jsx(U8,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_A.displayName=r7;var s7=lA,i7=uA,o7=dA,EA=fA,bA=pA,TA=mA,SA=gA,CA=yA,NA=vA,IA=xA,AA=wA,PA=_A;const Yp=s7,Xp=i7,a7=v.forwardRef(({className:t,inset:e,children:n,...r},s)=>a.jsxs(AA,{ref:s,className:Ze("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...r,children:[n,a.jsx(th,{className:"ml-auto h-4 w-4"})]}));a7.displayName=AA.displayName;const l7=v.forwardRef(({className:t,...e},n)=>a.jsx(PA,{ref:n,className:Ze("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));l7.displayName=PA.displayName;const Pd=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(o7,{children:a.jsx(EA,{ref:r,sideOffset:e,className:Ze("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Pd.displayName=EA.displayName;const Po=v.forwardRef(({className:t,inset:e,...n},r)=>a.jsx(TA,{ref:r,className:Ze("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));Po.displayName=TA.displayName;const c7=v.forwardRef(({className:t,children:e,checked:n,...r},s)=>a.jsxs(SA,{ref:s,className:Ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(NA,{children:a.jsx(Nk,{className:"h-4 w-4"})})}),e]}));c7.displayName=SA.displayName;const u7=v.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(CA,{ref:r,className:Ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(NA,{children:a.jsx(Ak,{className:"h-2 w-2 fill-current"})})}),e]}));u7.displayName=CA.displayName;const d7=v.forwardRef(({className:t,inset:e,...n},r)=>a.jsx(bA,{ref:r,className:Ze("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));d7.displayName=bA.displayName;const Ug=v.forwardRef(({className:t,...e},n)=>a.jsx(IA,{ref:n,className:Ze("-mx-1 my-1 h-px bg-muted",t),...e}));Ug.displayName=IA.displayName;const h7=()=>{const[t,e]=v.useState(!1),{itemCount:n}=za(),{user:r,userProfile:s,logout:i,isAdmin:o}=Zc(),l=Yn(),u=$a(),d=[{name:"Home",href:"/"},{name:"Shop",href:"/shop"},{name:"About",href:"/about"},{name:"Contact",href:"/contact"}],h=p=>l.pathname===p,f=async()=>{try{await i(),u("/")}catch(p){console.error("Logout failed:",p)}};return a.jsxs("header",{className:"sticky top-0 z-50 bg-white",children:[a.jsx("p",{className:"text-1xl md:text-1xl text-black bg-yell mb-8 mx-auto text-center",children:"Chat us on Whatsapp"}),a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsx(ce,{to:"/",className:"flex items-center space-x-2 hover-lift",children:a.jsx("img",{src:"src\\assets\\logo.png",alt:"AutoParts Logo",className:"h-10 w-auto object-contain"})}),a.jsxs("nav",{className:"hidden md:flex items-center space-x-8 text-accent",children:[a.jsxs(Yp,{open:t,onOpenChange:e,children:[a.jsx(Xp,{className:"text-sm font-medium text-black transition-colors hover:text-primary",onMouseEnter:()=>e(!0),onMouseLeave:()=>e(!1),children:"Categories"}),a.jsx(Pd,{onMouseEnter:()=>e(!0),onMouseLeave:()=>e(!1),children:En.map(p=>a.jsx(Po,{children:a.jsx(ce,{to:`/shop?category=${p.id}`,children:p.name})},p.id))})]}),d.map(p=>a.jsx(ce,{to:p.href,className:`text-sm font-medium transition-colors hover:text-primary ${h(p.href)?"text-primary border-b-2 border-primary":"text-black"}`,children:p.name},p.name))]}),a.jsx("div",{className:"hidden lg:flex items-center flex-1 max-w-md mx-8",children:a.jsxs("div",{className:"relative w-full",children:[a.jsx(md,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx("input",{type:"text",placeholder:"Search auto parts...",className:"w-full pl-10 pr-4 py-2  border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm"})]})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(ne,{variant:"ghost",size:"sm",className:"lg:hidden",children:a.jsx(md,{className:"h-5 w-5"})}),a.jsx("div",{className:"hidden sm:block",children:r?a.jsxs(Yp,{children:[a.jsx(Xp,{asChild:!0,children:a.jsxs(ne,{variant:"ghost",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(rh,{className:"h-5 w-5"}),a.jsx("span",{className:"hidden lg:block text-sm",children:(s==null?void 0:s.displayName)||r.displayName||"Account"})]})}),a.jsxs(Pd,{align:"end",className:"w-48",children:[a.jsx(Po,{asChild:!0,children:a.jsxs(ce,{to:"/account",className:"flex items-center space-x-2",children:[a.jsx(rh,{className:"h-4 w-4"}),a.jsx("span",{children:"My Account"})]})}),o&&a.jsxs(a.Fragment,{children:[a.jsx(Ug,{}),a.jsx(Po,{asChild:!0,children:a.jsxs(ce,{to:"/admin",className:"flex items-center space-x-2 text-primary",children:[a.jsx(_a,{className:"h-4 w-4"}),a.jsx("span",{children:"Admin Dashboard"})]})})]}),a.jsx(Ug,{}),a.jsxs(Po,{onClick:f,className:"flex items-center space-x-2 text-destructive cursor-pointer",children:[a.jsx(Ok,{className:"h-4 w-4"}),a.jsx("span",{children:"Sign Out"})]})]})]}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ce,{to:"/login",children:a.jsx(ne,{variant:"ghost",size:"sm",children:"Sign In"})}),a.jsx(ce,{to:"/signup",children:a.jsx(ne,{size:"sm",className:"btn-racing",children:"Sign Up"})})]})}),a.jsx(ce,{to:"/cart",children:a.jsxs(ne,{variant:"ghost",size:"sm",className:"relative hover-glow-red",children:[a.jsx(qk,{className:"h-5 w-5"}),n>0&&a.jsx("span",{className:"absolute -top-2 -right-2 bg-primary text-primary-foreground text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:n})]})}),a.jsx(ne,{variant:"ghost",size:"sm",className:"md:hidden",onClick:()=>e(!t),children:t?a.jsx(Ea,{className:"h-5 w-5"}):a.jsx(Lk,{className:"h-5 w-5"})})]})]}),t&&a.jsx("div",{className:"md:hidden border-t border-border",children:a.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[a.jsx("div",{className:"px-3 py-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(md,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx("input",{type:"text",placeholder:"Search auto parts...",className:"w-full pl-10 pr-4 py-2 bg-secondary border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-sm"})]})}),a.jsxs(Yp,{children:[a.jsx(Xp,{className:"block px-3 py-2 text-base font-medium rounded-md transition-colors",children:"Categories"}),a.jsx(Pd,{children:En.map(p=>a.jsx(Po,{children:a.jsx(ce,{to:`/shop?category=${p.id}`,onClick:()=>e(!1),children:p.name})},p.id))})]}),d.map(p=>a.jsx(ce,{to:p.href,className:`block px-3 py-2 text-base font-medium rounded-md transition-colors ${h(p.href)?"text-primary":"text-black hover:text-primary"}`,onClick:()=>e(!1),children:p.name},p.name)),r?a.jsxs(a.Fragment,{children:[a.jsx(ce,{to:"/account",className:"block px-3 py-2 text-base font-medium text-black hover:text-primary",onClick:()=>e(!1),children:"My Account"}),o&&a.jsx(ce,{to:"/admin",className:"block px-3 py-2 text-base font-medium text-primary hover:text-primary",onClick:()=>e(!1),children:"Admin Dashboard"}),a.jsx("button",{onClick:()=>{f(),e(!1)},className:"block w-full text-left px-3 py-2 text-base font-medium text-destructive hover:text-destructive",children:"Sign Out"})]}):a.jsxs("div",{className:"px-3 py-2 space-y-2",children:[a.jsx(ce,{to:"/login",className:"block w-full text-center px-4 py-2 text-base font-medium text-black hover:text-primary border border-border rounded-md",onClick:()=>e(!1),children:"Sign In"}),a.jsx(ce,{to:"/signup",className:"block w-full text-center px-4 py-2 text-base font-medium bg-primary text-primary-foreground rounded-md hover:bg-primary/90",onClick:()=>e(!1),children:"Sign Up"})]})]})})]})]})},f7=()=>a.jsx("footer",{className:"bg-automotive-darker text-gray-700 py-8 mt-12 ",children:a.jsxs("div",{className:"container mx-auto px-4 py-12",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(ce,{to:"/",className:"flex items-center space-x-2 hover-lift",children:a.jsx("img",{src:"src\\assets\\logo.png",alt:"AutoParts Logo",className:"h-10 w-auto object-contain"})})}),a.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Your trusted partner for premium automotive parts and equipment. Quality products, expert service, and fast delivery nationwide."}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:a.jsx(Rk,{className:"h-5 w-5"})}),a.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:a.jsx(Gk,{className:"h-5 w-5"})}),a.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:a.jsx(Dk,{className:"h-5 w-5"})}),a.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:a.jsx(Yk,{className:"h-5 w-5"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-poppins font-semibold text-lg text-foreground",children:"Quick Links"}),a.jsxs("nav",{className:"space-y-2",children:[a.jsx(ce,{to:"/shop",className:"block text-muted-foreground hover:text-primary transition-colors text-sm",children:"Shop All Parts"}),a.jsx(ce,{to:"/about",className:"block text-muted-foreground hover:text-primary transition-colors text-sm",children:"About Us"}),a.jsx(ce,{to:"/contact",className:"block text-muted-foreground hover:text-primary transition-colors text-sm",children:"Contact"}),a.jsx(ce,{to:"/account",className:"block text-muted-foreground hover:text-primary transition-colors text-sm",children:"My Account"}),a.jsx("a",{href:"#",className:"block text-muted-foreground hover:text-primary transition-colors text-sm",children:"Track Order"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-poppins font-semibold text-lg text-foreground",children:"Categories"}),a.jsxs("nav",{className:"space-y-2",children:[a.jsx(ce,{to:"/shop?categories.bodyparts}",className:"block text-muted-foreground hover:text-primary transition-colors text-sm",children:"Body Equipment"}),a.jsx("a",{href:"#",className:"block text-muted-foreground hover:text-primary transition-colors text-sm",children:"Diagnostic Tools"}),a.jsx("a",{href:"#",className:"block text-muted-foreground hover:text-primary transition-colors text-sm",children:"Garage Tools"}),a.jsx("a",{href:"#",className:"block text-muted-foreground hover:text-primary transition-colors text-sm",children:"Diagnostic Scanners"}),a.jsx("a",{href:"#",className:"block text-muted-foreground hover:text-primary transition-colors text-sm",children:"Lube Bay"}),a.jsx("a",{href:"#",className:"block text-muted-foreground hover:text-primary transition-colors text-sm",children:"Our Brand"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-poppins font-semibold text-lg text-foreground",children:"Get in Touch"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[a.jsx(RT,{className:"h-4 w-4 text-primary flex-shrink-0"}),a.jsx("span",{className:"text-muted-foreground",children:"+234 802 319 0606"})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[a.jsx(Fc,{className:"h-4 w-4 text-primary flex-shrink-0"}),a.jsx("span",{className:"text-muted-foreground",children:"garutech@gmail.com"})]}),a.jsxs("div",{className:"flex items-start space-x-3 text-sm",children:[a.jsx(Jh,{className:"h-4 w-4 text-primary flex-shrink-0 mt-0.5"}),a.jsxs("span",{className:"text-muted-foreground",children:["20 Akinremi Street",a.jsx("br",{}),"Anifowose, Ikeja, Lagos."]})]})]}),a.jsxs("div",{className:"pt-2",children:[a.jsx("h5",{className:"font-medium text-foreground text-sm mb-2",children:"Business Hours"}),a.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[a.jsx("div",{children:"Mon - Fri: 8:00 AM - 6:00 PM"}),a.jsx("div",{children:"Sat: 9:00 AM - 4:00 PM"}),a.jsx("div",{children:"Sun: Closed"})]})]})]})]}),a.jsx("div",{className:"border-t border-border mt-8 pt-8",children:a.jsx("div",{className:"space-y-4 md:space-y-0",children:a.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"© 2025 Garu Technologies Nig Ltd. All rights reserved."})})})]})}),Ce=v.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Ze("rounded-lg border text-black shadow-sm ",t),...e}));Ce.displayName="Card";const jr=v.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Ze("flex flex-col space-y-1.5 p-6",t),...e}));jr.displayName="CardHeader";const Dr=v.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:Ze("text-2xl font-semibold leading-none tracking-tight",t),...e}));Dr.displayName="CardTitle";const p7=v.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:Ze("text-sm text-muted-foreground",t),...e}));p7.displayName="CardDescription";const Ne=v.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Ze("p-6 pt-0",t),...e}));Ne.displayName="CardContent";const m7=v.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Ze("flex items-center p-6 pt-0",t),...e}));m7.displayName="CardFooter";const P_="/garutech/assets/201374161358833-BUPrWi9J.jpg",g7="/garutech/assets/4PostLift-DZerZ237.jpg",Ei=[{id:1,image:P_,title:"Premium Garage Equipment",subtitle:"Built for Performance",description:"Discover high-quality automotive parts and equipment trusted by mechanics nationwide. Your vehicle deserves the best.",primaryButton:{text:"Shop Now",link:"/shop"},secondaryButton:{text:"Learn More",link:"/about"}},{id:2,image:g7,title:"4 post Lift",subtitle:"₦4,500,000.00",description:"Heavy-duty 4-post car lift designed for vehicle lifting, alignment, and maintenance tasks in professional garages.",primaryButton:{text:"Buy Now",link:"/shop"},secondaryButton:{text:"Details",link:"/about"}},{id:3,image:P_,title:" Garutech SprayBooth",subtitle:"₦27,000,000.00",description:"Semi-Down Draft: Air enter booth cabin through top front filtered plenum, and exhausted from the rear centered exhaust plenum",primaryButton:{text:"Buy Now",link:"/shop"},secondaryButton:{text:"Details",link:"/contact"}}],y7=({autoSlideInterval:t=5e3})=>{const[e,n]=v.useState(0),[r,s]=v.useState(!0);v.useEffect(()=>{if(!r)return;const u=setInterval(()=>{n(d=>(d+1)%Ei.length)},t);return()=>clearInterval(u)},[t,r]);const i=u=>{n(u),s(!1),setTimeout(()=>s(!0),1e4)},o=()=>{n(u=>(u+1)%Ei.length),s(!1),setTimeout(()=>s(!0),1e4)},l=()=>{n(u=>(u-1+Ei.length)%Ei.length),s(!1),setTimeout(()=>s(!0),1e4)};return a.jsxs("section",{className:"hero-section md:w-3/4 relative mx-auto h-[50vh] flex items-center justify-center overflow-hidden",children:[Ei.map((u,d)=>a.jsx("div",{className:`absolute inset-0  bg-cover bg-center bg-no-repeat transition-opacity duration-1000 ${d===e?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url(${u.image})`},children:a.jsx("div",{className:"absolute inset-0 bg-black/50"})},u.id)),a.jsx("div",{className:"relative z-10 container mx-auto px-4 text-center",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:Ei.map((u,d)=>a.jsxs("div",{className:`transition-all duration-500 ${d===e?"opacity-100 translate-y-0":"opacity-0 translate-y-4 absolute inset-x-0"}`,children:[a.jsxs("h1",{className:"font-poppins font-bold text-1xl md:text-6xl text-white mb-6",children:[u.title,a.jsx("span",{className:"block text-racing-red",children:u.subtitle})]}),a.jsx("p",{className:"text-l md:text-2xl text-gray-200 mb-8 max-w-3xl mx-auto",children:u.description}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(ce,{to:u.primaryButton.link,children:a.jsxs(ne,{className:"btn-racing text-lg px-5 py-2 h-auto",children:[u.primaryButton.text,a.jsx(IT,{className:"ml-2 h-5 w-5"})]})}),a.jsx(ce,{to:u.secondaryButton.link,children:a.jsx(ne,{variant:"outline",className:"btn-metallic text-lg px-5 py-2 h-auto",children:u.secondaryButton.text})})]})]},`content-${u.id}`))})}),a.jsx("button",{onClick:l,className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-20 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all duration-300 hover:scale-110","aria-label":"Previous slide",children:a.jsx(Ik,{className:"h-6 w-6"})}),a.jsx("button",{onClick:o,className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-20 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all duration-300 hover:scale-110","aria-label":"Next slide",children:a.jsx(th,{className:"h-6 w-6"})}),a.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20 flex space-x-3",children:Ei.map((u,d)=>a.jsx("button",{onClick:()=>i(d),className:`w-3 h-3 rounded-full transition-all duration-300 ${d===e?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Go to slide ${d+1}`},d))}),a.jsx("style",{children:`
        @keyframes progress {
          0% { width: 0%; }
          100% { width: 100%; }
        }
      `})]})},v7=()=>{const{addItem:t}=za(),{getFeaturedProducts:e}=ex(),n=e();return a.jsxs("div",{className:"min-h-screen",children:[a.jsx(y7,{autoSlideInterval:6e3}),a.jsx("section",{className:"py-20 ",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"font-poppins font-bold text-4xl mb-4",children:"Featured Products"}),a.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Discover our most popular automotive tools, carefully selected for quality and performance."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 ",children:n.map(r=>a.jsx(Ce,{className:"group",children:a.jsxs(Ne,{className:"p-0",children:[a.jsx(ce,{to:`/product/${r.id}`,children:a.jsx("div",{className:"aspect-square overflow-hidden rounded-t-lg",children:a.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"flex items-center",children:[...Array(5)].map((s,i)=>a.jsx(ks,{className:`h-4 w-4 ${i<Math.floor(r.rating)?"text-yellow-400 fill-current":"text-gray-300"}`},i))}),a.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",r.reviews,")"]})]}),a.jsx(ce,{to:`/product/${r.id}`,children:a.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2 hover:text-primary transition-colors",children:r.name})}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4 line-clamp-2",children:r.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"font-bold text-xl text-primary",children:["₦",r.price.toLocaleString()]}),r.originalPrice&&a.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["₦",r.originalPrice.toLocaleString()]})]}),a.jsx(ne,{onClick:()=>t(r),className:"btn-racing",size:"sm",children:"Add to Cart"})]})]})]})},r.id))}),a.jsx("div",{className:"text-center mt-12",children:a.jsx(ce,{to:"/shop",children:a.jsxs(ne,{className:"btn-electric text-lg px-8 py-4 h-auto",children:["View All Products",a.jsx(IT,{className:"ml-2 h-5 w-5"})]})})})]})}),a.jsx("section",{className:"py-20 ",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"font-poppins font-bold text-4xl mb-4",children:"Shop by Category"}),a.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Find exactly what you need for your vehicle with our comprehensive catalog."})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:En.map(r=>a.jsx(ce,{to:`/shop?category=${r.id}`,children:a.jsx(Ce,{className:" text-center hover-lift cursor-pointer",children:a.jsxs(Ne,{className:"p-6",children:[a.jsx("div",{className:"text-4xl mb-4",children:r.icon}),a.jsx("h3",{className:"font-semibold text-lg mb-2",children:r.name}),a.jsx("p",{className:"text-muted-foreground text-sm",children:r.description})]})})},r.id))})]})}),a.jsx("section",{className:"py-20",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"font-poppins font-bold text-4xl mb-4",children:"Trusted by Professionals"}),a.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"See what our customers say about our products and service."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Eze Okeke",role:"Auto Mechanic",content:"Best quality parts I've used in 20 years. Fast shipping and great customer service.",rating:5},{name:"Sarah Chima",role:"Fleet Manager",content:"Reliable tools for our entire fleet. GaruTech has never let us down.",rating:5},{name:"Oluwadare David",role:"DIY Enthusiast",content:"Great prices and expert advice. Everything I need for my weekend projects.",rating:5}].map((r,s)=>a.jsx(Ce,{className:"",children:a.jsxs(Ne,{className:"p-6",children:[a.jsx("div",{className:"flex items-center mb-4",children:[...Array(r.rating)].map((i,o)=>a.jsx(ks,{className:"h-5 w-5 text-yellow-400 fill-current"},o))}),a.jsxs("p",{className:"text-muted-foreground mb-4 italic",children:['"',r.content,'"']}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:r.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:r.role})]})]})},s))})]})}),a.jsx("section",{className:"py-16 bg/50",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-primary/10 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:a.jsx(_a,{className:"h-8 w-8 text-primary"})}),a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Premium Quality"}),a.jsx("p",{className:"text-muted-foreground text-sm",children:"OEM and aftermarket parts"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-accent/10 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:a.jsx(kT,{className:"h-8 w-8 text-accent"})}),a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Fast Shipping"}),a.jsx("p",{className:"text-muted-foreground text-sm",children:"Same day dispatch"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-primary/10 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:a.jsx(Km,{className:"h-8 w-8 text-primary"})}),a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Expert Support"}),a.jsx("p",{className:"text-muted-foreground text-sm",children:"Professional advice"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-accent/10 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:a.jsx(Ym,{className:"h-8 w-8 text-accent"})}),a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"10k+ Customers"}),a.jsx("p",{className:"text-muted-foreground text-sm",children:"Trusted by mechanics"})]})]})})}),a.jsx("section",{className:"py-20 bg-primary/5",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("div",{className:"bg-primary/10 p-4 rounded-full w-16 h-16 mx-auto mb-6 flex items-center justify-center",children:a.jsx(Fc,{className:"h-8 w-8 text-primary"})}),a.jsx("h2",{className:"font-poppins font-bold text-4xl mb-4",children:"Stay Updated"}),a.jsx("p",{className:"text-muted-foreground text-lg mb-8 max-w-2xl mx-auto",children:"Get the latest deals, new product announcements, and expert automotive tips delivered straight to your inbox."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[a.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-3 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),a.jsx(ne,{className:"btn-racing px-8 py-3 h-auto",children:"Subscribe"})]}),a.jsxs("div",{className:"flex items-center justify-center mt-4 text-sm text-muted-foreground",children:[a.jsx(AT,{className:"h-4 w-4 mr-2"}),"No spam, unsubscribe anytime"]})]})})})]})},x7=()=>{var P,R;const{addItem:t}=za(),{products:e,loading:n,error:r}=ex(),[s,i]=v.useState(""),[o,l]=v.useState("all"),[u,d]=v.useState("all"),[h,f]=v.useState([0,3e7]),[p,g]=v.useState("name"),[y,w]=v.useState("grid"),[_,b]=v.useState(!1),[E,T]=v.useState(new Set),A=Yn();K.useEffect(()=>{const N=new URLSearchParams(A.search),j=N.get("category"),k=N.get("subCategory");j&&(l(j),j!=="all"&&T(q=>new Set([...q,j]))),k&&d(k)},[A.search]);const O=N=>{T(j=>{const k=new Set(j);return k.has(N)?k.delete(N):k.add(N),k})},L=N=>{l(N),d("all"),N!=="all"&&T(j=>new Set([...j,N]))},C=v.useMemo(()=>{let N=e.filter(j=>{const k=j.name.toLowerCase().includes(s.toLowerCase())||j.description.toLowerCase().includes(s.toLowerCase())||(j.brand||"").toLowerCase().includes(s.toLowerCase()),q=o==="all"||(Array.isArray(j.category)?j.category.includes(o):j.category===o),re=u==="all"||(j.subCategory?Array.isArray(j.subCategory)?j.subCategory.includes(u):j.subCategory===u:!1),H=j.price>=h[0]&&j.price<=h[1];return k&&q&&(u==="all"||re)&&H});return N.sort((j,k)=>{const q=j.priority!==void 0?j.priority:Number.MAX_SAFE_INTEGER,re=k.priority!==void 0?k.priority:Number.MAX_SAFE_INTEGER;if(q!==re||q!==re)return q-re;switch(p){case"price-low":return j.price-k.price;case"price-high":return k.price-j.price;case"rating":return(k.rating||0)-(j.rating||0);case"name":default:return j.name.localeCompare(k.name)}}),N},[e,s,o,u,h,p]),S=o!=="all"?Og(o):[];return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-lg",children:"Loading products..."})]})}):r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-red-600",children:[a.jsxs("p",{className:"text-lg mb-4",children:["Error loading products: ",r]}),a.jsx(ne,{onClick:()=>window.location.reload(),className:"btn-racing",children:"Retry"})]})}):a.jsxs("div",{className:"min-h-screen",children:[a.jsx("div",{className:"bg-white py-12 border-b border-border text-gray-700",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("h1",{className:"font-poppins font-bold text-4xl text-center mb-4",children:"GaruTech Shop"}),a.jsx("p",{className:"text-center text-black text-lg max-w-2xl mx-auto",children:"Find the perfect tools and equipment for your vehicle from our extensive catalog of premium automotive equipment."}),(o!=="all"||u!=="all")&&a.jsxs("div",{className:"flex items-center justify-center mt-4 text-sm",children:[a.jsx(ce,{to:"/shop",className:"text-muted-foreground hover:text-primary",children:"All Products"}),o!=="all"&&a.jsxs(a.Fragment,{children:[a.jsx(th,{className:"h-4 w-4 mx-2 text-muted-foreground"}),a.jsx("span",{className:"text-primary font-medium",children:(P=En.find(N=>N.id===o))==null?void 0:P.name})]}),u!=="all"&&a.jsxs(a.Fragment,{children:[a.jsx(th,{className:"h-4 w-4 mx-2 text-muted-foreground"}),a.jsx("span",{className:"text-primary font-medium",children:(R=S.find(N=>N.id===u))==null?void 0:R.name})]})]})]})}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 text-white",children:[a.jsx("div",{className:`lg:w-80 ${_?"block":"hidden lg:block"}`,children:a.jsx(Ce,{className:"sticky top-24",children:a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"font-semibold text-lg text-background",children:"Filters"}),a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>{i(""),l("all"),d("all"),f([0,3e7]),g("name")},children:"Clear All"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx(md,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx("input",{type:"text",placeholder:"Search products...",value:s,onChange:N=>i(N.target.value),className:"w-full pl-10 pr-4 py-2 bg-background text-white border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Categories"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"category",value:"all",checked:o==="all",onChange:N=>L(N.target.value),className:"mr-2"}),"All Categories"]}),En.map(N=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("label",{className:"flex items-center flex-1",children:[a.jsx("input",{type:"radio",name:"category",value:N.id,checked:o===N.id,onChange:j=>L(j.target.value),className:"mr-2"}),N.name]}),N.subCategories&&N.subCategories.length>0&&a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>O(N.id),className:"p-1 h-auto",children:a.jsx($i,{className:`h-3 w-3 transition-transform ${E.has(N.id)?"rotate-180":""}`})})]}),N.subCategories&&N.subCategories.length>0&&E.has(N.id)&&a.jsx("div",{className:"ml-6 mt-2 space-y-1 border-l border-border pl-3",children:N.subCategories.map(j=>a.jsxs("label",{className:"flex items-center text-sm",children:[a.jsx("input",{type:"radio",name:"subCategory",value:j.id,checked:u===j.id&&o===N.id,onChange:k=>{l(N.id),d(k.target.value)},className:"mr-2"}),j.name]},j.id))})]},N.id))]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Price Range"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"range",min:"0",max:"30000000",value:h[1],onChange:N=>f([h[0],parseInt(N.target.value)]),className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{children:["₦",h[0]]}),a.jsxs("span",{children:["₦",h[1]]})]})]})]})]})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(ne,{variant:"outline",onClick:()=>b(!_),className:"lg:hidden",children:[a.jsx(Wk,{className:"h-4 w-4 mr-2"}),"Filters"]}),a.jsxs("p",{className:"text-muted-foreground",children:["Showing ",C.length," of ",e.length," products"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:p,onChange:N=>g(N.target.value),className:"appearance-none bg-background border border-border rounded-lg px-4 py-2 pr-8 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[a.jsx("option",{value:"name",children:"Sort by Name"}),a.jsx("option",{value:"price-low",children:"Price: Low to High"}),a.jsx("option",{value:"price-high",children:"Price: High to Low"}),a.jsx("option",{value:"rating",children:"Highest Rated"})]}),a.jsx($i,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"})]}),a.jsxs("div",{className:"flex border border-border rounded-lg overflow-hidden text-black",children:[a.jsx(ne,{variant:y==="grid"?"default":"ghost",size:"sm",onClick:()=>w("grid"),className:"rounded-none",children:a.jsx(kk,{className:"h-4 w-4"})}),a.jsx(ne,{variant:y==="list"?"default":"ghost",size:"sm",onClick:()=>w("list"),className:"rounded-none",children:a.jsx(Mk,{className:"h-4 w-4"})})]})]})]}),a.jsx("div",{className:y==="grid"?"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-4",children:C.map(N=>{var j,k,q,re;return a.jsx(Ce,{className:"",children:a.jsx(Ne,{className:y==="grid"?"p-0":"p-6",children:y==="grid"?a.jsxs(a.Fragment,{children:[a.jsx(ce,{to:`/product/${N.id}`,children:a.jsx("div",{className:"aspect-square overflow-hidden rounded-t-lg",children:a.jsx("img",{src:N.image,alt:N.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[Array.isArray(N.category)?N.category.map(H=>{var J;return a.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-primary/10 text-primary rounded",children:((J=En.find(D=>D.id===H))==null?void 0:J.name)||H},H)}):a.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-primary/10 text-primary rounded",children:((j=En.find(H=>H.id===N.category))==null?void 0:j.name)||N.category}),N.subCategory&&a.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-primary/10 text-primary rounded",children:Array.isArray(N.subCategory)?N.subCategory.map(H=>{var J;return((J=S.find(D=>D.id===H))==null?void 0:J.name)||H}).join(", "):((k=S.find(H=>H.id===N.subCategory))==null?void 0:k.name)||N.subCategory})]}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"flex items-center",children:[...Array(5)].map((H,J)=>a.jsx(ks,{className:`h-4 w-4 ${J<Math.floor(N.rating||0)?"text-yellow-400 fill-current":"text-gray-300"}`},J))}),a.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",N.reviews||0,")"]})]}),a.jsx(ce,{to:`/product/${N.id}`,children:a.jsx("h3",{className:"font-semibold text-lg mb-2 hover:text-primary transition-colors line-clamp-2",children:N.name})}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4 line-clamp-2",children:N.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"font-bold text-xl text-primary",children:["₦",N.price.toLocaleString()]}),N.originalPrice&&a.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["₦",N.originalPrice.toLocaleString()]})]}),a.jsx(ne,{onClick:()=>t(N),className:"btn-racing",size:"sm",children:"Add to Cart"})]})]})]}):a.jsxs("div",{className:"flex gap-6",children:[a.jsx(ce,{to:`/product/${N.id}`,className:"flex-shrink-0",children:a.jsx("div",{className:"w-32 h-32 overflow-hidden rounded-lg",children:a.jsx("img",{src:N.image,alt:N.name,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[Array.isArray(N.category)?N.category.map(H=>{var J;return a.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-primary/10 text-primary rounded",children:((J=En.find(D=>D.id===H))==null?void 0:J.name)||H},H)}):a.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-primary/10 text-primary rounded",children:((q=En.find(H=>H.id===N.category))==null?void 0:q.name)||N.category}),N.subCategory&&a.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-primary/10 text-primary rounded",children:Array.isArray(N.subCategory)?N.subCategory.map(H=>{var J;return((J=S.find(D=>D.id===H))==null?void 0:J.name)||H}).join(", "):((re=S.find(H=>H.id===N.subCategory))==null?void 0:re.name)||N.subCategory})]}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"flex items-center",children:[...Array(5)].map((H,J)=>a.jsx(ks,{className:`h-4 w-4 ${J<Math.floor(N.rating||0)?"text-yellow-400 fill-current":"text-gray-300"}`},J))}),a.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",N.reviews||0,")"]})]}),a.jsx(ce,{to:`/product/${N.id}`,children:a.jsx("h3",{className:"font-semibold text-xl mb-2 hover:text-primary transition-colors",children:N.name})}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:N.brand}),a.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-3",children:N.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"font-bold text-2xl text-primary",children:["₦",N.price.toLocaleString()]}),N.originalPrice&&a.jsxs("span",{className:"text-muted-foreground line-through",children:["₦",N.originalPrice.toLocaleString()]})]}),a.jsx(ne,{onClick:()=>t(N),className:"btn-racing",children:"Add to Cart"})]})]})]})})},N.id)})}),C.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground text-lg mb-4",children:"No products found matching your criteria."}),a.jsx(ne,{onClick:()=>{i(""),l("all"),d("all"),f([0,3e7])},variant:"outline",children:"Clear Filters"})]})]})]})})]})},w7=({videoUrl:t,title:e})=>{const r=(s=>{const i=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/,o=s.match(i);return o&&o[7].length===11?o[7]:null})(t);return r?a.jsx("div",{className:"aspect-video w-full",children:a.jsx("iframe",{src:`https://www.youtube.com/embed/${r}`,title:e||"YouTube video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full rounded-lg"})}):a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[a.jsx("p",{className:"text-red-600 text-sm",children:"Invalid YouTube URL"}),a.jsx("p",{className:"text-red-500 text-xs mt-1",children:t})]})},_7=()=>{const{id:t}=JM(),{addItem:e}=za(),{getProduct:n,getRelatedProducts:r,loading:s,error:i}=ex(),[o,l]=v.useState(1),[u,d]=v.useState("description"),[h,f]=v.useState(!1),[p,g]=v.useState(!1),[y,w]=v.useState(!1);v.useEffect(()=>{window.scrollTo(0,0)},[t]);const _=n(t||""),b=r(t||"");if(s)return a.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{children:"Loading product details..."})]})});if(i)return a.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:a.jsxs("div",{className:"text-center text-red-600",children:[a.jsxs("p",{className:"mb-4",children:["Error loading product: ",i]}),a.jsx(ce,{to:"/shop",children:a.jsx(ne,{children:"Back to Shop"})})]})});if(!_)return a.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-xl md:text-2xl font-bold mb-4",children:"Product not found"}),a.jsx(ce,{to:"/shop",children:a.jsx(ne,{children:"Back to Shop"})})]})});const E=()=>{for(let T=0;T<o;T++)e(_)};return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-border px-4 py-3 md:hidden",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ce,{to:"/shop",className:"flex items-center text-muted-foreground",children:a.jsx(xa,{className:"h-5 w-5"})}),a.jsx("h1",{className:"font-semibold text-sm truncate mx-4 flex-1",children:_.name}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ne,{variant:"ghost",size:"sm",children:a.jsx(Qm,{className:"h-4 w-4"})}),a.jsx(ne,{variant:"ghost",size:"sm",children:a.jsx(dw,{className:"h-4 w-4"})})]})]})}),a.jsx("div",{className:"bg-whitw py-4 hidden md:block",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx(ce,{to:"/",className:"text-muted-foreground hover:text-primary",children:"Home"}),a.jsx("span",{className:"text-muted-foreground",children:"/"}),a.jsx(ce,{to:"/shop",className:"text-muted-foreground hover:text-primary",children:"Shop"}),a.jsx("span",{className:"text-muted-foreground",children:"/"}),a.jsx("span",{className:"text-black",children:_.name})]})})}),a.jsxs("div",{className:"container mx-auto px-4 py-4 md:py-8 pb-20 md:pb-8",children:[a.jsxs(ce,{to:"/shop",className:"hidden md:inline-flex items-center text-muted-foreground hover:text-primary mb-6",children:[a.jsx(xa,{className:"h-4 w-4 mr-2"}),"Back to Shop"]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-12 mb-8 lg:mb-16",children:[a.jsx("div",{className:"space-y-4",children:a.jsx("div",{className:"aspect-square overflow-hidden rounded-lg bg-secondary",children:a.jsx("img",{src:_.image,alt:_.name,className:"w-full h-full object-cover"})})}),a.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"flex items-center",children:[...Array(5)].map((T,A)=>a.jsx(ks,{className:`h-4 w-4 lg:h-5 lg:w-5 ${A<Math.floor(_.rating||0)?"text-yellow-400 fill-current":"text-gray-300"}`},A))}),a.jsxs("span",{className:"text-muted-foreground ml-2 text-sm lg:text-base",children:["(",_.reviews||0," reviews)"]})]}),a.jsx("h1",{className:"font-poppins font-bold text-2xl lg:text-3xl mb-2",children:_.name}),a.jsxs("div",{className:"flex items-center space-x-3 lg:space-x-4 mb-6",children:[a.jsxs("span",{className:"font-bold text-2xl lg:text-3xl text-primary",children:["₦",_.price.toLocaleString()]}),_.originalPrice&&a.jsxs("span",{className:"text-lg lg:text-xl text-muted-foreground line-through",children:["₦",_.originalPrice.toLocaleString()]}),_.originalPrice&&a.jsxs("span",{className:"bg-primary text-primary-foreground px-2 py-1 rounded text-xs lg:text-sm font-medium",children:["Save ₦",(_.originalPrice-_.price).toLocaleString()]})]})]}),a.jsxs("div",{className:"lg:block",children:[a.jsxs("p",{className:"text-muted-foreground leading-relaxed text-sm lg:text-base",children:[a.jsx("span",{className:"md:hidden",children:h?_.description:`${_.description.substring(0,120)}...`}),a.jsx("span",{className:"hidden md:block",children:_.description})]}),a.jsxs("button",{onClick:()=>f(!h),className:"text-primary text-sm font-medium mt-2 flex items-center md:hidden",children:[h?"Show less":"Read more",h?a.jsx(pd,{className:"h-4 w-4 ml-1"}):a.jsx($i,{className:"h-4 w-4 ml-1"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(_a,{className:"h-4 w-4 lg:h-5 lg:w-5 text-green-500"}),a.jsx("span",{className:`text-sm lg:text-base ${_.inStock?"text-green-500":"text-red-500"}`,children:_.inStock?"In Stock":"Out of Stock"})]}),_.inStock&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[a.jsxs("div",{className:"flex items-center justify-center sm:justify-start",children:[a.jsx("span",{className:"text-sm font-medium mr-4 sm:hidden",children:"Quantity:"}),a.jsxs("div",{className:"flex items-center border border-border rounded-lg",children:[a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>l(Math.max(1,o-1)),className:"rounded-r-none h-10 lg:h-auto",children:a.jsx(hc,{className:"h-4 w-4"})}),a.jsx("span",{className:"px-4 py-2 border-x border-border min-w-[60px] text-center",children:o}),a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>l(Math.min(_.stockCount||1,o+1)),className:"rounded-l-none h-10 lg:h-auto",children:a.jsx(wa,{className:"h-4 w-4"})})]})]}),a.jsxs(ne,{onClick:E,className:"btn-racing  w-full ",size:"lg",children:["Add to Cart - ₦",(_.price*o).toLocaleString()]})]}),a.jsxs("div",{className:"hidden lg:flex space-x-4 ",children:[a.jsxs(ne,{variant:"outline",size:"sm",className:"bg-white",children:[a.jsx(Qm,{className:"h-4 w-4 mr-2"}),"Wishlist"]}),a.jsxs(ne,{variant:"outline",size:"sm",className:"bg-white",children:[a.jsx(dw,{className:"h-4 w-4 mr-2"}),"Share"]})]})]})]})]}),a.jsxs("div",{className:"mb-8 lg:mb-16",children:[a.jsxs("div",{className:"hidden lg:block",children:[a.jsx("div",{className:"flex border-b border-border mb-6",children:[{id:"description",label:"Description"},{id:"specifications",label:"Specifications"},{id:"features",label:"Features"},{id:"reviews",label:"Reviews"}].map(T=>a.jsx("button",{onClick:()=>d(T.id),className:`px-6 py-3 font-medium transition-colors ${u===T.id?"text-primary border-b-2 border-primary":"text-muted-foreground hover:text-foreground"}`,children:T.label},T.id))}),a.jsxs("div",{className:"max-w-4xl",children:[u==="description"&&a.jsx("div",{className:"prose prose-invert max-w-none",children:a.jsx("p",{className:"leading-relaxed",children:_.description})}),u==="specifications"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(_.specifications||{}).map(([T,A])=>a.jsxs("div",{className:"flex justify-between py-2 border-b border-border",children:[a.jsxs("span",{className:"font-medium",children:[T,":"]}),a.jsx("span",{className:"text-muted-foreground",children:A})]},T))}),u==="features"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(_.features||[]).map((T,A)=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full flex-shrink-0"}),a.jsx("span",{children:T})]},A))}),u==="reviews"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"text-4xl font-bold",children:_.rating||0}),a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center mb-1",children:[...Array(5)].map((T,A)=>a.jsx(ks,{className:`h-5 w-5 ${A<Math.floor(_.rating||0)?"text-yellow-400 fill-current":"text-gray-300"}`},A))}),a.jsxs("p",{className:"text-muted-foreground",children:["Based on ",_.reviews||0," reviews"]})]})]}),a.jsx("div",{className:"text-muted-foreground",children:"Customer reviews and ratings will be displayed here once available."})]})]})]}),a.jsxs("div",{className:"space-y-4 lg:hidden",children:[Object.keys(_.specifications||{}).length>0&&a.jsxs("div",{className:"border border-border rounded-lg",children:[a.jsxs("button",{onClick:()=>g(!p),className:"w-full flex items-center justify-between p-4 text-left",children:[a.jsx("span",{className:"font-medium",children:"Specifications"}),p?a.jsx(pd,{className:"h-4 w-4"}):a.jsx($i,{className:"h-4 w-4"})]}),p&&a.jsx("div",{className:"px-4 pb-4 border-t border-border",children:a.jsx("div",{className:"space-y-2 mt-3",children:Object.entries(_.specifications||{}).map(([T,A])=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"font-medium",children:[T,":"]}),a.jsx("span",{className:"text-muted-foreground text-right",children:A})]},T))})})]}),(_.features||[]).length>0&&a.jsxs("div",{className:"border border-border rounded-lg",children:[a.jsxs("button",{onClick:()=>w(!y),className:"w-full flex items-center justify-between p-4 text-left",children:[a.jsx("span",{className:"font-medium",children:"Key Features"}),y?a.jsx(pd,{className:"h-4 w-4"}):a.jsx($i,{className:"h-4 w-4"})]}),y&&a.jsx("div",{className:"px-4 pb-4 border-t border-border",children:a.jsx("div",{className:"space-y-2 mt-3",children:(_.features||[]).map((T,A)=>a.jsxs("div",{className:"flex items-start space-x-2 text-sm",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("span",{children:T})]},A))})})]}),a.jsx("div",{className:"border border-border rounded-lg",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"font-medium",children:"Customer Reviews"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-2xl font-bold",children:_.rating||0}),a.jsx("div",{className:"flex items-center",children:[...Array(5)].map((T,A)=>a.jsx(ks,{className:`h-4 w-4 ${A<Math.floor(_.rating||0)?"text-yellow-400 fill-current":"text-gray-300"}`},A))})]})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Based on ",_.reviews||0," reviews"]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Customer reviews will be displayed here once available."})]})})]})]}),_.videos&&_.videos.length>0&&a.jsxs("div",{className:"mb-8 lg:mb-16",children:[a.jsx("h2",{className:"font-poppins font-bold text-2xl lg:text-3xl mb-6 lg:mb-8",children:"Product Videos"}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:_.videos.map((T,A)=>a.jsxs("div",{className:"bg-secondary rounded-lg p-4",children:[a.jsx(w7,{videoUrl:T,title:`${_.name} - Video ${A+1}`}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:["Video ",A+1]})]},A))})]}),a.jsxs("div",{children:[a.jsxs("h2",{className:"font-poppins font-bold text-2xl lg:text-3xl mb-6 lg:mb-8",children:[a.jsx("span",{className:"md:hidden",children:"You May Also Like"}),a.jsx("span",{className:"hidden md:block",children:"Related Products"})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6",children:b.map(T=>a.jsx(Ce,{className:"group",children:a.jsxs(Ne,{className:"p-0",children:[a.jsx(ce,{to:`/product/${T.id}`,children:a.jsx("div",{className:"aspect-square overflow-hidden rounded-t-lg",children:a.jsx("img",{src:T.image,alt:T.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})})}),a.jsxs("div",{className:"p-3 lg:p-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"flex items-center",children:[...Array(5)].map((A,O)=>a.jsx(ks,{className:`h-2.5 w-2.5 lg:h-3 lg:w-3 ${O<Math.floor(T.rating||0)?"text-yellow-400 fill-current":"text-gray-300"}`},O))}),a.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",T.reviews||0,")"]})]}),a.jsx(ce,{to:`/product/${T.id}`,children:a.jsx("h3",{className:"font-semibold text-sm lg:text-base mb-2 hover:text-primary transition-colors line-clamp-2",children:T.name})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"font-bold text-primary text-sm lg:text-base",children:["₦",T.price.toLocaleString()]}),a.jsxs(ne,{onClick:()=>e(T),className:"btn-racing text-xs lg:text-sm",size:"sm",children:[a.jsx("span",{className:"md:hidden",children:"Add"}),a.jsx("span",{className:"hidden md:block",children:"Add to Cart"})]})]})]})]})},T.id))})]})]}),_.inStock&&a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-border p-4 z-10 md:hidden",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center border border-border rounded-lg",children:[a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>l(Math.max(1,o-1)),className:"rounded-r-none h-10",children:a.jsx(hc,{className:"h-4 w-4"})}),a.jsx("span",{className:"px-3 py-2 border-x border-border min-w-[40px] text-center text-sm",children:o}),a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>l(Math.min(_.stockCount||1,o+1)),className:"rounded-l-none h-10",children:a.jsx(wa,{className:"h-4 w-4"})})]}),a.jsxs(ne,{onClick:E,className:"btn-racing flex-1",children:["Add to Cart - ₦",(_.price*o).toLocaleString()]})]})})]})},E7=()=>{const{items:t,total:e,itemCount:n,updateQuantity:r,removeItem:s,clearCart:i}=za();if(t.length===0)return a.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[a.jsx("div",{className:"bg-white p-8 rounded-full w-32 h-32 mx-auto mb-6 flex items-center justify-center",children:a.jsx(Bk,{className:"h-16 w-16 text-muted-foreground"})}),a.jsx("h1",{className:"font-poppins font-bold text-3xl mb-4",children:"Your Cart is Empty"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:"Looks like you haven't added any auto parts to your cart yet. Start shopping to find the perfect parts for your vehicle."}),a.jsx(ce,{to:"/shop",children:a.jsx(ne,{className:"btn-racing text-lg px-8 py-4 h-auto",children:"Start Shopping"})})]})});const o=e;return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx("div",{className:"bg-white30 py-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"font-poppins font-bold text-3xl mb-2",children:"Shopping Cart"}),a.jsxs("p",{className:"text-muted-foreground",children:[n," ",n===1?"item":"items"," in your cart"]})]}),a.jsxs(ce,{to:"/shop",className:"hidden md:flex items-center text-muted-foreground hover:text-primary",children:[a.jsx(xa,{className:"h-4 w-4 mr-2"}),"Continue Shopping"]})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsx(Ce,{className:" mb-6",children:a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"font-semibold text-xl",children:"Cart Items"}),a.jsxs(ne,{variant:"outline",size:"sm",onClick:i,className:"text-destructive bg-white hover:text-destructive",children:[a.jsx(hw,{className:"h-4 w-4 mr-2 "}),"Clear Cart"]})]}),a.jsx("div",{className:"space-y-6",children:t.map(l=>a.jsxs("div",{className:"flex gap-4 pb-6 border-b border-border last:border-b-0 last:pb-0",children:[a.jsx("div",{className:"w-24 h-24 flex-shrink-0 overflow-hidden rounded-lg",children:a.jsx("img",{src:l.image,alt:l.name,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(ce,{to:`/product/${l.id}`,className:"font-semibold text-lg hover:text-primary transition-colors",children:l.name}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:l.brand}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:l.description})]}),a.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[a.jsxs("div",{className:"flex items-center border border-border rounded-lg",children:[a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>r(l.id,l.quantity-1),className:"rounded-r-none h-8 w-8 p-0",children:a.jsx(hc,{className:"h-3 w-3"})}),a.jsx("span",{className:"px-3 py-1 border-x border-border min-w-[50px] text-center text-sm",children:l.quantity}),a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>r(l.id,l.quantity+1),className:"rounded-l-none h-8 w-8 p-0",children:a.jsx(wa,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-lg text-primary",children:["₦",(l.price*l.quantity).toLocaleString()]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["₦",l.price.toLocaleString()," each"]})]}),a.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>s(l.id),className:"text-destructive hover:text-destructive h-8 w-8 p-0",children:a.jsx(hw,{className:"h-3 w-3"})})]})]},l.id))})]})}),a.jsx("div",{className:"md:hidden mb-6",children:a.jsxs(ce,{to:"/shop",className:"flex items-center text-muted-foreground hover:text-primary",children:[a.jsx(xa,{className:"h-4 w-4 mr-2"}),"Continue Shopping"]})})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsx(Ce,{className:" sticky top-24",children:a.jsxs(Ne,{className:"p-6",children:[a.jsx("h2",{className:"font-semibold text-xl mb-6",children:"Order Summary"}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:["Subtotal (",n," items)"]}),a.jsxs("span",{children:["₦",e.toLocaleString()]})]}),a.jsx("div",{className:"border-t border-border pt-4",children:a.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{className:"text-primary",children:["₦",o.toLocaleString()]})]})})]}),a.jsx(ce,{to:"/checkout",className:"block mb-4",children:a.jsx(ne,{className:"btn-racing w-full text-lg py-3 h-auto",children:"Proceed to Checkout"})}),a.jsx("div",{className:"space-y-3 text-sm",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(_a,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),a.jsx("span",{className:"text-muted-foreground",children:"Chat with us on Whatsapp"})]})})]})})})]})})]})},b7=()=>{const{items:t,total:e,itemCount:n,clearCart:r}=za(),{toast:s}=Ly();$a();const[i,o]=v.useState(!1),[l,u]=v.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:""});if(t.length===0)return a.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[a.jsx("h1",{className:"font-poppins font-bold text-3xl mb-4",children:"No Items to Checkout"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:"Your cart is empty. Add some auto parts to proceed with checkout."}),a.jsx(ce,{to:"/shop",children:a.jsx(ne,{className:"btn-racing",children:"Continue Shopping"})})]})});const d=e,h=(y,w)=>{u(_=>({..._,[y]:w}))},f=()=>{let y=`🛒 *New Order from Garutech*

`;return y+=`👤 *Customer Information:*
`,y+=`Name: ${l.firstName} ${l.lastName}
`,y+=`Email: ${l.email}
`,y+=`Phone: ${l.phone||"Not provided"}

`,y+=`📍 *Shipping Address:*
`,y+=`${l.address}
`,y+=`${l.city}, ${l.state} ${l.zipCode}

`,y+=`📦 *Order Items:*
`,t.forEach((w,_)=>{y+=`${_+1}. ${w.name}
`,y+=`   Brand: ${w.brand||"N/A"}
`,y+=`   Qty: ${w.quantity} × ₦${w.price.toLocaleString()} = ₦${(w.price*w.quantity).toLocaleString()}

`}),y+=`💰 *Order Summary:*
`,y+=`Subtotal (${n} items): ₦${e.toLocaleString()}
`,y+=`*Total: ₦${d.toLocaleString()}*

`,y+="Please confirm this order and provide payment instructions. Thank you! 🙏",encodeURIComponent(y)},p=()=>{const y="+2348023190606",w=f(),_=`https://wa.me/${y}?text=${w}`;window.open(_,"_blank"),o(!1),s({title:"Redirecting to WhatsApp",description:"Complete your order through WhatsApp chat with our team."})},g=()=>{if(["firstName","lastName","email","address","city","state","zipCode"].filter(_=>!l[_].trim()).length>0){s({title:"Please fill in all required fields",description:"Complete the customer information and shipping address to continue.",variant:"destructive"});return}o(!0)};return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx("div",{className:"bg-white py-6",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(ce,{to:"/cart",className:"flex items-center text-muted-foreground hover:text-primary",children:[a.jsx(xa,{className:"h-4 w-4 mr-2"}),"Back to Cart"]}),a.jsx("div",{className:"h-4 w-px bg-border"}),a.jsx("h1",{className:"font-poppins font-bold text-2xl",children:"Secure Checkout"})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsx(Ce,{className:"",children:a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:a.jsx(rh,{className:"h-5 w-5 text-primary"})}),a.jsx("h2",{className:"font-semibold text-xl",children:"Customer Information"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"First Name *"}),a.jsx("input",{type:"text",required:!0,value:l.firstName,onChange:y=>h("firstName",y.target.value),className:"w-full px-4 py-3  border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Last Name *"}),a.jsx("input",{type:"text",required:!0,value:l.lastName,onChange:y=>h("lastName",y.target.value),className:"w-full px-4 py-3  border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),a.jsx("input",{type:"email",required:!0,value:l.email,onChange:y=>h("email",y.target.value),className:"w-full px-4 py-3  border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone"}),a.jsx("input",{type:"tel",value:l.phone,onChange:y=>h("phone",y.target.value),className:"w-full px-4 py-3  border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]})]})}),a.jsx(Ce,{className:"",children:a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"bg-accent/10 p-2 rounded-lg",children:a.jsx(Jh,{className:"h-5 w-5 text-accent"})}),a.jsx("h2",{className:"font-semibold text-xl",children:"Shipping Address"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Street Address *"}),a.jsx("input",{type:"text",required:!0,value:l.address,onChange:y=>h("address",y.target.value),className:"w-full px-4 py-3  border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"City *"}),a.jsx("input",{type:"text",required:!0,value:l.city,onChange:y=>h("city",y.target.value),className:"w-full px-4 py-3  border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"State *"}),a.jsx("input",{type:"text",required:!0,value:l.state,onChange:y=>h("state",y.target.value),className:"w-full px-4 py-3  border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"ZIP Code *"}),a.jsx("input",{type:"text",required:!0,value:l.zipCode,onChange:y=>h("zipCode",y.target.value),className:"w-full px-4 py-3  border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]})]})]})})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsx(Ce,{className:" sticky top-24",children:a.jsxs(Ne,{className:"p-6",children:[a.jsx("h2",{className:"font-semibold text-xl mb-6",children:"Order Summary"}),a.jsx("div",{className:"space-y-4 mb-6 max-h-64 overflow-y-auto",children:t.map(y=>a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"w-12 h-12 flex-shrink-0 overflow-hidden rounded",children:a.jsx("img",{src:y.image,alt:y.name,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm line-clamp-2",children:y.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Qty: ",y.quantity]})]}),a.jsxs("p",{className:"text-sm font-medium",children:["₦",(y.price*y.quantity).toLocaleString()]})]},y.id))}),a.jsxs("div",{className:"space-y-3 mb-6 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:["Subtotal (",n," items)"]}),a.jsxs("span",{children:["₦",e.toLocaleString()]})]}),a.jsx("div",{className:"border-t border-border pt-3",children:a.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{className:"text-primary",children:["₦",d.toLocaleString()]})]})})]}),a.jsxs(ne,{onClick:g,className:"btn-racing w-full text-lg py-3 h-auto",children:["Place Order - ₦",d.toLocaleString()]}),a.jsxs("div",{className:"flex items-center justify-center mt-4 text-xs text-muted-foreground",children:[a.jsx(nh,{className:"h-3 w-3 mr-1"}),"Our Payment system is not available for now"]})]})})})]})}),i&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 relative",children:[a.jsx("button",{onClick:()=>o(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Ea,{size:24})}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:a.jsx(uw,{className:"w-8 h-8 text-red-500"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Payment System Unavailable"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Oops! Our payment system is not working for now. Chat us on WhatsApp to complete your order."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>o(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),a.jsxs("button",{onClick:p,className:"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center justify-center gap-2 transition-colors font-medium",children:[a.jsx(uw,{size:16}),"Confirm"]})]})]})]})})]})},T7=()=>{const t=[{icon:Ym,label:"Happy Customers",value:"10,000+"},{icon:Sk,label:"Years in Business",value:"18+"},{icon:Km,label:"Products Sold",value:"500K+"},{icon:Jh,label:"Locations Served",value:"30+ States"}],e=[{icon:_a,title:"Quality First",description:"We source only the highest quality OEM and aftermarket parts from trusted manufacturers."},{icon:kT,title:"Fast Delivery",description:"Same-day shipping on most orders with nationwide coverage and tracking."},{icon:Ym,title:"Expert Support",description:"Our team of automotive experts is here to help you find the right parts."},{icon:Qm,title:"Customer Care",description:"Your satisfaction is our priority. We stand behind every product we sell."}];return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("section",{className:"bg-white py-20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("h1",{className:"font-poppins font-bold text-5xl mb-6",children:"About Garutech"}),a.jsx("p",{className:"text-xl text-muted-foreground leading-relaxed",children:"For over 20 years, we've been the trusted partner for automotive professionals and enthusiasts nationwide, providing premium parts and exceptional service."})]})})}),a.jsx("section",{className:"py-16 bg-white",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:t.map(({icon:n,label:r,value:s},i)=>a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-primary/10 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:a.jsx(n,{className:"h-8 w-8 text-primary"})}),a.jsx("div",{className:"font-bold text-3xl mb-2 text-primary",children:s}),a.jsx("p",{className:"text-muted-foreground",children:r})]},i))})})}),a.jsx("section",{className:"py-20 bg-white",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"font-poppins font-bold text-4xl mb-6",children:"Our Story"}),a.jsxs("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:[a.jsx("p",{children:"Garu Technologies was founded in 2003 by an automotive enthusiast who recognized the need for a reliable source of high-quality auto parts. What started as a small operation in a single warehouse has grown into a nationwide network serving thousands of customers."}),a.jsx("p",{children:"Our journey began when our founder, a veteran mechanic with over 20 years of experience, struggled to find quality parts for his customers. He decided to source parts directly from manufacturers, ensuring authenticity and reliability."}),a.jsx("p",{children:"Today, we continue that tradition of excellence, working with leading manufacturers and maintaining strict quality standards. Every part that leaves our warehouse is guaranteed to meet or exceed OEM specifications."})]})]}),a.jsx("div",{className:"bg-gradient-to-br from-primary/20 to-accent/20 p-8 rounded-lg",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"bg-primary p-3 rounded-lg",children:a.jsx(Hk,{className:"h-6 w-6 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Our Mission"}),a.jsx("p",{className:"text-muted-foreground text-sm",children:"To provide automotive professionals and enthusiasts with the highest quality parts and exceptional service."})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"bg-accent p-3 rounded-lg",children:a.jsx(Km,{className:"h-6 w-6 text-accent-foreground"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Our Vision"}),a.jsx("p",{className:"text-muted-foreground text-sm",children:"To be the most trusted name in automotive parts, known for quality, reliability, and customer satisfaction."})]})]})]})})]})})})}),a.jsx("section",{className:"py-20 bg-white",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"font-poppins font-bold text-4xl mb-4",children:"Our Values"}),a.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"These core principles guide everything we do and drive our commitment to excellence in the automotive parts industry."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map(({icon:n,title:r,description:s},i)=>a.jsx(Ce,{className:" text-center",children:a.jsxs(Ne,{className:"p-6",children:[a.jsx("div",{className:"bg-primary/10 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:a.jsx(n,{className:"h-8 w-8 text-primary"})}),a.jsx("h3",{className:"font-semibold text-xl mb-4",children:r}),a.jsx("p",{className:"text-muted-foreground",children:s})]})},i))})]})}),a.jsx("section",{className:"py-20 bg-white",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsx(Ce,{children:a.jsxs(Ne,{className:"p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"bg-primary/10 p-4 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:a.jsx(_a,{className:"h-10 w-10 text-primary"})}),a.jsx("h2",{className:"font-poppins font-bold text-3xl mb-4",children:"Quality Commitment"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-xl mb-4",children:"Rigorous Testing"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 mr-3 flex-shrink-0"}),"Every part undergoes comprehensive quality inspection"]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 mr-3 flex-shrink-0"}),"Performance testing to ensure reliability"]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 mr-3 flex-shrink-0"}),"Compatibility verification for proper fit"]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-xl mb-4",children:"Warranty Protection"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 mr-3 flex-shrink-0"}),"Comprehensive warranty on all products"]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 mr-3 flex-shrink-0"}),"Hassle-free return and exchange policy"]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 mr-3 flex-shrink-0"}),"24/7 customer support for warranty claims"]})]})]})]})]})})})})})]})},S7=()=>{const{toast:t}=Ly(),[e,n]=v.useState({name:"",email:"",subject:"",message:""}),[r,s]=v.useState(!1),[i,o]=v.useState(null),l=(h,f)=>{n(p=>({...p,[h]:f}))},u=async h=>{h.preventDefault(),s(!0),await new Promise(g=>setTimeout(g,1500));const f={...e,timestamp:new Date().toISOString(),id:Date.now().toString()},p=JSON.parse(localStorage.getItem("contact-submissions")||"[]");localStorage.setItem("contact-submissions",JSON.stringify([...p,f])),s(!1),n({name:"",email:"",subject:"",message:""}),t({title:"Message Sent Successfully!",description:"Thank you for contacting us. We'll get back to you within 24 hours."})},d=[{question:"What are your shipping options?",answer:"We offer free standard shipping on orders over $50. Expedited shipping options are available including overnight and 2-day delivery. All orders are processed same-day when placed before 3 PM EST."},{question:"Do you offer warranties on your parts?",answer:"Yes, all our parts come with comprehensive warranties ranging from 1-3 years depending on the product. We also offer extended warranty options for additional peace of mind."},{question:"Can you help me find the right part for my vehicle?",answer:"Absolutely! Our team of automotive experts can help you identify the correct parts for your specific vehicle. Contact us with your VIN number or vehicle details for personalized assistance."},{question:"What is your return policy?",answer:"We offer a 30-day return policy on most items. Parts must be in original packaging and unused condition. Return shipping is free for defective items, and we provide prepaid return labels for your convenience."},{question:"Do you sell to commercial customers?",answer:"Yes, we offer special pricing and terms for auto shops, dealerships, and fleet managers. Contact our commercial sales team for volume discounts and credit account options."}];return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx("section",{className:" py-16",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[a.jsx("h1",{className:"font-poppins font-bold text-5xl mb-6",children:"Get in Touch"}),a.jsx("p",{className:"text-xl text-muted-foreground leading-relaxed",children:"Have questions about our products or need expert advice? Our automotive specialists are here to help you find the perfect parts for your vehicle."})]})})}),a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"space-y-8",children:[a.jsx(Ce,{className:"",children:a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:a.jsx(RT,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Phone Support"}),a.jsx("p",{className:"text-muted-foreground",children:"Speak with our experts"})]})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Sales:"})," +234 802 319 0606"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Technical:"})," +234 802 319 0606"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Customer Service:"})," +234 802 319 0606"]})]})]})}),a.jsx(Ce,{className:"",children:a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsx("div",{className:"bg-accent/10 p-3 rounded-lg",children:a.jsx(Fc,{className:"h-6 w-6 text-accent"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Email Support"}),a.jsx("p",{className:"text-muted-foreground",children:"24/7 email assistance"})]})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"General:"})," info@garutech.com"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Sales:"})," sales@garutech.com"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Support:"})," support@garutech.com"]})]})]})}),a.jsx(Ce,{className:"",children:a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:a.jsx(Jh,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Visit Us"}),a.jsx("p",{className:"text-muted-foreground",children:"Head Office"})]})]}),a.jsx("div",{className:"text-sm",children:a.jsxs("p",{children:["20 Akinremi Street",a.jsx("br",{}),"Anifowose, Ikeja, Lagos.",a.jsx("br",{}),"Nigeria"]})})]})}),a.jsx(Ce,{className:"",children:a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsx("div",{className:"bg-accent/10 p-3 rounded-lg",children:a.jsx(Pk,{className:"h-6 w-6 text-accent"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Business Hours"}),a.jsx("p",{className:"text-muted-foreground",children:"When we're available"})]})]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Monday - Friday:"}),a.jsx("span",{children:"8:00 AM - 6:00 PM"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Saturday:"}),a.jsx("span",{children:"9:00 AM - 4:00 PM"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Sunday:"}),a.jsx("span",{children:"Closed"})]}),a.jsx("div",{className:"pt-2 border-t border-border",children:a.jsx("p",{className:"text-xs text-muted-foreground",children:"Emergency support available 24/7 for commercial customers"})})]})]})})]})}),a.jsx("div",{className:"lg:col-span-2 space-y-8",children:a.jsx(Ce,{className:"",children:a.jsxs(Ne,{className:"p-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:a.jsx(Vk,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-semibold text-2xl",children:"Send Us a Message"}),a.jsx("p",{className:"text-muted-foreground",children:"We'll respond within 24 hours"})]})]}),a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Name *"}),a.jsx("input",{type:"text",required:!0,value:e.name,onChange:h=>l("name",h.target.value),className:"w-full px-4 py-3  border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Your full name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),a.jsx("input",{type:"email",required:!0,value:e.email,onChange:h=>l("email",h.target.value),className:"w-full px-4 py-3  border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"your.email@example.com"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Subject *"}),a.jsxs("select",{required:!0,value:e.subject,onChange:h=>l("subject",h.target.value),className:"w-full px-4 py-3  border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select a subject"}),a.jsx("option",{value:"product-inquiry",children:"Product Inquiry"}),a.jsx("option",{value:"technical-support",children:"Technical Support"}),a.jsx("option",{value:"order-status",children:"Order Status"}),a.jsx("option",{value:"return-exchange",children:"Return/Exchange"}),a.jsx("option",{value:"wholesale-inquiry",children:"Wholesale Inquiry"}),a.jsx("option",{value:"other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Message *"}),a.jsx("textarea",{required:!0,rows:6,value:e.message,onChange:h=>l("message",h.target.value),className:"w-full px-4 py-3  border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-vertical",placeholder:"Please provide details about your inquiry..."})]}),a.jsx(ne,{type:"submit",disabled:r,className:"btn-racing w-full md:w-auto px-8 py-3 h-auto",children:r?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):a.jsxs(a.Fragment,{children:["Send Message",a.jsx($k,{className:"ml-2 h-4 w-4"})]})})]})]})})})]}),a.jsxs("div",{className:"mt-20",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"font-poppins font-bold text-4xl mb-4",children:"Frequently Asked Questions"}),a.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Quick answers to common questions about our products and services."})]}),a.jsx("div",{className:"max-w-4xl mx-auto space-y-4",children:d.map((h,f)=>a.jsx(Ce,{className:"",children:a.jsxs(Ne,{className:"p-0",children:[a.jsxs("button",{onClick:()=>o(i===f?null:f),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-secondary/30 transition-colors",children:[a.jsx("h3",{className:"font-semibold text-lg",children:h.question}),i===f?a.jsx(pd,{className:"h-5 w-5 text-muted-foreground"}):a.jsx($i,{className:"h-5 w-5 text-muted-foreground"})]}),i===f&&a.jsx("div",{className:"px-6 pb-4",children:a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:h.answer})})]})},f))})]})]})]})},C7=()=>{const t=JSON.parse(localStorage.getItem("autoparts-orders")||"[]"),e=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return a.jsx("div",{className:"min-h-screen ",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:a.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[a.jsx(Ce,{className:"",children:a.jsx(Ne,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"font-semibold text-2xl mb-2",children:"Welcome back!"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your account and track your orders from this dashboard."})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),a.jsx("p",{className:"font-bold text-2xl text-primary",children:t.length})]})]})})}),a.jsx(Ce,{className:"",children:a.jsxs(Ne,{className:"p-6 ",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 ",children:[a.jsx("h2",{className:" font-semibold text-xl",children:"Recent Orders"}),a.jsx(ne,{variant:"outline",size:"sm",className:"bg-white",children:"View All Orders"})]}),t.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"bg-secondary/30 p-8 rounded-full w-24 h-24 mx-auto mb-4 flex items-center justify-center",children:a.jsx(Fk,{className:"h-12 w-12 text-muted-foreground"})}),a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No orders yet"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"When you place your first order, it will appear here."}),a.jsx(ne,{className:"btn-racing",children:"Start Shopping"})]}):a.jsx("div",{className:"space-y-4",children:t.slice(0,3).map(n=>a.jsxs("div",{className:"border border-border rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-green-500/10 p-2 rounded-lg",children:a.jsx(AT,{className:"h-4 w-4 text-green-500"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold",children:["Order #",n.id]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e(n.orderDate)})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-primary",children:["₦",n.total.toFixed(2)]}),a.jsx("p",{className:"text-sm text-green-500 capitalize",children:n.status})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex -space-x-2",children:[n.items.slice(0,3).map((r,s)=>a.jsx("div",{className:"w-8 h-8 bg-secondary border-2 border-background rounded-full overflow-hidden",children:a.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover"})},s)),n.items.length>3&&a.jsx("div",{className:"w-8 h-8 bg-secondary border-2 border-background rounded-full flex items-center justify-center",children:a.jsxs("span",{className:"text-xs font-medium",children:["+",n.items.length-3]})})]}),a.jsxs(ne,{variant:"outline",size:"sm",className:"bg-white",children:[a.jsx(Wy,{className:"h-3 w-3 mr-2"}),"View Details"]})]})]},n.id))})]})})]})})})})},N7=()=>{const t=Yn();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},I7=()=>{var w,_;const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(!1),[o,l]=v.useState(!1),[u,d]=v.useState(""),{login:h}=Zc(),f=$a(),g=((_=(w=Yn().state)==null?void 0:w.from)==null?void 0:_.pathname)||"/",y=async b=>{b.preventDefault(),l(!0),d("");try{await h(t,n),f(g,{replace:!0})}catch(E){d(E.message)}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center  px-4",children:a.jsxs(Ce,{className:"w-full max-w-md",children:[a.jsxs(jr,{className:"text-center",children:[a.jsx(Dr,{className:"text-2xl font-bold",children:"Welcome Back"}),a.jsx("p",{className:"text-muted-foreground",children:"Sign in to your account"})]}),a.jsxs(Ne,{children:[a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[u&&a.jsx("div",{className:"bg-destructive/15 text-destructive text-sm p-3 rounded-lg",children:u}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Fc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx("input",{type:"email",value:t,onChange:b=>e(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ",placeholder:"Enter your email",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(nh,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx("input",{type:s?"text":"password",value:n,onChange:b=>r(b.target.value),className:"w-full pl-10 pr-10 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ",placeholder:"Enter your password",required:!0}),a.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:s?a.jsx(PT,{className:"h-4 w-4"}):a.jsx(Wy,{className:"h-4 w-4"})})]})]}),a.jsx(ne,{type:"submit",className:"w-full btn-racing",disabled:o,children:o?"Signing in...":"Sign In"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:["Don't have an account?"," ",a.jsx(ce,{to:"/signup",className:"text-primary hover:underline",children:"Sign up"})]})})]})]})})},A7=()=>{const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,l]=v.useState(""),[u,d]=v.useState(!1),[h,f]=v.useState(!1),[p,g]=v.useState(""),{register:y}=Zc(),w=$a(),_=async b=>{if(b.preventDefault(),f(!0),g(""),n!==s){g("Passwords do not match"),f(!1);return}if(n.length<6){g("Password must be at least 6 characters"),f(!1);return}try{await y(t,n,o),w("/")}catch(E){g(E.message)}finally{f(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center  px-4",children:a.jsxs(Ce,{className:"w-full max-w-md",children:[a.jsxs(jr,{className:"text-center",children:[a.jsx(Dr,{className:"text-2xl font-bold",children:"Create Account"}),a.jsx("p",{className:"text-muted-foreground",children:"Join us today"})]}),a.jsxs(Ne,{children:[a.jsxs("form",{onSubmit:_,className:"space-y-4",children:[p&&a.jsx("div",{className:"bg-destructive/15 text-destructive text-sm p-3 rounded-lg",children:p}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(rh,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx("input",{type:"text",value:o,onChange:b=>l(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ",placeholder:"Enter your full name",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Fc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx("input",{type:"email",value:t,onChange:b=>e(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ",placeholder:"Enter your email",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(nh,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx("input",{type:u?"text":"password",value:n,onChange:b=>r(b.target.value),className:"w-full pl-10 pr-10 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ",placeholder:"Create a password",required:!0}),a.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:u?a.jsx(PT,{className:"h-4 w-4"}):a.jsx(Wy,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(nh,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx("input",{type:"password",value:s,onChange:b=>i(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary ",placeholder:"Confirm your password",required:!0})]})]}),a.jsx(ne,{type:"submit",className:"w-full btn-racing",disabled:h,children:h?"Creating Account...":"Create Account"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",a.jsx(ce,{to:"/login",className:"text-primary hover:underline",children:"Sign in"})]})})]})]})})},R_="dxhjlkdx0",P7="vroom_commerce",R7=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",P7),e.append("cloud_name",R_);try{const n=await fetch(`https://api.cloudinary.com/v1_1/${R_}/image/upload`,{method:"POST",body:e});if(!n.ok)throw new Error("Failed to upload image");return await n.json()}catch(n){throw console.error("Error uploading to Cloudinary:",n),n}},k7=({onImageUploaded:t,currentImage:e,onImageRemoved:n,className:r=""})=>{const[s,i]=v.useState(!1),[o,l]=v.useState(!1),u=v.useRef(null),d=async y=>{if(!y.type.startsWith("image/")){alert("Please select an image file");return}if(y.size>5*1024*1024){alert("File size must be less than 5MB");return}i(!0);try{const w=await R7(y);t(w.secure_url,w.public_id)}catch(w){console.error("Upload failed:",w),alert("Failed to upload image. Please try again.")}finally{i(!1)}},h=y=>{y.preventDefault(),y.stopPropagation(),y.type==="dragenter"||y.type==="dragover"?l(!0):y.type==="dragleave"&&l(!1)},f=async y=>{y.preventDefault(),y.stopPropagation(),l(!1),y.dataTransfer.files&&y.dataTransfer.files[0]&&await d(y.dataTransfer.files[0])},p=async y=>{y.target.files&&y.target.files[0]&&await d(y.target.files[0])},g=()=>{n&&n(),u.current&&(u.current.value="")};return a.jsxs("div",{className:`space-y-4 ${r}`,children:[e?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:e,alt:"Product",className:"w-full h-48 object-cover rounded-lg border border-border"}),a.jsx(ne,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:g,children:a.jsx(Ea,{className:"h-4 w-4"})})]}):a.jsxs("div",{className:`
            relative border-2 border-dashed rounded-lg p-8 text-center transition-colors
            ${o?"border-primary bg-primary/10":"border-border"}
            ${s?"opacity-50 pointer-events-none":"hover:border-primary/50"}
          `,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[a.jsx("input",{ref:u,type:"file",accept:"image/*",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:s}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(jk,{className:"h-12 w-12 text-muted-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-medium",children:s?"Uploading...":"Drop image here or click to upload"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"PNG, JPG, GIF up to 5MB"})]}),!s&&a.jsxs(ne,{type:"button",variant:"outline",size:"sm",className:"bg-white",children:[a.jsx(Kk,{className:"h-4 w-4 mr-2"}),"Choose File"]})]})]}),s&&a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Uploading image..."})]})]})},er="products",$g={async getAllProducts(){try{const t=Ni(vs(Ut,er),tr("isActive","==",!0),Ao("createdAt","desc"));return(await Ii(t)).docs.map(n=>{var r,s;return{id:n.id,...n.data(),createdAt:((r=n.data().createdAt)==null?void 0:r.toDate())||new Date,updatedAt:((s=n.data().updatedAt)==null?void 0:s.toDate())||new Date}})}catch(t){throw console.error("Error fetching products:",t),t}},async getProductsByCategory(t){try{const e=Ni(vs(Ut,er),tr("category","array-contains",t),tr("isActive","==",!0),Ao("createdAt","desc")),n=Ni(vs(Ut,er),tr("category","==",t),tr("isActive","==",!0),Ao("createdAt","desc")),[r,s]=await Promise.all([Ii(e).catch(()=>({docs:[]})),Ii(n).catch(()=>({docs:[]}))]),i=new Map;return r.docs.forEach(o=>{var l,u;i.set(o.id,{id:o.id,...o.data(),createdAt:((l=o.data().createdAt)==null?void 0:l.toDate())||new Date,updatedAt:((u=o.data().updatedAt)==null?void 0:u.toDate())||new Date})}),s.docs.forEach(o=>{var l,u;i.has(o.id)||i.set(o.id,{id:o.id,...o.data(),createdAt:((l=o.data().createdAt)==null?void 0:l.toDate())||new Date,updatedAt:((u=o.data().updatedAt)==null?void 0:u.toDate())||new Date})}),Array.from(i.values())}catch(e){throw console.error("Error fetching products by category:",e),e}},async getProductsBySubCategory(t){try{const e=Ni(vs(Ut,er),tr("subCategory","array-contains",t),tr("isActive","==",!0),Ao("createdAt","desc")),n=Ni(vs(Ut,er),tr("subCategory","==",t),tr("isActive","==",!0),Ao("createdAt","desc")),[r,s]=await Promise.all([Ii(e).catch(()=>({docs:[]})),Ii(n).catch(()=>({docs:[]}))]),i=new Map;return r.docs.forEach(o=>{var l,u;i.set(o.id,{id:o.id,...o.data(),createdAt:((l=o.data().createdAt)==null?void 0:l.toDate())||new Date,updatedAt:((u=o.data().updatedAt)==null?void 0:u.toDate())||new Date})}),s.docs.forEach(o=>{var l,u;i.has(o.id)||i.set(o.id,{id:o.id,...o.data(),createdAt:((l=o.data().createdAt)==null?void 0:l.toDate())||new Date,updatedAt:((u=o.data().updatedAt)==null?void 0:u.toDate())||new Date})}),Array.from(i.values())}catch(e){throw console.error("Error fetching products by sub-category:",e),e}},async getProductsByCategoryAndSubCategory(t,e){try{return(await this.getAllProducts()).filter(r=>!(Array.isArray(r.category)?r.category.includes(t):r.category===t)||!r.subCategory?!1:Array.isArray(r.subCategory)?r.subCategory.includes(e):r.subCategory===e)}catch(n){throw console.error("Error fetching products by category and sub-category:",n),n}},async getProductById(t){var e,n;try{const r=Ms(Ut,er,t),s=await fI(r);return s.exists()?{id:s.id,...s.data(),createdAt:((e=s.data().createdAt)==null?void 0:e.toDate())||new Date,updatedAt:((n=s.data().updatedAt)==null?void 0:n.toDate())||new Date}:null}catch(r){throw console.error("Error fetching product:",r),r}},async addProduct(t){try{const e={...t,inStock:t.stockCount>0,rating:5,reviews:0,isActive:!0,createdAt:new Date,updatedAt:new Date};return(await mI(vs(Ut,er),{...e,createdAt:Ie.fromDate(e.createdAt),updatedAt:Ie.fromDate(e.updatedAt)})).id}catch(e){throw console.error("Error adding product:",e),e}},async updateProduct(t,e){try{const n=Ms(Ut,er,t),r={...e,inStock:e.stockCount?e.stockCount>0:void 0,updatedAt:Ie.fromDate(new Date)};Object.keys(r).forEach(s=>{r[s]===void 0&&delete r[s]}),await Nd(n,r)}catch(n){throw console.error("Error updating product:",n),n}},async deleteProduct(t){try{const e=Ms(Ut,er,t);await Nd(e,{isActive:!1,updatedAt:Ie.fromDate(new Date)})}catch(e){throw console.error("Error deleting product:",e),e}},async searchProducts(t){try{const e=await this.getAllProducts(),n=t.toLowerCase();return e.filter(r=>{const s=Array.isArray(r.category)?r.category.join(" "):r.category,i=r.subCategory?Array.isArray(r.subCategory)?r.subCategory.join(" "):r.subCategory:"";return r.name.toLowerCase().includes(n)||r.description.toLowerCase().includes(n)||r.brand.toLowerCase().includes(n)||s.toLowerCase().includes(n)||i.toLowerCase().includes(n)})}catch(e){throw console.error("Error searching products:",e),e}},async getCategories(){try{const t=await this.getAllProducts(),e=new Set;t.forEach(r=>{Array.isArray(r.category)?r.category.forEach(s=>e.add(s)):e.add(r.category)});const n=Array.from(e);return n.sort(),n}catch(t){throw console.error("Error fetching categories:",t),t}},async getSubCategories(){try{const t=await this.getAllProducts(),e=new Set;t.forEach(r=>{r.subCategory&&(Array.isArray(r.subCategory)?r.subCategory.forEach(s=>e.add(s)):e.add(r.subCategory))});const n=Array.from(e);return n.sort(),n}catch(t){throw console.error("Error fetching sub-categories:",t),t}},async updateStock(t,e){try{const n=Ms(Ut,er,t);await Nd(n,{stockCount:e,inStock:e>0,updatedAt:Ie.fromDate(new Date)})}catch(n){throw console.error("Error updating stock:",n),n}}};En.map(t=>t.id);const j7=({product:t,onSave:e,onCancel:n})=>{const[r,s]=v.useState({name:"",brand:"",price:0,originalPrice:void 0,description:"",image:"",imagePublicId:"",category:[],subCategory:[],stockCount:0,specifications:{},features:[""],priority:void 0}),[i,o]=v.useState([{key:"",value:""}]),[l,u]=v.useState([]),[d,h]=v.useState([]),[f,p]=v.useState(new Set),[g,y]=v.useState(!1),[w,_]=v.useState(""),b=l.flatMap(D=>Og(D));v.useEffect(()=>{if(t){const D=Array.isArray(t.category)?t.category:[t.category],M=t.subCategory?Array.isArray(t.subCategory)?t.subCategory:[t.subCategory]:[];u(D),h(M),s({name:t.name,brand:t.brand,price:t.price,originalPrice:t.originalPrice,description:t.description,image:t.image,imagePublicId:t.imagePublicId,category:t.category,subCategory:t.subCategory,stockCount:t.stockCount,specifications:t.specifications,features:t.features,priority:t.priority});const U=Object.entries(t.specifications).map(([Y,G])=>({key:Y,value:G}));o(U.length>0?U:[{key:"",value:""}])}},[t]);const E=D=>{p(M=>{const U=new Set(M);return U.has(D)?U.delete(D):U.add(D),U})},T=D=>{u(M=>{const U=M.includes(D)?M.filter(Y=>Y!==D):[...M,D];if(!U.includes(D)){const Y=Og(D).map(G=>G.id);h(G=>G.filter(ee=>!Y.includes(ee)))}return O(U,d),U})},A=D=>{h(M=>{const U=M.includes(D)?M.filter(Y=>Y!==D):[...M,D];return O(l,U),U})},O=(D,M)=>{s(U=>({...U,category:D.length===1?D[0]:D,subCategory:M.length===0?void 0:M.length===1?M[0]:M}))},L=D=>{T(D)},C=D=>{A(D)},S=(D,M)=>{s(U=>({...U,[D]:M}))},P=(D,M)=>{S("image",D),S("imagePublicId",M)},R=()=>{S("image",""),S("imagePublicId","")},N=()=>{s(D=>({...D,features:[...D.features,""]}))},j=D=>{r.features.length>1&&s(M=>({...M,features:M.features.filter((U,Y)=>Y!==D)}))},k=(D,M)=>{s(U=>({...U,features:U.features.map((Y,G)=>G===D?M:Y)}))},q=()=>{o(D=>[...D,{key:"",value:""}])},re=D=>{i.length>1&&o(M=>M.filter((U,Y)=>Y!==D))},H=(D,M,U)=>{o(Y=>Y.map((G,ee)=>ee===D?{...G,[M]:U}:G))},J=async D=>{D.preventDefault(),y(!0),_("");try{const M=i.reduce((G,ee)=>(ee.key.trim()&&ee.value.trim()&&(G[ee.key.trim()]=ee.value.trim()),G),{}),U=r.features.filter(G=>G.trim().length>0),Y={...r,features:U,specifications:M};t!=null&&t.id?await $g.updateProduct(t.id,Y):await $g.addProduct(Y),e()}catch(M){_(M.message||"Failed to save product")}finally{y(!1)}};return a.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsxs(ne,{variant:"ghost",onClick:n,className:"mr-4",children:[a.jsx(xa,{className:"h-4 w-4 mr-2"}),"Back"]}),a.jsx("h1",{className:"text-2xl font-bold",children:t?"Edit Product":"Add New Product"})]}),w&&a.jsx("div",{className:"bg-destructive/15 text-destructive p-4 rounded-lg mb-6",children:w}),a.jsxs("form",{onSubmit:J,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(Ce,{children:[a.jsx(jr,{children:a.jsx(Dr,{children:"Basic Information"})}),a.jsxs(Ne,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Product Name"}),a.jsx("input",{type:"text",value:r.name,onChange:D=>S("name",D.target.value),className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Brand"}),a.jsx("input",{type:"text",value:r.brand,onChange:D=>S("brand",D.target.value),className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Main Categories"}),l.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:l.map(D=>{const M=En.find(U=>U.id===D);return a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-primary/10 text-primary",children:[(M==null?void 0:M.name)||D,a.jsx("button",{type:"button",onClick:()=>L(D),className:"ml-2 hover:bg-primary/20 rounded-full p-0.5",children:a.jsx(Ea,{className:"h-3 w-3"})})]},D)})}),a.jsx("div",{className:"border border-border rounded-lg max-h-60 overflow-y-auto",children:En.map(D=>a.jsxs("div",{className:"border-b border-border last:border-b-0",children:[a.jsxs("div",{className:"flex items-center p-3",children:[a.jsxs("label",{className:"flex items-center flex-1 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:l.includes(D.id),onChange:()=>T(D.id),className:"mr-3 rounded border-border"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium",children:D.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:D.description})]})]}),D.subCategories&&D.subCategories.length>0&&a.jsx(ne,{type:"button",variant:"ghost",size:"sm",onClick:()=>E(D.id),className:"p-1 h-auto ml-2",children:a.jsx($i,{className:`h-4 w-4 transition-transform ${f.has(D.id)?"rotate-180":""}`})})]}),D.subCategories&&D.subCategories.length>0&&f.has(D.id)&&a.jsxs("div",{className:"pl-6 pb-3 bg-secondary/5",children:[a.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2 uppercase tracking-wide",children:"Sub-categories"}),D.subCategories.map(M=>a.jsxs("label",{className:"flex items-center py-1 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:d.includes(M.id),onChange:()=>A(M.id),disabled:!l.includes(D.id),className:"mr-2 rounded border-border"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm",children:M.name}),M.description&&a.jsx("p",{className:"text-xs text-muted-foreground",children:M.description})]})]},M.id))]})]},D.id))}),l.length===0&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please select at least one main category"})]}),d.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Selected Sub-categories"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(D=>{const M=b.find(U=>U.id===D);return a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-primary/10 text-primary",children:[(M==null?void 0:M.name)||D,a.jsx("button",{type:"button",onClick:()=>C(D),className:"ml-2 hover:bg-secondary/30 rounded-full p-0.5",children:a.jsx(Ea,{className:"h-3 w-3"})})]},D)})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Price (₦)"}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:r.price,onChange:D=>S("price",parseFloat(D.target.value)),className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Original Price (₦)"}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:r.originalPrice||"",onChange:D=>S("originalPrice",D.target.value?parseFloat(D.target.value):void 0),className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary",placeholder:"Optional"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Stock Count"}),a.jsx("input",{type:"number",min:"0",value:r.stockCount,onChange:D=>S("stockCount",parseInt(D.target.value)),className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Priority Number"}),a.jsx("input",{type:"number",min:"0",step:"1",value:r.priority||"",onChange:D=>S("priority",D.target.value?parseInt(D.target.value):void 0),className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary",placeholder:"Optional - lower numbers appear first"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Products with priority numbers appear first (1 = highest priority). Leave empty for default sorting."})]})]})]}),a.jsxs(Ce,{children:[a.jsx(jr,{children:a.jsx(Dr,{children:"Product Image"})}),a.jsx(Ne,{children:a.jsx(k7,{onImageUploaded:P,onImageRemoved:R,currentImage:r.image})})]})]}),a.jsxs(Ce,{children:[a.jsx(jr,{children:a.jsx(Dr,{children:"Description"})}),a.jsx(Ne,{children:a.jsx("textarea",{value:r.description,onChange:D=>S("description",D.target.value),rows:4,className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary",placeholder:"Detailed product description...",required:!0})})]}),a.jsxs(Ce,{children:[a.jsx(jr,{children:a.jsxs(Dr,{className:"flex items-center justify-between",children:["Features",a.jsx(ne,{type:"button",onClick:N,variant:"outline",size:"sm",className:"bg-white",children:a.jsx(wa,{className:"h-4 w-4"})})]})}),a.jsx(Ne,{className:"space-y-3",children:r.features.map((D,M)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"text",value:D,onChange:U=>k(M,U.target.value),className:"flex-1 px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary",placeholder:`Feature ${M+1}`}),r.features.length>1&&a.jsx(ne,{type:"button",onClick:()=>j(M),variant:"outline",size:"sm",children:a.jsx(hc,{className:"h-4 w-4"})})]},M))})]}),a.jsxs(Ce,{children:[a.jsx(jr,{children:a.jsxs(Dr,{className:"flex items-center justify-between",children:["Specifications",a.jsx(ne,{type:"button",onClick:q,variant:"outline",size:"sm",className:"bg-white",children:a.jsx(wa,{className:"h-4 w-4"})})]})}),a.jsx(Ne,{className:"space-y-3",children:i.map((D,M)=>a.jsxs("div",{className:"grid grid-cols-5 gap-2 items-center",children:[a.jsx("input",{type:"text",value:D.key,onChange:U=>H(M,"key",U.target.value),className:"col-span-2 px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary",placeholder:"Property name"}),a.jsx("input",{type:"text",value:D.value,onChange:U=>H(M,"value",U.target.value),className:"col-span-2 px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary",placeholder:"Value"}),i.length>1&&a.jsx(ne,{type:"button",onClick:()=>re(M),variant:"outline",size:"sm",children:a.jsx(hc,{className:"h-4 w-4"})})]},M))})]}),a.jsxs("div",{className:"flex justify-end space-x-4",children:[a.jsx(ne,{type:"button",variant:"outline",onClick:n,className:"bg-white",children:"Cancel"}),a.jsxs(ne,{type:"submit",disabled:g||!r.image||l.length===0,className:"btn-racing",children:[a.jsx(Uk,{className:"h-4 w-4 mr-2"}),g?"Saving...":t?"Update Product":"Add Product"]})]})]})]})},D7=async()=>{try{console.log("Starting to sync products to Firebase...");for(const t of xI){const e=vs(Ut,"products"),n=Ni(e,tr("name","==",t.name)),r=await Ii(n),s={id:t.id,name:t.name,price:t.price,originalPrice:t.originalPrice||null,image:t.image,category:t.category,subCategory:t.subCategory||null,brand:t.brand||"Unknown",description:t.description,specifications:t.specifications||{},inStock:t.inStock,stockCount:t.stockCount||0,rating:t.rating||4,reviews:t.reviews||0,features:t.features||[],videos:t.videos||[],isActive:!0,imagePublicId:null};if(r.empty)await mI(e,{...s,createdAt:new Date}),console.log(`Added new product: ${t.name}`);else{const i=r.docs[0];await Nd(Ms(Ut,"products",i.id),{...s,updatedAt:new Date}),console.log(`Updated existing product: ${t.name}`)}}console.log("Sync completed successfully!")}catch(t){throw console.error("Error syncing products:",t),t}},M7=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState(""),s=async()=>{e(!0),r("");try{await D7(),r("Products synced successfully!")}catch{r("Error syncing products. Check console for details.")}finally{e(!1)}};return a.jsxs(Ce,{className:"mb-6",children:[a.jsx(jr,{children:a.jsx(Dr,{children:"Sync Static Products"})}),a.jsxs(Ne,{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This will add all products from your static file to Firebase (one-time operation)."}),a.jsx("div",{className:"flex space-x-4",children:a.jsx(ne,{onClick:s,disabled:t,className:`${t?"opacity-50 cursor-not-allowed":""}`,children:t?"Syncing...":"Sync Products"})}),n&&a.jsx("p",{className:`mt-2 text-sm ${n.includes("Error")?"text-red-600":"text-green-600"}`,children:n})]})]})},O7=()=>{const[t,e]=v.useState([]),[n,r]=v.useState([]),[s,i]=v.useState(!0),[o,l]=v.useState(!1),[u,d]=v.useState(),[h,f]=v.useState(""),[p,g]=v.useState(""),{userProfile:y,isAdmin:w}=Zc();v.useEffect(()=>{if(!w){window.location.href="/";return}_()},[w]),v.useEffect(()=>{b()},[t,h,p]);const _=async()=>{try{i(!0);const A=await $g.getAllProducts();e(A)}catch(A){console.error("Failed to fetch products:",A)}finally{i(!1)}},b=()=>{let A=t;h&&(A=A.filter(O=>O.name.toLowerCase().includes(h.toLowerCase())||O.brand.toLowerCase().includes(h.toLowerCase()))),p&&(A=A.filter(O=>O.category===p)),r(A)},E=()=>{d(void 0),l(!0)},T=()=>{l(!1),d(void 0),_()};return[...new Set(t.map(A=>A.category))],t.length,t.filter(A=>A.inStock).length,t.reduce((A,O)=>A+O.price*O.stockCount,0),w?o?a.jsx(j7,{product:u,onSave:T,onCancel:()=>{l(!1),d(void 0)}}):a.jsx("div",{className:"min-h-screen bg-white p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),a.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",y==null?void 0:y.displayName]})]}),a.jsxs(ne,{onClick:E,className:"btn-racing",children:[a.jsx(wa,{className:"h-4 w-4 mr-2"}),"Add Product"]})]}),a.jsx(M7,{})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Ce,{children:a.jsxs(Ne,{className:"p-8 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access this page."})]})})})},L7=({children:t,requireAdmin:e=!1})=>{const{user:n,userProfile:r,loading:s}=Zc(),i=Yn();return s?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{children:"Loading..."})]})}):n?e&&(r==null?void 0:r.role)!=="admin"?a.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have permission to access this page."}),a.jsx(Uw,{to:"/",replace:!0})]})}):a.jsx(a.Fragment,{children:t}):a.jsx(Uw,{to:"/login",state:{from:i},replace:!0})},V7=()=>{const{pathname:t}=Yn();return v.useEffect(()=>{window.scrollTo(0,0)},[t]),null},F7=new _M,U7=()=>{const[t,e]=v.useState(!0),[n,r]=v.useState(!1);v.useEffect(()=>{const i=setTimeout(()=>{r(!0)},1e3);return()=>clearTimeout(i)},[]);const s=()=>{e(!1)};return t||!n?a.jsx(z9,{onLoadingComplete:s}):a.jsx(bM,{client:F7,children:a.jsx(F9,{children:a.jsx($9,{children:a.jsx(SO,{children:a.jsxs(XD,{children:[a.jsx(jj,{}),a.jsx(d4,{}),a.jsx(wO,{children:a.jsxs("div",{className:"min-h-screen flex flex-col bg-white text-gray-800",children:[a.jsx(h7,{}),a.jsx(V7,{}),a.jsx("main",{className:"flex-1",children:a.jsxs(fO,{children:[a.jsx(on,{path:"/",element:a.jsx(v7,{})}),a.jsx(on,{path:"/shop",element:a.jsx(x7,{})}),a.jsx(on,{path:"/product/:id",element:a.jsx(_7,{})}),a.jsx(on,{path:"/cart",element:a.jsx(E7,{})}),a.jsx(on,{path:"/checkout",element:a.jsx(b7,{})}),a.jsx(on,{path:"/about",element:a.jsx(T7,{})}),a.jsx(on,{path:"/contact",element:a.jsx(S7,{})}),a.jsx(on,{path:"/account",element:a.jsx(C7,{})}),a.jsx(on,{path:"/login",element:a.jsx(I7,{})}),a.jsx(on,{path:"/signup",element:a.jsx(A7,{})}),a.jsx(on,{path:"/admin",element:a.jsx(L7,{requireAdmin:!0,children:a.jsx(O7,{})})}),a.jsx(on,{path:"*",element:a.jsx(N7,{})})]})}),a.jsx(f7,{})]})})]})})})})})};eT(document.getElementById("root")).render(a.jsx(U7,{}));
